/*

	Quantum Angel Game Engine Codex
	-Virtual Library -

	DATE - 11/05/06
		Copyright - J M Lawlor

	- Major Component -Core Control Component-
	*/#include "pch.h"/*- Minor Component -Player When In Human Form-

*/

//### INCLUDES
#include "Q-PortSHELL-VAR.h"
#include "Q-PortSHELL-FUN.h"
#include <stdlib.h>

#include "Q-Includes.h"
#include "Q-AI-Cortex.h"
#include "Q-AI-Brain.h"
#include "Q-AI-Heart.h"
#include "Q-WE-WorldEffects.h"
#include "Q-WE-PntSprite.h"
#include "Q-ITEM-ItemDef.h"
#include "Q-WE-CloudControl.h"
#include "Q-Structs.h"
#include "Q-WE-MeleeHits.h"
#include "Q-CORE-Avatar.h"
#include "Q-GlobalHeader.h"
#include "Q-Prototypes.h"
#include "Q-WE-EnergyMatrix.h"
#include "Q-ENE-EnergyTypes.h"
#include "Q-WE-BulletSystem.h"
#include "Q-AI-NNbot.h"

#include "Q-NET-ProtoMap.h"

#include "Q-ShellAProtoTypes.h"
#include "Q-WE-ShellATypes.h"

#include "SDL.h"

#include "../../UnSRC/QActiveFramewrk.h"

#if 0
	#define QAGEMODE_SURGERY
#endif

extern QAGE::QActiveFramewrk *QActiveFrameWork;

using namespace GVARS;

namespace GVARS
{

int vecvarDt = 0;
bool vecvarDtDtpress = false;

//##### -+ Player Control Core +- #####

void Q_COREFunctions::PLCore(void)
	{
//**********************************************************************************************************
// View Rotation *******************************************************************************************

#if 0
#ifndef QAGEMODE_SURGERY
	if(KEY_PRESS_DOWN(QIN_LSHIFT))
		{
#pragma message("Server engine is oblivious mouse functions")
#if defined(WIN32)
#if 0 // QAGE_DESKTOP
		// move the mouse to the center of the screen
		SDL_WarpMouse(_->screenx/2, _->screeny/2);
#endif
#endif

		// Calculate the turning and up/down speed
		TURN_SPEED   = abs(temppos.x-_->screenx/2) * 0.002;
		UPDOWN_SPEED = abs(temppos.y-_->screeny/2) * 0.002;
		}
	else
		{
		TURN_SPEED   = 0;
		UPDOWN_SPEED = 0;
		}
#endif
#endif

#pragma message("Server engine is oblivious mouse functions")
#if defined(WIN32)
#if 0 // QAGE_DESKTOP
	GetCursorPos(&temppos);
#endif
#endif

#pragma message("Server engine is oblivious mouse functions")
#if defined(WIN32)
#if 0
	if(g_render->fullscreen)
		{
		// move the mouse to the center of the screen
		mpos.x = _->screenx/2;
		mpos.y = _->screeny/2;

#if 0 // QAGE_DESKTOP
		SetCursorPos(mpos.x,mpos.y);
#endif

		// Calculate the turning and up/down speed
		TURN_SPEED   = abs(temppos.x-mpos.x) * 0.002;
		UPDOWN_SPEED = abs(temppos.y-mpos.y) * 0.002;
		}
	else
		{
		if(KEY_PRESS_DOWN(QIN_LSHIFT))
			{
			// move the mouse to the center of the screen
			mpos.x = _->screenx/2;
			mpos.y = _->screeny/2;

#if 0 // QAGE_DESKTOP
			SetCursorPos(mpos.x,mpos.y);
#endif

			// Calculate the turning and up/down speed
			TURN_SPEED   = abs(temppos.x-mpos.x) * 0.002;
			UPDOWN_SPEED = abs(temppos.y-mpos.y) * 0.002;
			}
		else
			{
			TURN_SPEED   = 0;
			UPDOWN_SPEED = 0;
			}
		}
#endif

	//### Spin the Player and its Avatar ###//

	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 2 && ( player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->WeaponStatus == 6 ))
		{
		TURN_SPEED /= 2.5;
		UPDOWN_SPEED /= 2.5;
		}
#endif

#if 0
	if(!QNetwork.m_Playing)
		{
		if (temppos.x < mpos.x) //mouse left
			{
			if(_->TimeReset == 0 || _->TimeRotate == 1 || _->TimePlayerLock == 1) player[g_Player]->Angles.y = player[g_Player]->Angles.y-(float)TURN_SPEED;
			//else player[g_Player]->STRAngles.y = player[g_Player]->STRAngles.y+(float)TURN_SPEED;

			//Spin the player actor
			if ((!KEY_PRESS_DOWN(QIN_y) && _->TimeHole == 0 && _->TimeReset == 0) || _->TimeRotate == 1)	//<<<<< Optimise Here *******
				{
				if(player[g_Player]->AirJinkRotFG == 0)
					{
					Qpo->Transform_New_YRotation(&AIfriendly, -TURN_SPEED);	/// Originaly -
					Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

					player[g_Player]->trueAngles.y -= (float)TURN_SPEED;

					player[g_Player]->AvatarRotation -= (float)TURN_SPEED;
					if(player[g_Player]->AvatarRotation<0) player[g_Player]->AvatarRotation = (PI*2) + player[g_Player]->AvatarRotation;
					}
				else
					{
					player[g_Player]->trueAngles.y -= (float)TURN_SPEED;
					}
				}

			//adjust the player rotation (make it wrap around)
			//if(_->TimeReset == 0 || _->TimeRotate == 1 || _->TimePlayerLock == 1) if(player[g_Player]->Angles.y>(2*PI)) player[g_Player]->Angles.y=player[g_Player]->Angles.y-(PI*2);
			//else if(player[g_Player]->STRAngles.y>(2*PI)) player[g_Player]->STRAngles.y=player[g_Player]->STRAngles.y-(PI*2);
			if(player[g_Player]->Angles.y <0 ) player[g_Player]->Angles.y = (PI*2) + player[g_Player]->Angles.y;
			if(player[g_Player]->trueAngles.y < 0) player[g_Player]->trueAngles.y = (PI*2) + player[g_Player]->trueAngles.y;
			}

		if (temppos.x > mpos.x) //mouse right
			{
			if(_->TimeReset == 0 || _->TimeRotate == 1 || _->TimePlayerLock == 1) player[g_Player]->Angles.y = player[g_Player]->Angles.y+(float)TURN_SPEED;
			//else player[g_Player]->STRAngles.y = player[g_Player]->STRAngles.y-(float)TURN_SPEED;

			//Spin the player actor
			if ((!KEY_PRESS_DOWN(QIN_y) && _->TimeHole == 0 && _->TimeReset == 0) || _->TimeRotate == 1)	//<<<<< Optimise Here *******
				{
				if(player[g_Player]->AirJinkRotFG == 0)
					{
					Qpo->Transform_New_YRotation(&AIfriendly, TURN_SPEED);	/// Originaly +
					Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

					player[g_Player]->trueAngles.y += (float)TURN_SPEED;

					player[g_Player]->AvatarRotation += (float)TURN_SPEED;
					if(player[g_Player]->AvatarRotation > (2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);
					}
				else
					{
					player[g_Player]->trueAngles.y += (float)TURN_SPEED;
					}
				}

			//adjust the player rotation (make it wrap around)
			//if(_->TimeReset == 0 || _->TimeRotate == 1) if(player[g_Player]->Angles.y<0) player[g_Player]->Angles.y=(PI*2)+player[g_Player]->Angles.y;
			//else if(player[g_Player]->STRAngles.y<0) player[g_Player]->STRAngles.y=(PI*2)+player[g_Player]->STRAngles.y;
			if(player[g_Player]->Angles.y>(2*PI)) player[g_Player]->Angles.y = player[g_Player]->Angles.y-(PI*2);
			if(player[g_Player]->trueAngles.y>(2*PI)) player[g_Player]->trueAngles.y = player[g_Player]->trueAngles.y-(PI*2);
			}
		}
	else
		{
		if (temppos.x < mpos.x) //mouse left
			{
			if(_->TimeReset == 0 || _->TimeRotate == 1 || _->TimePlayerLock == 1) player[g_Player]->Angles.y = player[g_Player]->Angles.y-(float)TURN_SPEED;

			if(player[g_Player]->Angles.y <0 ) player[g_Player]->Angles.y = (PI*2) + player[g_Player]->Angles.y;
			if(player[g_Player]->trueAngles.y < 0) player[g_Player]->trueAngles.y = (PI*2) + player[g_Player]->trueAngles.y;
			}

		if (temppos.x > mpos.x) //mouse right
			{
			if(_->TimeReset == 0 || _->TimeRotate == 1 || _->TimePlayerLock == 1) player[g_Player]->Angles.y = player[g_Player]->Angles.y+(float)TURN_SPEED;

			if(player[g_Player]->Angles.y>(2*PI)) player[g_Player]->Angles.y = player[g_Player]->Angles.y-(PI*2);
			if(player[g_Player]->trueAngles.y>(2*PI)) player[g_Player]->trueAngles.y = player[g_Player]->trueAngles.y-(PI*2);
			}

		//Spin the player actor
		TURN_SPEED = (player[g_Player]->NetRotation + (PI/2)) - player[g_Player]->AvatarRotation;

		Qpo->Transform_New_YRotation(&AIfriendly, TURN_SPEED);	/// Originaly -
		Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);
		player[g_Player]->AvatarRotation += (float)TURN_SPEED;
		if(player[g_Player]->AvatarRotation < 0) player[g_Player]->AvatarRotation = (PI*2) + player[g_Player]->AvatarRotation;
		if(player[g_Player]->Angles.y > (2*PI)) player[g_Player]->AvatarRotation = 0;
		player[g_Player]->trueAngles.y += (float)TURN_SPEED;
		}
#else

	player[g_Player]->Angles.y -= (float)TURN_SPEED;
	player[g_Player]->STRAngles.y += (float)TURN_SPEED;
	player[g_Player]->trueAngles.y -= (float)TURN_SPEED;

	float f_rotation;
	f_rotation = (player[g_Player]->trueAngles.y + PI) - player[g_Player]->AvatarRotation;

	if(_->TimeHole != 0) f_rotation /= 100;	//'10' V usefull '10'

	if(player[g_Player]->AirJinkRotFG == 0)
		{
		Qpo->Transform_New_YRotation(&AIfriendly, f_rotation);	/// Originaly -
		Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

		player[g_Player]->AvatarRotation += f_rotation;
		}

#endif

#if 0
	//Time Reset
	if(_->TimeReset == 1 && _->TimePlayerLock == 0)
		{
		if(player[g_Player]->Angles.y > player[g_Player]->STRAngles.y)
			{
			if((((PI*2) - player[g_Player]->Angles.y) + player[g_Player]->STRAngles.y) < (player[g_Player]->Angles.y - player[g_Player]->STRAngles.y))
				{
				Qpo->Transform_New_YRotation(&AIfriendly, -((((PI*2) - player[g_Player]->Angles.y) + player[g_Player]->STRAngles.y)/5));
				Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

				player[g_Player]->trueAngles.y-=((((PI*2) - player[g_Player]->Angles.y) + player[g_Player]->STRAngles.y)/5);

				player[g_Player]->AvatarRotation -= ((((PI*2) - player[g_Player]->Angles.y) + player[g_Player]->STRAngles.y)/5);
				if(player[g_Player]->AvatarRotation<0) player[g_Player]->AvatarRotation=(PI*2)+player[g_Player]->AvatarRotation;

				player[g_Player]->STRAngles.y -= ((((PI*2) - player[g_Player]->Angles.y) + player[g_Player]->STRAngles.y)/5);

				if(player[g_Player]->STRAngles.y>(2*PI)) player[g_Player]->STRAngles.y=player[g_Player]->STRAngles.y-(PI*2);
				if(player[g_Player]->STRAngles.y<0) player[g_Player]->STRAngles.y=(PI*2)+player[g_Player]->STRAngles.y;
				if(player[g_Player]->Angles.y>(2*PI)) player[g_Player]->Angles.y=player[g_Player]->Angles.y-(PI*2);
				if(player[g_Player]->Angles.y<0) player[g_Player]->Angles.y=(PI*2)+player[g_Player]->Angles.y;
				}
			else
				{
				Qpo->Transform_New_YRotation(&AIfriendly, (player[g_Player]->Angles.y - player[g_Player]->STRAngles.y)/5);
				Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

				player[g_Player]->trueAngles.y+=((player[g_Player]->Angles.y - player[g_Player]->STRAngles.y)/5);

				player[g_Player]->AvatarRotation += (player[g_Player]->Angles.y - player[g_Player]->STRAngles.y)/5;
				if(player[g_Player]->AvatarRotation>(2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);

				player[g_Player]->STRAngles.y += (player[g_Player]->Angles.y - player[g_Player]->STRAngles.y)/5;

				if(player[g_Player]->STRAngles.y>(2*PI)) player[g_Player]->STRAngles.y=player[g_Player]->STRAngles.y-(PI*2);
				if(player[g_Player]->STRAngles.y<0) player[g_Player]->STRAngles.y=(PI*2)+player[g_Player]->STRAngles.y;
				}
			}

		if(player[g_Player]->Angles.y < player[g_Player]->STRAngles.y)
			{
			if((((PI*2) - player[g_Player]->STRAngles.y) + player[g_Player]->Angles.y) < (player[g_Player]->STRAngles.y - player[g_Player]->Angles.y))
				{
				Qpo->Transform_New_YRotation(&AIfriendly, ((((PI*2) - player[g_Player]->STRAngles.y) + player[g_Player]->Angles.y)/5));
				Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

				player[g_Player]->trueAngles.y+=((((PI*2) - player[g_Player]->STRAngles.y) + player[g_Player]->Angles.y)/5);

				player[g_Player]->AvatarRotation += ((((PI*2) - player[g_Player]->STRAngles.y) + player[g_Player]->Angles.y)/5);
				if(player[g_Player]->AvatarRotation>(2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);

				player[g_Player]->STRAngles.y += ((((PI*2) - player[g_Player]->STRAngles.y) + player[g_Player]->Angles.y)/5);

				if(player[g_Player]->STRAngles.y>(2*PI)) player[g_Player]->STRAngles.y=player[g_Player]->STRAngles.y-(PI*2);
				if(player[g_Player]->STRAngles.y<0) player[g_Player]->STRAngles.y=(PI*2)+player[g_Player]->STRAngles.y;
				if(player[g_Player]->Angles.y>(2*PI)) player[g_Player]->Angles.y=player[g_Player]->Angles.y-(PI*2);
				if(player[g_Player]->Angles.y<0) player[g_Player]->Angles.y=(PI*2)+player[g_Player]->Angles.y;
				}
			else
				{
				Qpo->Transform_New_YRotation(&AIfriendly, -(player[g_Player]->STRAngles.y - player[g_Player]->Angles.y)/5);
				Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &AIfriendly, &playerAV[g_Player]->Xform);

				player[g_Player]->trueAngles.y-=((player[g_Player]->STRAngles.y - player[g_Player]->Angles.y)/5);

				player[g_Player]->AvatarRotation -= (player[g_Player]->STRAngles.y - player[g_Player]->Angles.y)/5;
				if(player[g_Player]->AvatarRotation<0) player[g_Player]->AvatarRotation=(PI*2)+player[g_Player]->AvatarRotation;

				player[g_Player]->STRAngles.y -= (player[g_Player]->STRAngles.y - player[g_Player]->Angles.y)/5;

				if(player[g_Player]->STRAngles.y>(2*PI)) player[g_Player]->STRAngles.y=player[g_Player]->STRAngles.y-(PI*2);
				if(player[g_Player]->STRAngles.y<0) player[g_Player]->STRAngles.y=(PI*2)+player[g_Player]->STRAngles.y;
				}
			}
		}
#endif

	player[g_Player]->Angles.x = player[g_Player]->Angles.x-(float)UPDOWN_SPEED;

	//## Air Rush Rotation
	if(player[g_Player]->AirJinkRotFG == 1)
		{
		player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;

		player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - PI;// - player[g_Player]->STOREAngles.y - PI;

		if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
		if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;

		player[g_Player]->AvatarRotation = player[g_Player]->Angles.y;// - player[g_Player]->STOREAngles.y;

		if(player[g_Player]->AvatarRotation > (2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);
		if(player[g_Player]->AvatarRotation < 0) player[g_Player]->AvatarRotation = (PI*2) + player[g_Player]->AvatarRotation;

#if 0
		player[g_Player]->ROTATEMatrix.Translation.x = 0;
		player[g_Player]->ROTATEMatrix.Translation.y = 0;
		player[g_Player]->ROTATEMatrix.Translation.z = 0;
		player[g_Player]->ROTATEMatrix.Matrix.set_translate(pVector(0,0,0));
#endif

#if 0
		Qpo->Transform_New_YRotation(&AIfriendly, -(PI/2));	/// Originaly -
		Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);

		Qpo->Transform_New_ZRotation(&AIfriendly, PI);	/// Originaly -
		Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);

		Qpo->Transform_New_XRotation(&AIfriendly, -(player[g_Player]->Angles.x) - (PI/2));	/// Originaly -
		Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
		//Qpo->Transform_RotateX(&player[g_Player]->ROTATEMatrix, -(player[g_Player]->Angles.x) - (PI/2));

		Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + (PI/2));	/// Originaly -
		Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);

		Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);

		playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
#endif

#pragma message("Server engine is oblivious to rendering matrices")
#if defined(WIN32)
#if 0 // QAGE_DESKTOP
		glMatrixMode(GL_MODELVIEW);
		glLoadIdentity();
		glMultMatrixf((float *)&player[g_Player]->ROTATEMatrix.Matrix);

		glRotatef(radToDeg(player[g_Player]->Angles.x) + 90, 0.0f, 1.0f, 0.0f);				// Rotate X, Y, Z
		glRotatef(radToDeg(-player[g_Player]->AJAngles.y), 0.0f, 0.0f, 1.0f);

		glGetFloatv(GL_MODELVIEW_MATRIX, playerAV[g_Player]->Xform.Matrix.mf);

		glLoadIdentity();
		glMultMatrixf((float *)&player[g_Player]->ROTATEMatrix.Matrix);

		glRotatef(radToDeg(-player[g_Player]->AJAngles.y), 0.0f, 0.0f, 1.0f);
		glRotatef(radToDeg(player[g_Player]->Angles.x) + 90, 0.0f, 1.0f, 0.0f);				// Rotate X, Y, Z

		glGetFloatv(GL_MODELVIEW_MATRIX, playerAV[g_Player]->Viewform.mf);

		glLoadIdentity();
		glMultMatrixf((float *)&player[g_Player]->ROTATEMatrix.Matrix);

		glRotatef(radToDeg(-player[g_Player]->AvatarRotation), 0.0f, 0.0f, 1.0f);

		glGetFloatv(GL_MODELVIEW_MATRIX, playerAV[g_Player]->Weaponform.mf);
#endif
#endif
		}
	else
		{
		player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;

		player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;

		if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
		if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;

#pragma message("Server engine is oblivious to rendering matrices")
#if defined(WIN32)
#if 0 // QAGE_DESKTOP
		glMatrixMode(GL_MODELVIEW);
		glLoadIdentity();
		glMultMatrixf((float *)&player[g_Player]->ROTATEMatrix.Matrix);

		glRotatef(radToDeg(-player[g_Player]->AvatarRotation), 0.0f, 0.0f, 1.0f);

#if 0
		glRotatef(radToDeg(player[g_Player]->Angles.x) + 90, 0.0f, 1.0f, 0.0f);				// Rotate X, Y, Z
#endif

		glGetFloatv(GL_MODELVIEW_MATRIX, playerAV[g_Player]->Viewform.mf);
#endif
#endif
		}


	//#### Cancel AirJink Status for Wall Run NET ONLY
	if(_->NetworkOption == 1)
		{
		if(player[g_Player]->Mposestate == 9 && player[g_Player]->AirJinkRotFG == 1)
			{
			player[g_Player]->AirJinkRotFG = 0;
			player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
			player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
			if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
			if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
			Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
			Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
			Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
			playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
			}
		}

#ifndef QAGEMODE_SURGERY
	// Make sure we arent looking too far up or down
	if (player[g_Player]->Angles.x > 0) player[g_Player]->Angles.x = 0;
	if (player[g_Player]->Angles.x < -3) player[g_Player]->Angles.x = -3;
#endif

	//########==---  GENERIC INPUT  ---==#########

	//### Weapon ZOOM
	if(KEY_PRESS_DOWN(QIN_CAPSLOCK) && /*(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE > 0) &&*/ player[g_Player]->CrouchInit == 0)
		{
		if(player[g_Player]->WeaponZoomFACT < 1) player[g_Player]->WeaponZoomFACT += 0.1;
		else
			{
			player[g_Player]->WeaponZoomFACT = 1;
			player[g_Player]->WeaponZOOM = 1;
			}
		}
	else
		{
		if(player[g_Player]->WeaponZoomFACT > 0) player[g_Player]->WeaponZoomFACT -= 0.1;
		else
			{
			player[g_Player]->WeaponZoomFACT = 0;
			player[g_Player]->WeaponZOOM = 0;
			}
		}


#if 0
	if((KEY_PRESS_DOWN(QIN_p)) && (_->MusicDEPRESS == 0) && (_->MusicSWITCH != 1))
		{
		/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

			//'MUSAC'
		Qpo->Sound_Play(Medias->LoopingDef3, _->Volume, _->Pan, _->S_TimeScale, true, &player[g_Player]->ViewXForm.Translation);
		_->MusicDEPRESS = 1;
		_->MusicSWITCH = 1;
		}
#endif


	//*----Player Reload (r)----*
	if((KEY_PRESS_DOWN(QIN_r)) && (player[g_Player]->WeaponStatus > 0))
		{
		player[g_Player]->WeaponStatus = 8;
		player[g_Player]->attposecnt = 0;
		player[g_Player]->blendamount[58] = 0;
		Q_Forge->Forge[0].Q_Brain.MeMBank[Q_Forge->Forge[0].Q_Brain.ATTMmemID].AIsPresent[Q_Forge->Forge[0].Q_Brain.MeMBank[Q_Forge->Forge[0].Q_Brain.ATTMmemID].MeMLockID].Pos = playerAV[g_Player]->Xform.Translation;
		Q_Forge->Forge[0].Q_Brain.MeMBank[Q_Forge->Forge[0].Q_Brain.ATTMmemID].AIsPresent[Q_Forge->Forge[0].Q_Brain.MeMBank[Q_Forge->Forge[0].Q_Brain.ATTMmemID].MeMLockID].Pos.y += 65;
		Q_Forge->Forge[1].Q_Brain.MeMBank[Q_Forge->Forge[1].Q_Brain.ATTMmemID].AIsPresent[Q_Forge->Forge[1].Q_Brain.MeMBank[Q_Forge->Forge[1].Q_Brain.ATTMmemID].MeMLockID].Pos = playerAV[g_Player]->Xform.Translation;
		Q_Forge->Forge[1].Q_Brain.MeMBank[Q_Forge->Forge[1].Q_Brain.ATTMmemID].AIsPresent[Q_Forge->Forge[1].Q_Brain.MeMBank[Q_Forge->Forge[1].Q_Brain.ATTMmemID].MeMLockID].Pos.y += 65;
		Q_Forge->Forge[2].Q_Brain.MeMBank[Q_Forge->Forge[2].Q_Brain.ATTMmemID].AIsPresent[Q_Forge->Forge[2].Q_Brain.MeMBank[Q_Forge->Forge[2].Q_Brain.ATTMmemID].MeMLockID].Pos = playerAV[g_Player]->Xform.Translation;
		Q_Forge->Forge[2].Q_Brain.MeMBank[Q_Forge->Forge[2].Q_Brain.ATTMmemID].AIsPresent[Q_Forge->Forge[2].Q_Brain.MeMBank[Q_Forge->Forge[2].Q_Brain.ATTMmemID].MeMLockID].Pos.y += 65;
		}


	//EDIT unsure About Sound Types
	/*if((KEY_PRESS_DOWN(QIN_p)) && (_->MusicDEPRESS == 0) && (_->MusicSWITCH != 2))
		{
		Qpo->Sound_Stop(SoundSys, &Medias->LoopingDef3);
		_->MusicSWITCH = 2;
		}*/

	if(!(KEY_PRESS_DOWN(QIN_p)))
		{
		_->MusicDEPRESS = 0;
		}


	//*----Camera Control----*

	if (KEY_PRESS_DOWN(QIN_HOME))
		{
		player[g_Player]->camrotdist -= 5;
		}

	if (KEY_PRESS_DOWN(QIN_END))
		{
		player[g_Player]->camrotdist += 5;
		}


	//*----Scanner----*

	if(KEY_PRESS_DOWN(QIN_F17))
		{
		if(ScanKEYPRESS == 0)
			{
			if(player[g_Player]->Scan == 0)
				{
				player[g_Player]->Scan = 1;
				player[g_Player]->ScanInit = 1;
				player[g_Player]->ScanBitAlpha = 20;
				player[g_Player]->ScanBitHeight = -600;
				player[g_Player]->ScanBoneAlpha = 0;
				player[g_Player]->ScanBoxAlpha = 0;
				player[g_Player]->ScanBoxScale = 0;

				//##### INITIALISE VAPOR TRAILS
				/*Q_VaporTrail->VaporTrail[0].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[0].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[0].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[0].NomPoints = 0;
				Q_VaporTrail->VaporTrail[0].Live = 1;
				Q_VaporTrail->VaporTrail[1].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[1].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[1].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[1].NomPoints = 0;
				Q_VaporTrail->VaporTrail[1].Live = 1;
				Q_VaporTrail->VaporTrail[2].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[2].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[2].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[2].NomPoints = 0;
				Q_VaporTrail->VaporTrail[2].Live = 1;
				Q_VaporTrail->VaporTrail[3].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[3].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[3].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[3].NomPoints = 0;
				Q_VaporTrail->VaporTrail[3].Live = 1;
				Q_VaporTrail->VaporTrail[4].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[4].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[4].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[4].NomPoints = 0;
				Q_VaporTrail->VaporTrail[4].Live = 1;
				Q_VaporTrail->VaporTrail[5].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[5].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[5].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[5].NomPoints = 0;
				Q_VaporTrail->VaporTrail[5].Live = 1;
				Q_VaporTrail->VaporTrail[6].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[6].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[6].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[6].NomPoints = 0;
				Q_VaporTrail->VaporTrail[6].Live = 1;
				Q_VaporTrail->VaporTrail[7].StartWidth = 0.5;
				Q_VaporTrail->VaporTrail[7].WidthExpand = 0.5;
				Q_VaporTrail->VaporTrail[7].LifeOfPoint = 30;
				Q_VaporTrail->VaporTrail[7].NomPoints = 0;
				Q_VaporTrail->VaporTrail[7].Live = 1;
				_->NomVaporTrails = 8;

				ScanVec[0] = playerAV[g_Player]->Xform.Translation;
				ScanVec[1] = playerAV[g_Player]->Xform.Translation;
				ScanVec[2] = playerAV[g_Player]->Xform.Translation;
				ScanVec[3] = playerAV[g_Player]->Xform.Translation;
				ScanVec[4] = playerAV[g_Player]->Xform.Translation;
				ScanVec[5] = playerAV[g_Player]->Xform.Translation;
				ScanVec[6] = playerAV[g_Player]->Xform.Translation;
				ScanVec[7] = playerAV[g_Player]->Xform.Translation;*/
				}
			else player[g_Player]->ScanUP = 1;
			}
		ScanKEYPRESS = 1;
		}
	else ScanKEYPRESS = 0;
		

	//*----Screen Shots (scr)----*

	if (KEY_PRESS_DOWN(QIN_PRINT))
		{
		if(ScreenCounter == 0) ScreenShot = "ScreenShots\\ScreenShot0.bmp";
		if(ScreenCounter == 1) ScreenShot = "ScreenShots\\ScreenShot1.bmp";
		if(ScreenCounter == 2) ScreenShot = "ScreenShots\\ScreenShot2.bmp";
		if(ScreenCounter == 3) ScreenShot = "ScreenShots\\ScreenShot3.bmp";
		if(ScreenCounter == 4) ScreenShot = "ScreenShots\\ScreenShot4.bmp";
		if(ScreenCounter == 5) ScreenShot = "ScreenShots\\ScreenShot5.bmp";
		if(ScreenCounter == 6) ScreenShot = "ScreenShots\\ScreenShot6.bmp";
		if(ScreenCounter == 7) ScreenShot = "ScreenShots\\ScreenShot7.bmp";
		if(ScreenCounter == 8) ScreenShot = "ScreenShots\\ScreenShot8.bmp";
		if(ScreenCounter == 9) ScreenShot = "ScreenShots\\ScreenShot9.bmp";
		if(ScreenCounter == 10) ScreenShot = "ScreenShots\\ScreenShot10.bmp";
		if(ScreenCounter == 11) ScreenShot = "ScreenShots\\ScreenShot11.bmp";
		if(ScreenCounter == 12) ScreenShot = "ScreenShots\\ScreenShot12.bmp";
		if(ScreenCounter == 13) ScreenShot = "ScreenShots\\ScreenShot13.bmp";
		if(ScreenCounter == 14) ScreenShot = "ScreenShots\\ScreenShot14.bmp";
		if(ScreenCounter == 15) ScreenShot = "ScreenShots\\ScreenShot15.bmp";
		if(ScreenCounter == 16) ScreenShot = "ScreenShots\\ScreenShot16.bmp";
		if(ScreenCounter == 17) ScreenShot = "ScreenShots\\ScreenShot17.bmp";
		if(ScreenCounter == 18) ScreenShot = "ScreenShots\\ScreenShot18.bmp";
		if(ScreenCounter == 19) ScreenShot = "ScreenShots\\ScreenShot19.bmp";
		if(ScreenCounter == 20) ScreenShot = "ScreenShots\\ScreenShot20.bmp";
		if(ScreenCounter == 21) ScreenShot = "ScreenShots\\ScreenShot21.bmp";
		if(ScreenCounter == 22) ScreenShot = "ScreenShots\\ScreenShot22.bmp";
		if(ScreenCounter == 23) ScreenShot = "ScreenShots\\ScreenShot23.bmp";
		if(ScreenCounter == 24) ScreenShot = "ScreenShots\\ScreenShot24.bmp";
		if(ScreenCounter == 25) ScreenShot = "ScreenShots\\ScreenShot25.bmp";
		if(ScreenCounter == 26) ScreenShot = "ScreenShots\\ScreenShot26.bmp";
		if(ScreenCounter == 27) ScreenShot = "ScreenShots\\ScreenShot27.bmp";
		if(ScreenCounter == 28) ScreenShot = "ScreenShots\\ScreenShot28.bmp";
		if(ScreenCounter == 29) ScreenShot = "ScreenShots\\ScreenShot29.bmp";
		if(ScreenCounter == 30) ScreenShot = "ScreenShots\\ScreenShot30.bmp";
		if(ScreenCounter == 31) ScreenShot = "ScreenShots\\ScreenShot31.bmp";
		if(ScreenCounter == 32) ScreenShot = "ScreenShots\\ScreenShot32.bmp";
		if(ScreenCounter == 33) ScreenShot = "ScreenShots\\ScreenShot33.bmp";
		if(ScreenCounter == 34) ScreenShot = "ScreenShots\\ScreenShot34.bmp";
		if(ScreenCounter == 35) ScreenShot = "ScreenShots\\ScreenShot35.bmp";
		if(ScreenCounter == 36) ScreenShot = "ScreenShots\\ScreenShot36.bmp";
		if(ScreenCounter == 37) ScreenShot = "ScreenShots\\ScreenShot37.bmp";
		if(ScreenCounter == 38) ScreenShot = "ScreenShots\\ScreenShot38.bmp";
		if(ScreenCounter == 39) ScreenShot = "ScreenShots\\ScreenShot39.bmp";
		if(ScreenCounter == 40) ScreenShot = "ScreenShots\\ScreenShot40.bmp";
		if(ScreenCounter == 41) ScreenShot = "ScreenShots\\ScreenShot41.bmp";
		if(ScreenCounter == 42) ScreenShot = "ScreenShots\\ScreenShot42.bmp";
		if(ScreenCounter == 43) ScreenShot = "ScreenShots\\ScreenShot43.bmp";
		if(ScreenCounter == 44) ScreenShot = "ScreenShots\\ScreenShot44.bmp";
		if(ScreenCounter == 45) ScreenShot = "ScreenShots\\ScreenShot45.bmp";
		if(ScreenCounter == 46) ScreenShot = "ScreenShots\\ScreenShot46.bmp";
		if(ScreenCounter == 47) ScreenShot = "ScreenShots\\ScreenShot47.bmp";
		if(ScreenCounter == 48) ScreenShot = "ScreenShots\\ScreenShot48.bmp";
		if(ScreenCounter == 49) ScreenShot = "ScreenShots\\ScreenShot49.bmp";
		if(ScreenCounter == 50) ScreenShot = "ScreenShots\\ScreenShot50.bmp";

		if(ScreenCounter <= 50) Qpo->Engine_ScreenShot(ScreenShot);

		ScreenCounter++;
		}


	//*----Player Invisibility (i)----*

	if(KEY_PRESS_DOWN(QIN_i))
		{
		if(KeyDepress2 == 0)
			{
			if(player[g_Player]->FirstPerson == 1)
				{
				player[g_Player]->FirstPerson = 0;
				player[g_Player]->Invisible = 0;
				Qpo->Avatar_SetAlpha(&playerAV[g_Player]->Avatar, 255);
				}
			else
				{
				player[g_Player]->FirstPerson = 1;
				player[g_Player]->Invisible = 1;
				Qpo->Avatar_SetAlpha(&playerAV[g_Player]->Avatar, 100);
				}
			}

		KeyDepress2 = 1;
		}
	else KeyDepress2 = 0;


	//*----Radar Scale----*

	if(KEY_PRESS_DOWN(QIN_F11) && _->RADPRESS1 == 0)
		{
		_->RADSCALE /= 2;
		_->RADPRESS1 = 1;
		}
	else _->RADPRESS1 = 0;

	if(KEY_PRESS_DOWN(QIN_F13) && _->RADPRESS2 == 0)
		{
		_->RADSCALE *= 2;
		_->RADPRESS2 = 1;
		}
	else _->RADPRESS2 = 0;


	//*----Gamma Correction----*

	if (KEY_PRESS_DOWN(QIN_PLUS))
		{
		// Reset the gamma.
		_->gama += 0.1;
		Qpo->Engine_SetGamma(_->gama);
		
		// write our new gamma settings to a file
		//*stream = fopen("Config\\gamma.ini","w");
		//*fprintf(stream,"%f",gama);
		//*fclose(stream);
		}

	if (KEY_PRESS_DOWN(QIN_MINUS))
		{
		// reset the gama
		_->gama -= 0.1;
		Qpo->Engine_SetGamma(_->gama);
		
		// write our new gamma settings to a file
		//*stream = fopen("Config\\gamma.ini","w");
		//*fprintf(stream,"%f",gama);
		//*fclose(stream);
		}

	if (KEY_PRESS_DOWN(QIN_ASTERISK))
		{
		_->gama = 1.0;
		Qpo->Engine_SetGamma(_->gama);

		// write our new gamma settings to a file
		//*stream = fopen("Config\\gamma.ini","w");
		//*fprintf(stream,"%f",gama);
		//*fclose(stream);
		}


	//###### TEMPORARY QUIT KEY (SCROLL LOCK ######
	if(KEY_PRESS_DOWN(QIN_INSERT))
		{
		//PostMessage(FoundhWnd, WM_QUIT, 0, 0);

		_->run = 0;
		}


	//##### PLAYER VEHICLE CONTROL ######

	//#### HIT WALL COLLISION

	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrVEHICLE != 250)
		{
		player[g_Player]->Vehicle.Model.OldPos = player[g_Player]->Vehicle.Model.Xform.Translation;
		player[g_Player]->Vehicle.Model.NewPos = player[g_Player]->Vehicle.Model.Xform.Translation;

		player[g_Player]->Vehicle.Phys_DownVelocity -= (0.5 / player[g_Player]->Vehicle.GravityAlter) * _->TimeScale;

		Qpo->Vec3d_AddScaled(&player[g_Player]->Vehicle.Model.NewPos, 70, &player[g_Player]->Vehicle.MoveReactVec, &player[g_Player]->Vehicle.Model.NewPos);
																										//EDIT Removed Collision detection with actors
		if(Qpo->Collision_RayTest(NULL, NULL, &player[g_Player]->Vehicle.Model.OldPos, &player[g_Player]->Vehicle.Model.NewPos, /* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS,*/ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
			{
			player[g_Player]->Vehicle.MoveReactSpeed /= 1.5;
			}


		//##### FREE FLOAT ON PLANE

		player[g_Player]->Vehicle.Model.OldPos = player[g_Player]->Vehicle.Model.Xform.Translation;
		player[g_Player]->Vehicle.Model.NewPos = player[g_Player]->Vehicle.Model.Xform.Translation;

		Qpo->Vec3d_AddScaled(&player[g_Player]->Vehicle.Model.NewPos, player[g_Player]->Vehicle.MoveReactSpeed*_->TimeScale, &player[g_Player]->Vehicle.MoveReactVec, &player[g_Player]->Vehicle.Model.NewPos);
		player[g_Player]->Vehicle.Model.NewPos.y += player[g_Player]->Vehicle.Phys_DownVelocity;

		player[g_Player]->Vehicle.Model.OldPos.y -= 23;
		player[g_Player]->Vehicle.Model.NewPos.y -= 23;

		if(Qpo->Collision_RayTest(NULL, NULL, &player[g_Player]->Vehicle.Model.OldPos, &player[g_Player]->Vehicle.Model.NewPos, /* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &player[g_Player]->Vehicle.Model.Collision))
			{
			player[g_Player]->Vehicle.Model.NewPos.acSet(player[g_Player]->Vehicle.Model.Collision.Impact.m_X, player[g_Player]->Vehicle.Model.Collision.Impact.m_Y, player[g_Player]->Vehicle.Model.Collision.Impact.m_Z);
			player[g_Player]->Vehicle.Phys_DownVelocity = 0;

			if(player[g_Player]->Vehicle.Model.Collision.Plane.Normal.y >= 0.707f)
				{
				if(player[g_Player]->Vehicle.MoveReactSpeed - 0.015 * _->TimeScale > 0) player[g_Player]->Vehicle.MoveReactSpeed -= 0.015*_->TimeScale;	//0.4
				else player[g_Player]->Vehicle.MoveReactSpeed = 0;
				player[g_Player]->Vehicle.MoveReactVec.y = 0;
				}
			}

		player[g_Player]->Vehicle.Model.OldPos.y += 23;
		player[g_Player]->Vehicle.Model.NewPos.y += 23;

		player[g_Player]->Vehicle.Model.Xform.Translation = player[g_Player]->Vehicle.Model.NewPos;

		Qpo->Avatar_ClearPose(player[g_Player]->Vehicle.Model.Avatar, &player[g_Player]->Vehicle.Model.Xform);


		//##### VEHICLE ZONE CONTROL

		//## RESET ZONING
		player[g_Player]->Vehicle.ZONING = 0;

		SCRAM=0;
		while(SCRAM < Q_EnergyMatrix->EnergyMatrix.NomQMatBlocks)
			{
			if(Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Active == 1)
				{
				//###### CHECKS TO FIND AVATARS WITHIN BLOCK
				//#### CHECK PLAYER WITHIN
				//@@@Qpo->Avatar_GetBoneTransform(&player[g_Player]->Vehicle.Model, "BONE01", &player[g_Player]->EnergyArchitect.CurrentPOSMAT);

				if(player[g_Player]->EnergyArchitect.CurrentPOSMAT.Translation.x < Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Maxs.x
				&& player[g_Player]->EnergyArchitect.CurrentPOSMAT.Translation.x > Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Mins.x
				&& player[g_Player]->EnergyArchitect.CurrentPOSMAT.Translation.y < Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Maxs.y
				&& player[g_Player]->EnergyArchitect.CurrentPOSMAT.Translation.y > Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Mins.y
				&& player[g_Player]->EnergyArchitect.CurrentPOSMAT.Translation.z < Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Maxs.z
				&& player[g_Player]->EnergyArchitect.CurrentPOSMAT.Translation.z > Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].Mins.z)
					{
					player[g_Player]->Vehicle.ZONING = 1;
					player[g_Player]->Vehicle.WithinZONE = SCRAM;

					if(Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].ZONEINC_Gravity != 1)
						{
						player[g_Player]->Vehicle.GravityAlter += ((Q_EnergyMatrix->EnergyMatrix.QMATBlock[SCRAM].ZONEINC_Gravity - player[g_Player]->Vehicle.GravityAlter) / 5);
						}
					}
				}

			SCRAM++;
			}
		}


	//### Build The Camera Matrix ###//

	if(player[g_Player]->WeaponZoomFACT > 0)
		{
		QpoTransform* Bone = new QpoTransform();
		QunBone *i_bone = playerAV[g_Player]->Avatar.Mesh->m_qunModel->getSkeleton()->getBone(Q.StructureA("BIP01 R HAND"));
		QunQuaternion boneort = i_bone->getRotationAbsolute();
		QunVector bonetrans = i_bone->getTranslationAbsolute();

		QpoVec3d bonevector;
		bonevector.x = bonetrans.x;
		bonevector.y = bonetrans.y;
		bonevector.z = bonetrans.z;

		QunQuaternion i_quat(1,0,1,0);

		QunMatrix rotationMatrix = boneort;

		Bone->Matrix.m[0][0]=-rotationMatrix.dxdx;Bone->Matrix.m[0][1]=-rotationMatrix.dxdy;Bone->Matrix.m[0][2]=-rotationMatrix.dxdz;
		Bone->Matrix.m[1][0]=rotationMatrix.dydx;Bone->Matrix.m[1][1]=rotationMatrix.dydy;Bone->Matrix.m[1][2]=rotationMatrix.dydz;
		Bone->Matrix.m[2][0]=-rotationMatrix.dzdx;Bone->Matrix.m[2][1]=-rotationMatrix.dzdy;Bone->Matrix.m[2][2]=-rotationMatrix.dzdz;

		//###-- - Sense Quaternion - --###//
		pMatrix i_Matrix;
		pQuaternion i_Quat;
		i_Quat.w = 2.37;
		i_Quat.x = -0.97;
		i_Quat.y = -0.49;
		i_Quat.z = 2.2;
		i_Quat.normalize();
		i_Quat.get_mat(i_Matrix);

#if 0 // QAGE_DESKTOP
		glMatrixMode(GL_MODELVIEW);
		glLoadIdentity();
		glMultMatrixf((float *)&i_Matrix);
		glMultMatrixf((float *)&Bone->Matrix);

		glRotatef(radToDeg(-player[g_Player]->AvatarRotation + PI), 0.0f, 0.0f, 1.0f);

		glGetFloatv(GL_MODELVIEW_MATRIX, player[g_Player]->CamMatrix.Matrix.mf);
#endif
		pMatrix f_BoneMatrix;
		pQuaternion f_BoneQuat;
		f_BoneQuat.x = boneort.x;
		f_BoneQuat.y = boneort.y;
		f_BoneQuat.z = boneort.z;
		f_BoneQuat.w = boneort.w;
		f_BoneQuat.normalize();
		f_BoneQuat.get_mat(f_BoneMatrix);

		i_Matrix *= f_BoneMatrix;
		i_Matrix.set_rotation(-player[g_Player]->AvatarRotation + PI, pVector(0.0f, 0.0f, 1.0f));

		player[g_Player]->CamMatrix.Matrix = i_Matrix;

		Qpo->Transform_RotateVector(&playerAV[g_Player]->Xform, &bonevector, &bonevector);

		Bone->Translation.x = bonevector.x + playerAV[g_Player]->Xform.Translation.x;
		Bone->Translation.y = bonevector.y + playerAV[g_Player]->Xform.Translation.y;
		Bone->Translation.z = bonevector.z + playerAV[g_Player]->Xform.Translation.z;

		player[g_Player]->CamMatrix.Translation = Bone->Translation;

		player[g_Player]->AttPos = player[g_Player]->CamMatrix;

		/*if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE > 1)
			{ Qpo->Vec3d_AddScaled(&player[g_Player]->CamMatrix.Translation, 47, &player[g_Player]->AimVec, &player[g_Player]->CamMatrix.Translation); }
		else
			{
			Qpo->Vec3d_AddScaled(&player[g_Player]->CamMatrix.Translation, -player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeLOC.x, &player[g_Player]->InStore, &player[g_Player]->CamMatrix.Translation);
			Qpo->Vec3d_AddScaled(&player[g_Player]->CamMatrix.Translation, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeLOC.y, &player[g_Player]->Up, &player[g_Player]->CamMatrix.Translation);
			Qpo->Vec3d_AddScaled(&player[g_Player]->CamMatrix.Translation, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeLOC.z, &player[g_Player]->AimVec, &player[g_Player]->CamMatrix.Translation);
			}*/

		player[g_Player]->CamMatrix.Matrix.mf[0] = player[g_Player]->CamMatrix.Matrix.mf[0] - (player[g_Player]->CamMatrixSTR.Matrix.mf[0] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[1] = player[g_Player]->CamMatrix.Matrix.mf[1] - (player[g_Player]->CamMatrixSTR.Matrix.mf[1] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[2] = player[g_Player]->CamMatrix.Matrix.mf[2] - (player[g_Player]->CamMatrixSTR.Matrix.mf[2] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[3] = player[g_Player]->CamMatrix.Matrix.mf[3] - (player[g_Player]->CamMatrixSTR.Matrix.mf[3] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[4] = player[g_Player]->CamMatrix.Matrix.mf[4] - (player[g_Player]->CamMatrixSTR.Matrix.mf[4] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[5] = player[g_Player]->CamMatrix.Matrix.mf[5] - (player[g_Player]->CamMatrixSTR.Matrix.mf[5] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[6] = player[g_Player]->CamMatrix.Matrix.mf[6] - (player[g_Player]->CamMatrixSTR.Matrix.mf[6] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[7] = player[g_Player]->CamMatrix.Matrix.mf[7] - (player[g_Player]->CamMatrixSTR.Matrix.mf[7] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[8] = player[g_Player]->CamMatrix.Matrix.mf[8] - (player[g_Player]->CamMatrixSTR.Matrix.mf[8] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[9] = player[g_Player]->CamMatrix.Matrix.mf[9] - (player[g_Player]->CamMatrixSTR.Matrix.mf[9] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[10] = player[g_Player]->CamMatrix.Matrix.mf[10] - (player[g_Player]->CamMatrixSTR.Matrix.mf[10] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[11] = player[g_Player]->CamMatrix.Matrix.mf[11] - (player[g_Player]->CamMatrixSTR.Matrix.mf[11] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[12] = player[g_Player]->CamMatrix.Matrix.mf[12] - (player[g_Player]->CamMatrixSTR.Matrix.mf[12] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[13] = player[g_Player]->CamMatrix.Matrix.mf[13] - (player[g_Player]->CamMatrixSTR.Matrix.mf[13] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[14] = player[g_Player]->CamMatrix.Matrix.mf[14] - (player[g_Player]->CamMatrixSTR.Matrix.mf[14] * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Matrix.mf[15] = player[g_Player]->CamMatrix.Matrix.mf[15] - (player[g_Player]->CamMatrixSTR.Matrix.mf[15] * (1 - player[g_Player]->WeaponZoomFACT));

		player[g_Player]->CamMatrix.Translation.x = player[g_Player]->CamMatrix.Translation.x - (player[g_Player]->CamMatrixSTR.Translation.x * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y - (player[g_Player]->CamMatrixSTR.Translation.y * (1 - player[g_Player]->WeaponZoomFACT));
		player[g_Player]->CamMatrix.Translation.z = player[g_Player]->CamMatrix.Translation.z - (player[g_Player]->CamMatrixSTR.Translation.z * (1 - player[g_Player]->WeaponZoomFACT));
		}
	else
		{
		////// START FOR NORMAL NON ZOOM CAMERA //////
		Qpo->Transform_New(&player[g_Player]->CamMatrix);
		Qpo->Transform_New(&player[g_Player]->Camrot);

		//geXForm3d_SetXRotation(&player[g_Player]->Camrot, player[g_Player]->Angles.X);
		//geXForm3d_Multiply(&player[g_Player]->CamMatrix, &player[g_Player]->Camrot, &player[g_Player]->CamMatrix);
		//geXForm3d_RotateY(&player[g_Player]->CamMatrix, player[g_Player]->Angles.Y);

#if 0
		Qpo->Transform_RotateX(&player[g_Player]->CamMatrix, -player[g_Player]->Angles.x);
		Qpo->Transform_RotateZ(&player[g_Player]->CamMatrix, -player[g_Player]->Angles.y);

		Qpo->Transform_RotateY(&player[g_Player]->Camrot, player[g_Player]->Angles.x);
		Qpo->Transform_RotateZ(&player[g_Player]->Camrot, player[g_Player]->Angles.y);
#else
		if(player[g_Player]->WeaponStatus == 0) Qpo->Transform_RotateX(&player[g_Player]->CamMatrix, -player[g_Player]->Angles.x);
		else Qpo->Transform_RotateX(&player[g_Player]->CamMatrix, -player[g_Player]->Angles.x * 1.2);
		Qpo->Transform_RotateZ(&player[g_Player]->CamMatrix, -player[g_Player]->trueAngles.y);

		if(player[g_Player]->WeaponStatus == 0) Qpo->Transform_RotateY(&player[g_Player]->Camrot, player[g_Player]->Angles.x);
		else Qpo->Transform_RotateY(&player[g_Player]->Camrot, player[g_Player]->Angles.x * 1.2);
		Qpo->Transform_RotateZ(&player[g_Player]->Camrot, player[g_Player]->trueAngles.y);
#endif
		}

#ifndef QAGEMODE_SURGERY
	if(player[g_Player]->WeaponZoomFACT == 0)
		{
		if(_->NomBullet!=0 && player[g_Player]->testef == 1) player[g_Player]->CamMatrix.Translation = Q_Bullet->Bullet[_->NomBullet-1].WorldPos;
		else
			{
			if(player[g_Player]->FirstPerson == 0)
				{
				player[g_Player]->CamMatrix.Translation = playerAV[g_Player]->Xform.Translation;

				/*if(player[g_Player]->Mech.ACTIVE == 0)
					{ player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + (20 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)))); }
				else
					{ player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + ((13 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE * 0.8333333) + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)))) * 2.7907); }

				player[g_Player]->oldpos = player[g_Player]->CamMatrix.Translation;

				if(player[g_Player]->Mech.ACTIVE == 0)
					{ player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + (75 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)))); }
				else
					{ player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + ((68 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE * 0.8333333) + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)))) * 2.7907); }

				player[g_Player]->newpos = player[g_Player]->CamMatrix.Translation;
				if(Qpo->Collision_RayTest(NULL, NULL, &player[g_Player]->oldpos, &player[g_Player]->newpos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, *//* 0xffffffff, NULL, NULL, &player[g_Player]->Collision))
					{ player[g_Player]->CamMatrix.Translation = player[g_Player]->oldpos; }*/

				if(player[g_Player]->WeaponStatus == 0) player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + 20 + 25;
				else player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + 20 + 25 + 30;
				}
			else
				{
				//* IMPORTANT CHANGE HERE
				//player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + (30 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE * 0.8333333) + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2))));
				//player[g_Player]->oldpos = player[g_Player]->CamMatrix.Translation;
				//player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + (44 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE * 0.8333333) + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2))));
				//player[g_Player]->newpos = player[g_Player]->CamMatrix.Translation;
				//if(Qpo->Collision_RayTest(NULL, NULL, &player[g_Player]->oldpos, &player[g_Player]->newpos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &player[g_Player]->Collision))
				//	{ player[g_Player]->CamMatrix.Translation = player[g_Player]->oldpos; }

				player[g_Player]->CamMatrix.Translation = playerAV[g_Player]->Xform.Translation;

				if(player[g_Player]->WeaponStatus == 0) player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + 65;
				else player[g_Player]->CamMatrix.Translation.y = player[g_Player]->CamMatrix.Translation.y + 65 + 30;
				}
			}
#else
		player[g_Player]->CamMatrix.Translation = SurgeryFocus;
#endif

		//### Camera Xforming ###//
		player[g_Player]->oldpos = player[g_Player]->CamMatrix.Translation;
		player[g_Player]->newpos = player[g_Player]->CamMatrix.Translation;
		Qpo->Transform_GetRight(&player[g_Player]->Camrot,&player[g_Player]->In);
		Qpo->Transform_GetUp(&player[g_Player]->Camrot,&player[g_Player]->UpStore);
		player[g_Player]->InStore = player[g_Player]->In;
		Qpo->Vec3d_Inverse(&player[g_Player]->InStore);
		if(player[g_Player]->WeaponStatus == 0) Qpo->Vec3d_AddScaled(&player[g_Player]->oldpos,player[g_Player]->camrotdist,&player[g_Player]->In,&player[g_Player]->newpos);
		else Qpo->Vec3d_AddScaled(&player[g_Player]->oldpos,player[g_Player]->camrotdist + 55,&player[g_Player]->In,&player[g_Player]->newpos);
		/*if(player[g_Player]->FirstPerson == 0)*/ //Qpo->Vec3d_AddScaled(&player[g_Player]->oldpos,player[g_Player]->camrotdist,&player[g_Player]->In,&player[g_Player]->newpos);
		//Qpo->Transform_GetIn(&player[g_Player]->CamMatrix,&player[g_Player]->In);
		//Qpo->Vec3d_AddScaled(&player[g_Player]->CamMatrix.Translation,player[g_Player]->-camrotdist,&player[g_Player]->In,&player[g_Player]->oldpos);
		//player[g_Player]->newpos.y = player[g_Player]->oldpos.y;


#pragma message("FIXME: full rewrite and optimise")

#if 1
		if(Qpo->Collision_RayTest(/*&playerAV[g_Player]->Mins, &playerAV[g_Player]->Maxs*/ NULL, NULL, &player[g_Player]->oldpos, &player[g_Player]->newpos, 0xffffffff, NULL, NULL, &player[g_Player]->Collision))
			{
			player[g_Player]->newpos.x = player[g_Player]->Collision.Impact.m_X;
			player[g_Player]->newpos.y = player[g_Player]->Collision.Impact.m_Y;
			player[g_Player]->newpos.z = player[g_Player]->Collision.Impact.m_Z;

			//Qpo->Vec3d_AddScaled(&player[g_Player]->oldpos, -(player[g_Player]->camrotdist * (player[g_Player]->Collision.Ratio * 0.87)), &player[g_Player]->InStore, &player[g_Player]->newpos);
#if 0
			Qpo->Vec3d_AddScaled(&player[g_Player]->Collision.Impact, 40, &player[g_Player]->InStore, &player[g_Player]->newpos);
			player[g_Player]->newpos.y -= 20;
#endif
			}
#endif

		player[g_Player]->CamMatrix.Translation = player[g_Player]->newpos;

		if(player[g_Player]->WeaponZoomFACT != 0)
			{
			player[g_Player]->CamMatrix.Translation = player[g_Player]->AttPos.Translation;
			}
#if 0
		{
		//Qpo->Avatar_GetBoneTransform(&player[g_Player]->Weapon, "BIP01 R HAND", &player[g_Player]->AttPos);
		Qpo->Transform_GetUp(&player[g_Player]->AttPos, &player[g_Player]->Up);
		Qpo->Transform_GetLeft(&player[g_Player]->AttPos, &player[g_Player]->AimVec);
		//Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 4.5, &player[g_Player]->Up, &player[g_Player]->AttPos.Translation);

		Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 6, &player[g_Player]->Up, &player[g_Player]->AttPos.Translation);
		Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, -28, &player[g_Player]->AimVec, &player[g_Player]->AttPos.Translation);

		Qpo->Vec3d_Subtract(&player[g_Player]->AttPos.Translation, &player[g_Player]->CamMatrix.Translation, &TempVec1);
		Qpo->Vec3d_Scale(&TempVec1, player[g_Player]->WeaponZoomFACT, &TempVec1);
		Qpo->Vec3d_Add(&player[g_Player]->CamMatrix.Translation, &TempVec1, &player[g_Player]->CamMatrix.Translation);
		}
#endif
		}

	player[g_Player]->Xform = player[g_Player]->CamMatrix;
	player[g_Player]->ViewXForm = player[g_Player]->Xform;

	if(player[g_Player]->WeaponZoomFACT == 0) player[g_Player]->CamMatrixSTR = player[g_Player]->CamMatrix;
	
	if(player[g_Player]->CameraShake != 0)
		{
		//### Standard Shake
		if(player[g_Player]->CameraShake == 1)
			{
			if(player[g_Player]->CameraShakeINIT == 0)
				{
				player[g_Player]->CameraShakeINIT = 1;
					
				player[g_Player]->CamShakeIncX = ((((float)rand() / 32767)*40) - 20);
				if(player[g_Player]->CamShakeIncX > 0 && player[g_Player]->CamShakeIncX < 15) player[g_Player]->CamShakeIncX = 15;
				if(player[g_Player]->CamShakeIncX < 0 && player[g_Player]->CamShakeIncX > -15) player[g_Player]->CamShakeIncX = -15;
				player[g_Player]->CamShakeIncY = 0.6;
				player[g_Player]->CamShakeIncZ = ((((float)rand() / 32767)*40) - 20);
				if(player[g_Player]->CamShakeIncZ > 0 && player[g_Player]->CamShakeIncZ < 15) player[g_Player]->CamShakeIncZ = 15;
				if(player[g_Player]->CamShakeIncZ < 0 && player[g_Player]->CamShakeIncZ > -15) player[g_Player]->CamShakeIncZ = -15;
				}
			else
				{
				player[g_Player]->CamShakeIncX *= -0.4;
				player[g_Player]->CamShakeIncY *= -0.8;
				player[g_Player]->CamShakeIncZ *= -0.4;
				}

			player[g_Player]->CamShakeIncX += (((float)rand() / 32767)*5) - 2.5;
			player[g_Player]->CamShakeIncY += (((float)rand() / 32767)*5) - 2.5;
			player[g_Player]->CamShakeIncZ += (((float)rand() / 32767)*5) - 2.5;

			Qpo->Transform_New_XRotation(&player[g_Player]->Camrot, player[g_Player]->CamShakeIncX/1500);
			Qpo->Transform_Multiply(&player[g_Player]->ViewXForm, &player[g_Player]->Camrot, &player[g_Player]->ViewXForm);
			Qpo->Transform_RotateY(&player[g_Player]->ViewXForm, player[g_Player]->CamShakeIncY/1500);
			}


		//### Heavy Shake
		if(player[g_Player]->CameraShake == 2)
			{
			if(player[g_Player]->CameraShakeINIT == 0)
				{
				player[g_Player]->CameraShakeINIT = 1;
					
				player[g_Player]->CamShakeIncX = ((((float)rand() / 32767)*70) - 35);
				if(player[g_Player]->CamShakeIncX > 0 && player[g_Player]->CamShakeIncX < 35) player[g_Player]->CamShakeIncX = 35;
				if(player[g_Player]->CamShakeIncX < 0 && player[g_Player]->CamShakeIncX > -35) player[g_Player]->CamShakeIncX = -35;
				player[g_Player]->CamShakeIncY = 2;
				player[g_Player]->CamShakeIncZ = ((((float)rand() / 32767)*70) - 35);
				if(player[g_Player]->CamShakeIncZ > 0 && player[g_Player]->CamShakeIncZ < 35) player[g_Player]->CamShakeIncZ = 35;
				if(player[g_Player]->CamShakeIncZ < 0 && player[g_Player]->CamShakeIncZ > -35) player[g_Player]->CamShakeIncZ = -35;
				}
			else
				{
				player[g_Player]->CamShakeIncX *= -0.6;
				player[g_Player]->CamShakeIncY *= -0.95;
				player[g_Player]->CamShakeIncZ *= -0.6;
				}

			player[g_Player]->CamShakeIncX += (((float)rand() / 32767)*8) - 4;
			player[g_Player]->CamShakeIncY += (((float)rand() / 32767)*8) - 4;
			player[g_Player]->CamShakeIncZ += (((float)rand() / 32767)*8) - 4;

			Qpo->Transform_New_XRotation(&player[g_Player]->Camrot, player[g_Player]->CamShakeIncX/1000);
			Qpo->Transform_Multiply(&player[g_Player]->ViewXForm, &player[g_Player]->Camrot, &player[g_Player]->ViewXForm);
			Qpo->Transform_RotateY(&player[g_Player]->ViewXForm, player[g_Player]->CamShakeIncY/1000);
			}

		//### Power UP Shake
		if(player[g_Player]->CameraShake == 3)
			{
			player[g_Player]->CameraShakePOWER = player[g_Player]->JINK3_PowerFactor/50;

			if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 0)
				{
				player[g_Player]->CameraShakePOWER = player[g_Player]->JINK3_PowerFactor/50;
				}

			if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 1)
				{
				player[g_Player]->CameraShakePOWER = player[g_Player]->JINK3_WeaponFactor/50;
				}

			if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 2)
				{
				player[g_Player]->CameraShakePOWER = player[g_Player]->JINK3_PowerFactor/25;
				}

			if(player[g_Player]->CameraShakePOWER > 5) player[g_Player]->CameraShakePOWER = 5;

			if(player[g_Player]->CameraShakeINIT == 0)
				{
				player[g_Player]->CameraShakeINIT = 1;
					
				player[g_Player]->CamShakeIncX = ((((float)rand() / 32767) * (70 * (player[g_Player]->CameraShakePOWER))) - (35 * (player[g_Player]->CameraShakePOWER)));
				if(player[g_Player]->CamShakeIncX > 0 && player[g_Player]->CamShakeIncX < (35 * (player[g_Player]->CameraShakePOWER))) player[g_Player]->CamShakeIncX = (35 * (player[g_Player]->CameraShakePOWER));
				if(player[g_Player]->CamShakeIncX < 0 && player[g_Player]->CamShakeIncX > -(35 * (player[g_Player]->CameraShakePOWER))) player[g_Player]->CamShakeIncX = -(35 * (player[g_Player]->CameraShakePOWER));
				player[g_Player]->CamShakeIncY = 2;
				player[g_Player]->CamShakeIncZ = ((((float)rand() / 32767)*70) - (35 * (player[g_Player]->CameraShakePOWER)));
				if(player[g_Player]->CamShakeIncZ > 0 && player[g_Player]->CamShakeIncZ < (35 * (player[g_Player]->CameraShakePOWER))) player[g_Player]->CamShakeIncZ = (35 * (player[g_Player]->CameraShakePOWER));
				if(player[g_Player]->CamShakeIncZ < 0 && player[g_Player]->CamShakeIncZ > -(35 * (player[g_Player]->CameraShakePOWER))) player[g_Player]->CamShakeIncZ = -(35 * (player[g_Player]->CameraShakePOWER));
				}
			else
				{
				if(player[g_Player]->Mposestate != 16)
					{
					player[g_Player]->CamShakeIncX *= -0.6;
					player[g_Player]->CamShakeIncY *= -0.95;
					player[g_Player]->CamShakeIncZ *= -0.6;
					}
				else
					{
					player[g_Player]->CamShakeIncX *= -1 * (player[g_Player]->CameraShakePOWER);
					player[g_Player]->CamShakeIncY *= -1 * (player[g_Player]->CameraShakePOWER);
					player[g_Player]->CamShakeIncZ *= -1 * (player[g_Player]->CameraShakePOWER);
					}
				}

			player[g_Player]->CamShakeIncX += (((((float)rand() / 32767)*8) - 4) * (player[g_Player]->CameraShakePOWER));
			player[g_Player]->CamShakeIncY += (((((float)rand() / 32767)*8) - 4) * (player[g_Player]->CameraShakePOWER));
			player[g_Player]->CamShakeIncZ += (((((float)rand() / 32767)*8) - 4) * (player[g_Player]->CameraShakePOWER));

			if(player[g_Player]->CamShakeIncX > 15) player[g_Player]->CamShakeIncX = 15;
			if(player[g_Player]->CamShakeIncX < -15) player[g_Player]->CamShakeIncX = -15;
			if(player[g_Player]->CamShakeIncY > 15) player[g_Player]->CamShakeIncY = 15;
			if(player[g_Player]->CamShakeIncY < -15) player[g_Player]->CamShakeIncY = -15;
			if(player[g_Player]->CamShakeIncZ > 15) player[g_Player]->CamShakeIncZ = 15;
			if(player[g_Player]->CamShakeIncZ < -15) player[g_Player]->CamShakeIncZ = -15;

			Qpo->Transform_New_XRotation(&player[g_Player]->Camrot, player[g_Player]->CamShakeIncX/5000);
			Qpo->Transform_Multiply(&player[g_Player]->ViewXForm, &player[g_Player]->Camrot, &player[g_Player]->ViewXForm);
			Qpo->Transform_RotateY(&player[g_Player]->ViewXForm, player[g_Player]->CamShakeIncY/5000);
			}

		//### Shift Camera XForm
		player[g_Player]->ViewXForm.Translation.x += player[g_Player]->CamShakeIncX;
		player[g_Player]->ViewXForm.Translation.y += player[g_Player]->CamShakeIncY;
		player[g_Player]->ViewXForm.Translation.z += player[g_Player]->CamShakeIncZ;

		player[g_Player]->CamShkCNT++;
		if(player[g_Player]->CamShkCNT > player[g_Player]->CamShkTIME)
			{
			player[g_Player]->CameraShake = 0;
			player[g_Player]->CameraShakeINIT = 0;
			player[g_Player]->CamShkCNT = 0;
			}
		}

	// Set our camera to the new xform
	Qpo->Camera_SetTransform(_->CVar, &player[g_Player]->ViewXForm, player[g_Player]->ViewXForm.Translation);

#if 0	//## Set FOV
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 1) Qpo->Camera_SetFOV(_->CVar, 2 - player[g_Player]->WeaponZoomFACT);
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 2) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.770)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 3) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.810)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 4) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.855)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 5) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.900)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 6) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.920)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 7) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.940)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 8) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.960)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 9) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.970)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 10) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.980)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 11) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.990)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 12) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.995)*2));
	if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ScopeTYPE == 13) Qpo->Camera_SetFOV(_->CVar, 2 - ((player[g_Player]->WeaponZoomFACT*0.999)*2));
#endif

// View Rotation *******************************************************************************************
//**********************************************************************************************************

// KEYBOARD AND MOUSE INPUT ********************************************************************************
//**********************************************************************************************************
//**********************************************************************************************************

	//##### -  RESET CLICK LOGGERS  - #####

			//# Reset for Key Logger
	/**if(TIME > player[g_Player]->KL_Timer + 1000)
		{
		player[g_Player]->KL_LTFSpecLevel = 0;
		player[g_Player]->KL_RTFSpecLevel = 0;
		player[g_Player]->KL_FTLSpecLevel = 0;
		player[g_Player]->KL_FTRSpecLevel = 0;
		player[g_Player]->KL_BTFSpecLevel = 0;
		}*/

		//# Reset for Block Key Logger
	if(TIME > player[g_Player]->KL_BTimer + 3)
		{
		player[g_Player]->KL_BTFSpecLevel = 0;
		}

//PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
//PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
// PLAYER CONTROL PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP


	if(_->NetworkOption == 1)
		{
		if(player[g_Player]->Mposestate != 28 && player[g_Player]->Mposestate != 29 && player[g_Player]->Mposestate != 26 && player[g_Player]->Mposestate != 8)
			{
			if((player[g_Player]->Crouch == 1 && player[g_Player]->attackon == 0) || player[g_Player]->attackstackSPECIAL[player[g_Player]->astackrun - 1] == 1)
				{
				if(player[g_Player]->CrouchInit == 0)
					{
					player[g_Player]->CrouchInit = 1;
					player[g_Player]->crohposecnt = 0;
					}

				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 60, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
				if(player[g_Player]->crohposecnt + (0.08*_->TimeScale) < 0.335) player[g_Player]->crohposecnt += 0.08*_->TimeScale;
				else player[g_Player]->crohposecnt = 0.335;

				if(player[g_Player]->blendamount[60]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[60] += 0.3*_->TimeScale;
				}
			else
				{
				if(player[g_Player]->CrouchInit == 1 && player[g_Player]->attackon == 0)
					{
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 60, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
					if(player[g_Player]->crohposecnt + (0.08*_->TimeScale) <= 0.67) player[g_Player]->crohposecnt += 0.08*_->TimeScale;
					else player[g_Player]->CrouchInit = 0;
					}
				}
			}
		}


//PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
// Player Attacks PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP


		//#########  Attack Stacks ##########//

		Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->RFistPosV);

		//### Death Check
		if(player[g_Player]->HB_Dead == 1)
			{
			if(player[g_Player]->Aposestate != 30)
				{
				player[g_Player]->Aposestate = 30;
				player[g_Player]->attackon = 1;
				player[g_Player]->attposecnt = 0;
				player[g_Player]->astackcnt = 0;
				player[g_Player]->astackrun = 0;
				}

			if(player[g_Player]->BFO.GameTypeSelect == 1)
				{
				if(player[g_Player]->HB_DeadTimer == 0)
					{
	#if 1
					//##### Unification Console #####//
					//pString str;
					//str.format("Player DEAD");
					//g_unConsole_vec_str.push_back(str.getbuf());
					//g_unC_vec_ind.push_back(g_unCoutcnt);

	#if 1
					g_unCoutcnt++;
	#endif
					//##### Unification Console #####//
	#endif
					}

				player[g_Player]->HB_DeadTimer += 4;

				if(player[g_Player]->HB_DeadTimer / 75 > 1 && player[g_Player]->HB_DeadTimerPos == 0)
					{
					player[g_Player]->HB_DeadTimerPos++;
	#if 1
					//##### Unification Console #####//
					//pString str;
					//str.format("DEAD|__Starting Angel Rebirth");
					//g_unConsole_vec_str.push_back(str.getbuf());
					//g_unC_vec_ind.push_back(g_unCoutcnt);

	#if 1
					g_unCoutcnt++;
	#endif
					//##### Unification Console #####//
	#endif
					}

				if(player[g_Player]->HB_DeadTimer / 150 > 1 && player[g_Player]->HB_DeadTimerPos == 1)
					{
					player[g_Player]->HB_DeadTimerPos++;
	#if 1
					//##### Unification Console #####//
					//pString str;
					//str.format("DEAD|__Meshing Pathways %i", player[g_Player]->HB_DeadTimer);
					//g_unConsole_vec_str.push_back(str.getbuf());
					//g_unC_vec_ind.push_back(g_unCoutcnt);

	#if 1
					g_unCoutcnt++;
	#endif
					//##### Unification Console #####//
	#endif
					}

				if(player[g_Player]->HB_DeadTimer / 300 > 1 && player[g_Player]->HB_DeadTimerPos == 2)
					{
					player[g_Player]->HB_DeadTimerPos++;
	#if 1
					//##### Unification Console #####//
					//pString str;
					//str.format("DEAD|__Building Structure %i", player[g_Player]->HB_DeadTimer);
					//g_unConsole_vec_str.push_back(str.getbuf());
					//g_unC_vec_ind.push_back(g_unCoutcnt);

	#if 1
					g_unCoutcnt++;
	#endif
					//##### Unification Console #####//
	#endif
					}

				if(player[g_Player]->HB_DeadTimer / 450 > 1 && player[g_Player]->HB_DeadTimerPos == 3)
					{
					player[g_Player]->HB_DeadTimerPos++;
	#if 1
					//##### Unification Console #####//
					//pString str;
					//str.format("DEAD|__Structure Complete %i", player[g_Player]->HB_DeadTimer);
					//g_unConsole_vec_str.push_back(str.getbuf());
					//g_unC_vec_ind.push_back(g_unCoutcnt);

	#if 1
					g_unCoutcnt++;
	#endif
					//##### Unification Console #####//
	#endif
					}

				if(player[g_Player]->HB_DeadTimer / 600 > 1 && player[g_Player]->HB_DeadTimerPos == 4)
					{
					player[g_Player]->HB_DeadTimer = 0;
					player[g_Player]->HB_DeadTimerPos = 0;
	#if 1
					//##### Unification Console #####//
					//pString str;
					//str.format("DEAD|__Awakening Angel %i", player[g_Player]->HB_DeadTimer);
					//g_unConsole_vec_str.push_back(str.getbuf());
					//g_unC_vec_ind.push_back(g_unCoutcnt);

	#if 1
					g_unCoutcnt++;
	#endif
					//##### Unification Console #####//
	#endif

					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AvatarDMGSTORE[aero] = 0;
						aero++;
						}

					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &Origin);
					player[g_Player]->MoveReactSpeed = 0;

					player[g_Player]->HB_Health = player[g_Player]->HB_MaxHealth;
					player[g_Player]->HB_Energy = player[g_Player]->HB_MaxEnergy;
					player[g_Player]->HB_Dead = 0;
					}
				}
			else
				{
				if(player[g_Player]->BFO.GameTypeSelect == 0)
					{
					player[g_Player]->HB_DeadTimerC--;

					if(player[g_Player]->HB_DeadTimerC <= 0)
						{
#if 1
						//##### Unification Console #####//
						//pString str;
						//str.format("DEAD|__Awakening Angel %i", player[g_Player]->HB_DeadTimer);
						//g_unConsole_vec_str.push_back(str.getbuf());
						//g_unC_vec_ind.push_back(g_unCoutcnt);

#if 1
						g_unCoutcnt++;
#endif
						//##### Unification Console #####//
#endif

						QActiveFrameWork->acRespawnPlayer();
						}
					}
				}
			}

		//##### Combo Stacks #####//

										//## SUSPEND ##
		if(player[g_Player]->attackon == 0 /*&& player[g_Player]->Aposestate < 8*/ && player[g_Player]->Mposestate != 8 && player[g_Player]->Mposestate != 26 && player[g_Player]->Mposestate != 28 && player[g_Player]->Mposestate != 29 && (player[g_Player]->Block == 0 || (player[g_Player]->Block == 1 && player[g_Player]->CrouchInit == 1)))
			{
			if(( player[g_Player]->attackstack[player[g_Player]->astackrun] != 0 ) && ( player[g_Player]->astackrun < player[g_Player]->astackcnt ))
				{
				player[g_Player]->Aposestate = player[g_Player]->attackstack[player[g_Player]->astackrun];
				player[g_Player]->attackon = 1;
				player[g_Player]->attackstack[player[g_Player]->astackrun] = 0;
				if(player[g_Player]->astackrun < 6) player[g_Player]->astackrun++;
				player[g_Player]->attposecnt = 0;
				player[g_Player]->attackprog = 0;
				player[g_Player]->collide = 0;
				player[g_Player]->AttackSoundTRIG = 0;
				player[g_Player]->AttackSoundINITTRIG = 0;
				player[g_Player]->AttackPos = 0;
				player[g_Player]->attackhitRcount = 0;
				
				player[g_Player]->AntiMultHits[250] = 0;
				aero=0;
				while(aero < _->NomAI)
					{
					player[g_Player]->AntiMultHits[aero] = 0;
					aero++;
					}
				player[g_Player]->attackhits = 0;

				player[g_Player]->AntiMultHitsSHIELD[250] = 0;
				aero=0;
				while(aero < _->NomAI)
					{
					player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
					aero++;
					}

				player[g_Player]->EnergyDisplayLock = 0;
				player[g_Player]->EnergyDisplayAlpha = 80;
				player[g_Player]->EnergyDisplayColor = 255;
				player[g_Player]->EnergyDisplayScale = 0.22;
				player[g_Player]->EnergyTargetLock = 0;
				player[g_Player]->EnergyLockID = 0;
				player[g_Player]->EnergyCloseDist = 0;
				player[g_Player]->EnergyCloseID = 0;
				player[g_Player]->EnergyTargetLaserAlpha = 0;
				player[g_Player]->EnergyInitialise = 0;
				//player[g_Player]->AirBorn = 0;

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->JinkInit = 0;
				player[g_Player]->JumpState = 0;
				player[g_Player]->HoldBack = 0;
				player[g_Player]->Flip = 0;
				player[g_Player]->HB_DmgSTORE = 0;
				player[g_Player]->WindWake = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 14;

				if(player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 24)
					{
					_->TimePlayerLock = 0;
					player[g_Player]->JSpiralCAM = 0;
					}

				//#### Cancel AirJink Status for jink moves
				/*if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}*/

				//#### Cancel AirJink Status for Wall Run
				/*if(player[g_Player]->Mposestate == 9 && player[g_Player]->AirJinkRotFG == 1)
					{
					_->TimeScale = 1;
					player[g_Player]->AirJinkRotFG = 0;
					player[g_Player]->AirJinkInit = 0;
					player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
					Qpo->Transform_RotateY(&player[g_Player]->ROTATEMatrix, player[g_Player]->Angles.y);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
					playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
					}*/

				//### Cancel DODGES
				if((player[g_Player]->Mposestate == 26 || player[g_Player]->Mposestate == 28 || player[g_Player]->Mposestate == 29 || player[g_Player]->Mposestate == 23 || player[g_Player]->Mposestate == 24 || player[g_Player]->Mposestate == 8) && (player[g_Player]->Aposestate != 19) && (player[g_Player]->Aposestate != 200) && (player[g_Player]->Aposestate != 202) && (player[g_Player]->Aposestate != 203) && (player[g_Player]->Aposestate != 204) && (player[g_Player]->Aposestate != 207))
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->runposecnt = 0;
					player[g_Player]->blendamount[0] = 0;
					}


				if(player[g_Player]->ShadowsOn == 1 || 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[1].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[2].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[3].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					}

				//##### - Switch to Air Jink - #####
				if(player[g_Player]->AirJinkPrep == 3)
					{
					player[g_Player]->AirJinkPrep = 0;

					player[g_Player]->JumpPoseINC = 0.06;
					player[g_Player]->jumpposecnt = 0.33;
					player[g_Player]->AirJinkRotFG = 0;
					player[g_Player]->AirJinkInit = 0;

						//# Spin Player Back
					player[g_Player]->AirJinkRotFG = 0;
					player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
					player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
					//if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
					//if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
					Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y);	/// Originaly -
					Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
					QpoVec3d i_Vector = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
					playerAV[g_Player]->Xform.Translation = i_Vector;
					player[g_Player]->AvatarRotation = player[g_Player]->trueAngles.y;

					player[g_Player]->Mposestate = 14;
					}

				//TEMP ATTACK LIGHT
				/*if(player[g_Player]->ATTLightON == 0)
					{
					player[g_Player]->ATTLightColor.red = 255.0f;
					player[g_Player]->ATTLightColor.green = 255.0f;
					player[g_Player]->ATTLightColor.blue = 255.0f;
					player[g_Player]->ATTLightColor.alpha = 155.0f;

					player[g_Player]->ATTLight = Qpo->Light_AddtoWorld(_->GenericLightPos);
					player[g_Player]->ATTLightON = 1;
					}

				Qpo->Light_SetAttr(player[g_Player]->ATTLight, &player[g_Player]->AttPos.Translation, &player[g_Player]->ATTLightColor, 50, true);*/
				}
			else
				{
				player[g_Player]->astackcnt = 0;
				player[g_Player]->astackrun = 0;
				player[g_Player]->astackcntdir[0] = 0;

				player[g_Player]->AntiMultHits[250] = 0;
				aero=0;
				while(aero < _->NomAI)
					{
					player[g_Player]->AntiMultHits[aero] = 0;
					aero++;
					}
				player[g_Player]->attackhits = 0;
				player[g_Player]->AntiMultHitsSHIELD[250] = 0;
				aero=0;
				while(aero < _->NomAI)
					{
					player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
					aero++;
					}
				}
			}

		//### - Activate Combo Speed - ###
		if(player[g_Player]->astackcnt > 1) player[g_Player]->attcombo = 1;
		else player[g_Player]->attcombo = 0;

		//### CANCELLATION
		if(player[g_Player]->attackon == 0)
			{
			player[g_Player]->AntiMultHits[250] = 0;
			aero=0;
			while(aero < _->NomAI)
				{
				player[g_Player]->AntiMultHits[aero] = 0;
				aero++;
				}
			player[g_Player]->attackhits = 0;

			player[g_Player]->AntiMultHitsSHIELD[250] = 0;
			aero=0;
			while(aero < _->NomAI)
				{
				player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
				aero++;
				}

			player[g_Player]->astackcntdir[0] = 0;
			player[g_Player]->astackcntdir[1] = 0;
			player[g_Player]->astackcntdir[0] = 0;
			player[g_Player]->astackcntdir[3] = 0;
			player[g_Player]->astackcntdir[4] = 0;
			player[g_Player]->DeflectLethal = 0;
			player[g_Player]->HitLethal = 0;
			player[g_Player]->JinkInit = 0;
			player[g_Player]->HoldBack = 0;
			player[g_Player]->Flip = 0;
			player[g_Player]->Q_Jink.ON = 0;
			player[g_Player]->JinkSPECEFF = 0;

			player[g_Player]->EnergyDisplayLock = 0;
			player[g_Player]->EnergyDisplayAlpha = 80;
			player[g_Player]->EnergyDisplayColor = 255;
			player[g_Player]->EnergyDisplayScale = 0.22;
			player[g_Player]->EnergyTargetLock = 0;
			player[g_Player]->EnergyLockID = 0;
			player[g_Player]->EnergyCloseDist = 0;
			player[g_Player]->EnergyCloseID = 0;
			player[g_Player]->EnergyTargetLaserAlpha = 0;
			player[g_Player]->EnergyInitialise = 0;
			player[g_Player]->collide = 0;
			player[g_Player]->WindWake = 0;
			player[g_Player]->TrailINIT = 0;

			if(player[g_Player]->ATTLightON == 1)
				{
				player[g_Player]->ATTLightON = 0;
				Qpo->Light_Remove(player[g_Player]->ATTLight);
				}

			/*if(player[g_Player]->ShadowsOn == 1 && player[g_Player]->Mposestate != 13)
				{
				player[g_Player]->ShadowsOn = 0;
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
				Qpo->Avatar_SetScale(&player[g_Player]->Shadows[1].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
				Qpo->Avatar_SetScale(&player[g_Player]->Shadows[2].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
				Qpo->Avatar_SetScale(&player[g_Player]->Shadows[3].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
				}*/

			if(player[g_Player]->Mposestate != 13)
				{
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				}
			}


		//##### Spec Level Reset (NetPlay Only) #####
		if(player[g_Player]->SpecLvlRESET != 0 && _->NetworkOption == 1)
			{
			if(player[g_Player]->SpecLvlRESET == 1) player[g_Player]->KL_LTFSpecLevel = 0;
			if(player[g_Player]->SpecLvlRESET == 2) player[g_Player]->KL_RTFSpecLevel = 0;
			if(player[g_Player]->SpecLvlRESET == 3) player[g_Player]->KL_FTLSpecLevel = 0;
			if(player[g_Player]->SpecLvlRESET == 4) player[g_Player]->KL_FTRSpecLevel = 0;

			if(player[g_Player]->SpecLvlRESET == 5)
				{
				player[g_Player]->KL_LTFSpecLevel = 0;
				player[g_Player]->KL_RTFSpecLevel = 0;
				player[g_Player]->KL_FTLSpecLevel = 0;
				player[g_Player]->KL_FTRSpecLevel = 0;
				}

			player[g_Player]->SpecLvlRESET = 0;
			}


		//##### Attack Sounds #####

		/*QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm,
						&player[g_Player]->RFistPos.Translation,
						600.0f,
						2.0f,
						&Volume,
						&Pan,
						&Frequency);*/


		//# Attack Init [VHKick]
		if((player[g_Player]->Aposestate == 60 || player[g_Player]->Aposestate == 35) && player[g_Player]->AttackSoundINITTRIG == 0)
			{
			player[g_Player]->AttackSoundINITTRIG = 1;
			Qpo->Sound_Play(Medias->S_AttINITFEMALE, 1.0f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
			}

		//# Attack Init Small [Flame Uppercut]
		if((player[g_Player]->Aposestate == 65 || player[g_Player]->Aposestate == 61 || player[g_Player]->Aposestate == 31 || player[g_Player]->Aposestate == 73 || player[g_Player]->Aposestate == 76 || player[g_Player]->Aposestate == 78 || player[g_Player]->Aposestate == 32 || player[g_Player]->Aposestate == 50) && player[g_Player]->AttackSoundINITTRIG == 0)
			{
			player[g_Player]->AttackSoundINITTRIG = 1;
			Qpo->Sound_Play(Medias->S_AttINITSMLFEMALE, 1.0f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
			}

		//# Attack Init Small [Jink Special Flame Uppercut]
		if((player[g_Player]->Aposestate == 64 || player[g_Player]->Aposestate == 75 || player[g_Player]->Aposestate == 74 || player[g_Player]->Aposestate == 57) && player[g_Player]->AttackSoundINITTRIG == 0)
			{
			player[g_Player]->AttackSoundINITTRIG = 1;
			Qpo->Sound_Play(Medias->S_AttINITMULTFEMALE, 1.0f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
			}


		if(player[g_Player]->AttackSoundTRIG == 0 && player[g_Player]->HitLethal == 1)
			{
			player[g_Player]->AttackSoundTRIG = 1;

			/*QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm,
						&player[g_Player]->RFistPos.Translation,
						600.0f,
						2.0f,
						&Volume,
						&Pan,
						&Frequency);*/

			//'ATTACK' SOUND

			//# Normal Swishes
			if(player[g_Player]->Aposestate == 47 || player[g_Player]->Aposestate == 48 || player[g_Player]->Aposestate == 43 || player[g_Player]->Aposestate == 42 || player[g_Player]->Aposestate == 38 || player[g_Player]->Aposestate == 37 || player[g_Player]->Aposestate == 36 || player[g_Player]->Aposestate == 8 || player[g_Player]->Aposestate == 9 || player[g_Player]->Aposestate == 10 || player[g_Player]->Aposestate == 11 || player[g_Player]->Aposestate == 12 || player[g_Player]->Aposestate == 13 || player[g_Player]->Aposestate == 16 || player[g_Player]->Aposestate == 27 || player[g_Player]->Aposestate == 29 || player[g_Player]->Aposestate == 68)
				{
				_->SoundFinger = ((float)rand() / 32767)*4;
				if(_->SoundFinger <= 1) Qpo->Sound_Play(Medias->S_SwishN1, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				if(_->SoundFinger > 1 && _->SoundFinger <= 2) Qpo->Sound_Play(Medias->S_SwishN2, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				if(_->SoundFinger > 2 && _->SoundFinger <= 3) Qpo->Sound_Play(Medias->S_SwishN3, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				if(_->SoundFinger > 3 && _->SoundFinger <= 4) Qpo->Sound_Play(Medias->S_SwishN4, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

				//# Heavy Swishes
			if(player[g_Player]->Aposestate == 44 ||player[g_Player]->Aposestate == 41 ||player[g_Player]->Aposestate == 40 ||player[g_Player]->Aposestate == 39|| player[g_Player]->Aposestate == 17 || player[g_Player]->Aposestate == 21 || player[g_Player]->Aposestate == 22 || player[g_Player]->Aposestate == 23 || player[g_Player]->Aposestate == 24 || player[g_Player]->Aposestate == 31 || player[g_Player]->Aposestate == 33 || player[g_Player]->Aposestate == 13 || player[g_Player]->Aposestate == 10 || player[g_Player]->Aposestate == 67 || player[g_Player]->Aposestate == 44 || player[g_Player]->Aposestate == 66)
				{
				_->SoundFinger = ((float)rand() / 32767)*5;
				if(_->SoundFinger <= 1) Qpo->Sound_Play(Medias->S_SwishH1, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				if(_->SoundFinger > 1 && _->SoundFinger <= 2) Qpo->Sound_Play(Medias->S_SwishH2, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				if(_->SoundFinger > 2 && player[g_Player]->Aposestate != 66) Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				if(player[g_Player]->Aposestate != 66) Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

				//# Flame Swishes
			if(player[g_Player]->Aposestate == 46 || player[g_Player]->Aposestate == 41)
				{
				Qpo->Sound_Play(Medias->S_FireCrackle, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}
			}


		//##### Sound Triggers (NetPlay Only) #####
		if(player[g_Player]->SNDTRIGEnergy != 0 && _->NetworkOption == 1)
			{
			switch(player[g_Player]->SNDTRIGEnergy)
				{
				case 1:
					{
					
								//'Jink Error'
					Qpo->Sound_Play(Medias->S_KeyLogError, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					player[g_Player]->SNDTRIGEnergy = 0;
					}break;

				case 2:
					{
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
								//'Jink Error'
					Qpo->Sound_Play(Medias->S_Jink, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					player[g_Player]->SNDTRIGEnergy = 0;
					}break;

				case 3:
					{
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
								//'Jink Error'
					Qpo->Sound_Play(Medias->S_CJink, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					player[g_Player]->SNDTRIGEnergy = 0;
					}break;

				case 4:
					{
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
								//'Jink Error'
					Qpo->Sound_Play(Medias->S_BJink, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					player[g_Player]->SNDTRIGEnergy = 0;
					}break;

				case 5:
					{
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
								//'Jink Error'
					Qpo->Sound_Play(Medias->S_Build, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					player[g_Player]->SNDTRIGEnergy = 0;
					}break;
				}
			}


		//#######  Attack Data Alterations  #######

		if(player[g_Player]->attackon == 1)
			{
			player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = 1;
			player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = 1;
			player[g_Player]->JinkSPECEFF = 0;

			//###### SWITCH OUT ATTACK SPECS
			switch(player[g_Player]->Aposestate)
				{
				case 65:	//RUSH ELBOW
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[1].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[1].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 22:	//LEAP SPIN KICK
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[2].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[2].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 31:	//RIGHT HEAVY KICK
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[5].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[5].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 58:	//SKY PUSH
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[7].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[7].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 61:	//TWIST KICK
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[8].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[8].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 32:	//FLAME UPPERCUT
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[10].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[10].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 35:	//VERY HEAVY KICK
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[11].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[11].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 76:	//JS RUSH UP
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[17].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[17].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 85:	//JS RUSH PUNCH
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[13].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[13].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 73:	//JS RUSH
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[14].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[14].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 64:	//POWER COMBO
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[19].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[19].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 75:	//STATIC KICK
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[20].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[20].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 57:	//JS FLAME UPPERCUT
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[22].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[22].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 25://HYPER KNEE FLEX
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[23].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[23].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 53://AIR DASH
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[25].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[25].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 56://SAKURA TRIBUTE
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[26].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[26].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 34://SPIN KICK FULL ROTATION
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[27].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[27].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;

				case 84://CYCLONE KICK
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[16].MoveSpeed / 5000) * 1.3) + 1;
					player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[16].Power / 5000) * 50) + 1;
					player[g_Player]->JinkSPECEFF = 1;
					break;
				}

			player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower *= (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * ((((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.AggPower/100)*1.3)+1);
			player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed *= (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * ((((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.AggPower/100)*1.3)+0.5);

			//##### ITEM ATTRIBUTE INCREMENT #####
			if(player[g_Player]->JinkSPECEFF == 1)
				{
				player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.JINKINCmovespeed;
				player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.JINKINCpower;
				}
			}


	//#####----  Motion Hub  ----######//


	//####### - FIRST ORDER ANIMATION -  ATTACK LIST  #######//

	if(player[g_Player]->attackon == 1)
		{
		player[g_Player]->AttackIdle = 2000;

		switch(player[g_Player]->Aposestate)
			{
			case 0:
				{}break;


			case 1:
				{}break;


			case 2:
				{}break;


			case 3:
				{}break;


			case 4:
				{}break;


			case 5:
				{}break;


			case 6:
				{}break;


			case 7:
				{}break;


			case 8:	//LLPunch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 5, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[5]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.67) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[5] = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.5) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[5] = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->attposecnt < 0.41 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Forwards

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -35, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -10*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * (10/3.5) * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}

				if(player[g_Player]->blendamount[5] + (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[5] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.3 && player[g_Player]->attposecnt<=0.42)
					{
					Q.ColldetMelee(5,0.3,0.42,0.42,0,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 9:	//RLPunch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 6, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[6]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.412*_->TimeScale) < 3.10) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.412*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[6] = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.412*_->TimeScale) < 2.10) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.412*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[6] = 0;
						player[g_Player]->attackon = 0;
						}
					}

				  //###Move Forwards
				if(player[g_Player]->attposecnt < 1.65 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 35, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_GetIn(&playerAV[g_Player]->Xform,&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 4 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}

				if(player[g_Player]->blendamount[6]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[6] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=1.1 && player[g_Player]->attposecnt<=1.8)
					{
					Q.ColldetMelee(14,1.1,1.8,1.7,1,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 10:	//RHPunch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 7, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[7]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 1.23) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * (0.1*_->TimeScale);
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[7] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 1.23) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * (0.1*_->TimeScale);	//0.75
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[7] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

				  //###Move Forwards
				if(player[g_Player]->attposecnt < 0.50 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 35, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -4 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}


				if(player[g_Player]->blendamount[7] + (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[7] += (0.5*_->TimeScale);

				if(player[g_Player]->attposecnt>=0.45 && player[g_Player]->attposecnt<=0.9)
					{
					Q.ColldetMelee(14,0.45,0.9,0.56,2,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 11:	//RMKick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 8, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[8]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.48*_->TimeScale) < 4.47) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.48*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[8] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.48*_->TimeScale) < 4) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.48*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[8] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->blendamount[8]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[8] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=2.6 && player[g_Player]->attposecnt<=3)
					{
					Q.ColldetMelee(12,2.6,3,2.9,0,2,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 12:	//LMPunch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 9, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[9]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.33*_->TimeScale) < 2.50) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.33*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[9] = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.33*_->TimeScale) < 1.95) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.33*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[9] = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->attposecnt < 1.8 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Forwards

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 35, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * (10/3.5) * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}

				if(player[g_Player]->blendamount[9] + (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[9] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=1.25 && player[g_Player]->attposecnt<=1.5)
					{
					Q.ColldetMelee(5,1.25,1.5,1.4,1,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 13:	//RMPunch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 10, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[10]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.15*_->TimeScale) < 3.67) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * (0.15*_->TimeScale);
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[10] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.2*_->TimeScale) < 2.45) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * (0.2*_->TimeScale);
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[10] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

				if(player[g_Player]->attposecnt < 1.4 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Forwards

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 35, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}

				//#####- Special Hit Reactions -#####
				//if(player[g_Player]->JSHitTrigger == 0)
				//	{
				//	player[g_Player]->JSHitTrigger = 1;

					/*jet = 0;
					while(jet < 1)
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 4;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*90)+80;
						Q_Cloud->Cloud[_->NomCloud].CloudScale = (((float)rand() / 32767)*0.08)+0.02;

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x = (((float)rand() / 32767)-0.5) *4;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y = (((float)rand() / 32767)-0.5);
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z = (((float)rand() / 32767)-0.5) * 4;

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = ((((float)rand() / 32767))+0.3)*5;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}*/
				//	}


				if(player[g_Player]->blendamount[10]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[10] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=1.10 && player[g_Player]->attposecnt<=1.53)
					{
					Q.ColldetMelee(14,1.10,1.53,1.45,9,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 14:	//Spirit Bomb
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 18, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[18]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.15*_->TimeScale) < 3.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.15*_->TimeScale;	//0.15
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 15;
					player[g_Player]->blendamount[19] = 0;
					player[g_Player]->blendamount[18] = 0;
					player[g_Player]->energyinit[0] = 0;
					}

				if(player[g_Player]->blendamount[18]+ (0.055*_->TimeScale) <=1) player[g_Player]->blendamount[18] += 0.055*_->TimeScale;
				}break;

			case 15:
				{}break;


			/*case 15:	//Spirit Bomb (Charging then fire)
				{
				if(player[g_Player]->energyinit[0] == 0)
					{
					player[g_Player]->energyinit[0] = 1;
					player[g_Player]->energyMedias->fire[0] = 0;

					player[g_Player]->enerlight = 80;
					player[g_Player]->enerscale = 0.01;
					player[g_Player]->scaleinc = 0.02;
					player[g_Player]->enerscalegrow = 0;

					lightpos.x = playerAV[g_Player]->Xform.Translation.x;
					lightpos.y = playerAV[g_Player]->Xform.Translation.y + 161;
					lightpos.z = playerAV[g_Player]->Xform.Translation.z;

					playerlight = Qpo->Light_AddtoWorld(_->GenericLightPos);

				
				if(player[g_Player]->energyMedias->fire[0] == 0)
					{
					player[g_Player]->enerlight += 1*_->TimeScale;
					if(player[g_Player]->enerscale < 1 && player[g_Player]->enerscalegrow == 0)
						{
						player[g_Player]->enerscale += player[g_Player]->scaleinc*_->TimeScale;	//0.0008;	//0.008//0.05	************HERE*************
						player[g_Player]->scaleinc -= 0.0002*_->TimeScale;
						player[g_Player]->enersavescale = player[g_Player]->enerscale;
						}
					else
						{
						player[g_Player]->enerscale = player[g_Player]->enersavescale + ((((float)rand() / 32767) - 0.5) / 50)*_->TimeScale;
						player[g_Player]->enerscalegrow = 1;
						}
					Qpo->Avatar_SetLighting(&playerAV[g_Player]->Avatar, true, &goup, 200, 200, 200, 190, 145, 100, true, 8, NULL, true);
					if(_->lbutton[g_Player] == 1) player[g_Player]->energyMedias->fire[0] = 1;
					}
				else
					{
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 19, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[19]);

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.15*_->TimeScale) < 1.40) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.15*_->TimeScale;
					if(player[g_Player]->blendamount[19]+ (0.055*_->TimeScale) <=1) player[g_Player]->blendamount[19] += 0.055*_->TimeScale;

					Qpo->Transform_GetIn(&player[g_Player]->ViewXForm, &player[g_Player]->In);
					player[g_Player]->oldpos = lightpos;
					Qpo->Vec3d_AddScaled(&lightpos, 8, &player[g_Player]->InStore, &lightpos);

					if(Qpo->Collision_RayTest(
							 NULL, 
							 NULL, 
							 &player[g_Player]->oldpos, 
							 &lightpos, 
							 0xffffffff, NULL, NULL, 
							 &player[g_Player]->Collision))
						{
						Qpo->Light_Remove(playerlight);
						Qpo->Avatar_Remove(&actorexpp.Avatar);
						Qpo->Avatar_SetLighting(&playerAV[g_Player]->Avatar,true,&goup,200,200,200,190,145,100,false,8,NULL,true);
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[19] = 0;
						player[g_Player]->attackon = 0;
						}
					}

				Qpo->Light_SetAttr(playerlight, &lightpos, &lightcolor, player[g_Player]->enerlight + (((rand() % player[g_Player]->enerlight) / 5) - (player[g_Player]->enerlight / 10)), false);
				
				Qpo->Avatar_GetTex(&actorexpp.Avatar, shicount, Medias->shibitmap, &shir, &shig, &shib);

				Qpo->Avatar_SetTex(&actorexpp.Avatar, 0, Medias->shibitmap, &shir, &shig, &shib);

				if(shicount + 1 < 51) shicount++;
				else shicount = 1;

				Qpo->Vec3d_Copy(&lightpos, &actorexpp.Xform.Translation);
				Qpo->Avatar_SetScale(&actorexpp.Avatar, player[g_Player]->enerscale,player[g_Player]->enerscale,player[g_Player]->enerscale);

				Qpo->Transform_New_YRotation(&AIfriendly, 0);		//20
				Qpo->Transform_New_YRotation(&AIfriendly, 0.2*_->TimeScale);	//10

				if(sunriseF == 0) sunrise += ((rand() % 45) + 15)*_->TimeScale;		//(rand() % 90) + 30;
				if(sunrise > 255)
					{
					sunrise = 255;
					sunriseF = 1;
					}
				if(sunriseF == 1) sunrise -= ((rand() % 45) + 15)*_->TimeScale;		//(rand() % 90) + 30;
				if(sunrise < 100)
					{
					sunrise = 100;
					sunriseF = 0;
					}

				Qpo->Avatar_ClearPose(actorexpp.Avatar, &actorexpp.Xform);

				aero = 0;
				while(aero < 10)
					{

				//Set these vec3ds at lightning init
				Q_Lightning->Lightning[0].Pos.x = lightpos.x;
				Q_Lightning->Lightning[0].Pos.y = lightpos.y;
				Q_Lightning->Lightning[0].Pos.z = lightpos.z;

				Q_Lightning->Lightning[0].TraVec.x = (((float)rand() / 32767) * 2 ) - 1;
				Q_Lightning->Lightning[0].TraVec.y = (((float)rand() / 32767) * 2 ) - 1;	// <---Maybe not this
				Q_Lightning->Lightning[0].TraVec.z = (((float)rand() / 32767) * 2 ) - 1;

				Q_Lightning->Lightning[0].LengNum = (rand() % 5) + 1;	//(rand() % 10) + 1;

				Q_Lightning->Lightning[0].Type = QPOLY_TYPE_TRI;
				Q_Lightning->Lightning[0].RenderFlags = 0;//QPOLY_REND_DEPTH_SORT;
				Q_Lightning->Lightning[0].Bitmap = lightning;
				Q_Lightning->Lightning[0].Scale = 1.0f;

				Q_Lightning->Lightning[0].Count = 0;
				Q_Lightning->Lightning[0].Live = 1;

				//Q_Lightning->Lightning run process
				helly = 0;
				while(helly < (Q_Lightning->Lightning[0].LengNum + 1))
					{
					Q_Lightning->Lightning[0].TraVec.x += (((float)rand() / 32767) * 2 ) - 1;	//(((float)rand() / 32767)) - 0.5;
					Q_Lightning->Lightning[0].TraVec.y += (((float)rand() / 32767) * 2 ) - 1;	//(((float)rand() / 32767)) - 0.5;
					Q_Lightning->Lightning[0].TraVec.z += (((float)rand() / 32767) * 2 ) - 1;	//(((float)rand() / 32767)) - 0.5;

					Q_Lightning->Lightning[0].Length = (((float)rand() / 32767) * 7) + 0.3;	//(rand() % 60) + 50;
					if(helly == 0) Q_Lightning->Lightning[0].Width = 0.2;
					else Q_Lightning->Lightning[0].Width = 0.06;		//(((float)rand() / 32767) * 1) + 0.02;	//(rand() % 10) + 1;

					Qpo->Transform_New(&Q_Lightning->Lightning[0].Roton);
					Qpo->Transform_RotateY(&Q_Lightning->Lightning[0].Roton, 1.5708);
					Qpo->Transform_RotateVector(&Q_Lightning->Lightning[0].Roton, &Q_Lightning->Lightning[0].TraVec, &Q_Lightning->Lightning[0].WidthVec);
					Qpo->Vec3d_Scale(&Q_Lightning->Lightning[0].WidthVec, Q_Lightning->Lightning[0].Width, &Q_Lightning->Lightning[0].WidthVec);

					if(helly == 0) Qpo->Vec3d_Subtract(&Q_Lightning->Lightning[0].Pos, &Q_Lightning->Lightning[0].WidthVec, &Q_Lightning->Lightning[0].Vert1);
					else Q_Lightning->Lightning[0].Vert1 = Q_Lightning->Lightning[0].Vert4;
					if(helly == 0) Qpo->Vec3d_Add(&Q_Lightning->Lightning[0].Pos, &Q_Lightning->Lightning[0].WidthVec, &Q_Lightning->Lightning[0].Vert2);
					else Q_Lightning->Lightning[0].Vert2 = Q_Lightning->Lightning[0].Vert3;

					//Rescale Width ???

					Qpo->Vec3d_AddScaled(&Q_Lightning->Lightning[0].Pos, Q_Lightning->Lightning[0].Length, &Q_Lightning->Lightning[0].TraVec, &Q_Lightning->Lightning[0].Avatar.Posend);

					Qpo->Vec3d_Add(&Q_Lightning->Lightning[0].Avatar.Posend, &Q_Lightning->Lightning[0].WidthVec, &Q_Lightning->Lightning[0].Vert3);
					Qpo->Vec3d_Subtract(&Q_Lightning->Lightning[0].Avatar.Posend, &Q_Lightning->Lightning[0].WidthVec, &Q_Lightning->Lightning[0].Vert4);

					Q_Lightning->Lightning[0].Pos = Q_Lightning->Lightning[0].Avatar.Posend;


					Q_Lightning->Lightning[0].Lvert[helly][0].a = 255;
					Q_Lightning->Lightning[0].Lvert[helly][0].b = 255;
					Q_Lightning->Lightning[0].Lvert[helly][0].g = 210;
					Q_Lightning->Lightning[0].Lvert[helly][0].r= 210;
					Q_Lightning->Lightning[0].Lvert[helly][0].u = 1;
					Q_Lightning->Lightning[0].Lvert[helly][0].v = 0;
					Q_Lightning->Lightning[0].Lvert[helly][0].x = Q_Lightning->Lightning[0].Vert1.x;
					Q_Lightning->Lightning[0].Lvert[helly][0].y = Q_Lightning->Lightning[0].Vert1.y;
					Q_Lightning->Lightning[0].Lvert[helly][0].z = Q_Lightning->Lightning[0].Vert1.z;


					Q_Lightning->Lightning[0].Lvert[helly][1].a = 255;
					Q_Lightning->Lightning[0].Lvert[helly][1].b = 255;
					Q_Lightning->Lightning[0].Lvert[helly][1].g = 210;
					Q_Lightning->Lightning[0].Lvert[helly][1].r = 210;
					Q_Lightning->Lightning[0].Lvert[helly][1].u = 1;
					Q_Lightning->Lightning[0].Lvert[helly][1].v = 1;
					Q_Lightning->Lightning[0].Lvert[helly][1].x = Q_Lightning->Lightning[0].Vert2.x;
					Q_Lightning->Lightning[0].Lvert[helly][1].y = Q_Lightning->Lightning[0].Vert2.y;
					Q_Lightning->Lightning[0].Lvert[helly][1].z = Q_Lightning->Lightning[0].Vert2.z;


					Q_Lightning->Lightning[0].Lvert[helly][2].a = 255;
					Q_Lightning->Lightning[0].Lvert[helly][2].b = 255;
					Q_Lightning->Lightning[0].Lvert[helly][2].g = 210;
					Q_Lightning->Lightning[0].Lvert[helly][2].r = 210;
					Q_Lightning->Lightning[0].Lvert[helly][2].u = 0;
					Q_Lightning->Lightning[0].Lvert[helly][2].v = 1;
					Q_Lightning->Lightning[0].Lvert[helly][2].x = Q_Lightning->Lightning[0].Vert3.x;
					Q_Lightning->Lightning[0].Lvert[helly][2].y = Q_Lightning->Lightning[0].Vert3.y;
					Q_Lightning->Lightning[0].Lvert[helly][2].z = Q_Lightning->Lightning[0].Vert3.z;


					Q_Lightning->Lightning[0].Lvert[helly][3].a = 255;
					Q_Lightning->Lightning[0].Lvert[helly][3].b = 255;
					Q_Lightning->Lightning[0].Lvert[helly][3].g = 210;
					Q_Lightning->Lightning[0].Lvert[helly][3].r = 210;
					Q_Lightning->Lightning[0].Lvert[helly][3].u = 0;
					Q_Lightning->Lightning[0].Lvert[helly][3].v = 0;
					Q_Lightning->Lightning[0].Lvert[helly][3].x = Q_Lightning->Lightning[0].Vert4.x;
					Q_Lightning->Lightning[0].Lvert[helly][3].y = Q_Lightning->Lightning[0].Vert4.y;
					Q_Lightning->Lightning[0].Lvert[helly][3].z = Q_Lightning->Lightning[0].Vert4.z;

					Qpo->Poly_AddOnce(&Q_Lightning->Lightning[0].Lvert[helly][0], 4, Q_Lightning->Lightning[0].Bitmap, Q_Lightning->Lightning[0].Scale);

					helly += 1;
					}
					aero += 1;
					}
				}break;*/


			case 16:	//RSPunch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 20, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[20]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.09*_->TimeScale) < 0.57) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.09*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[20] = 0;
					player[g_Player]->attackon = 0;
					}

				  //###Move Forwards
				if(player[g_Player]->attposecnt < 0.31 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 4 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}

				if(player[g_Player]->blendamount[20]+ (1*_->TimeScale) <=1) player[g_Player]->blendamount[20] += 1*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.2 && player[g_Player]->attposecnt<=0.31)
					{
					Q.ColldetMelee(14,0.2,0.31,0.31,1,2,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 17:	//UpperCut
				{
				//player[g_Player]->JinkSpecialON = 3;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 21, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[21]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				/*if(player[g_Player]->TimeHoleFLAG == 0 && player[g_Player]->attposecnt > 0.15)
					{
					_->JinkTime = 1;
					_->TimeHole = 1;
					player[g_Player]->TimeHoleFLAG = 1;
					}*/

				/*player[g_Player]->Q_Jink.Live = 1;
				player[g_Player]->Q_Jink.ON = 1;
				player[g_Player]->Q_Jink.Init = 0;
				player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
				player[g_Player]->Q_Jink.FogON = 1;*/

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 1.10)
					{
					player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					}
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[21] = 0;
					player[g_Player]->attackon = 0;
					//player[g_Player]->TimeHoleFLAG = 0;
					//player[g_Player]->astackcnt = 0;
					//player[g_Player]->astackrun = 0;
					//player[g_Player]->astackcntdir[0] = 0;
					}

				if(player[g_Player]->attposecnt < 0.65 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Forwards

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[21]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[21] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.6)
					{
					Q.ColldetMelee(14,0.4,0.6,0.6,3,2,2);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;

			case 18:	//Blank
				{}break;

			case 19:	//Blank
				{}break;

			case 20:	//Blank
				{}break;

			case 21:	//Blank
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 29, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[29]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 1.07) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[29] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					}

				if(player[g_Player]->blendamount[29]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[29] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.3 && player[g_Player]->attposecnt<=0.45)
					{
					Q.ColldetMelee(12,0.3,0.45,0.45,3,2,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			/*case 22:	//Leap Spin Kick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 30, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[30]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.9 && player[g_Player]->attposecnt >= 1.6)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < 25 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}


				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);


				if(player[g_Player]->attposecnt > 0.15 && player[g_Player]->attposecnt < 1.2 &&  player[g_Player]->collide==0)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*//*&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, *//* 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact; player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else player[g_Player]->WindWake = 0;


				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.14*_->TimeScale) < 2.13) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.14*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[30] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->JinkInit = 0;

					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;

					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}


				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->attposecnt - (0.08*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 30, player[g_Player]->attposecnt - (0.08*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[30]);
					}


				if(player[g_Player]->blendamount[30]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[30] += 0.5*_->TimeScale;	//0.055

				if(player[g_Player]->attposecnt>=1.1 && player[g_Player]->attposecnt<=1.42)
					{
					Q.ColldetMelee(12,1.1,1.42,1.25,9,3,3);
					player[g_Player]->HitLethal = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;*/


			case 22:	//Leap Spin Kick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 30, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[30]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.9 && player[g_Player]->attposecnt <= 1.6)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					/*helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}*/

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 10) + 1;	//3
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 4;	//50
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				if(player[g_Player]->attposecnt > 0.15 && player[g_Player]->attposecnt < 1.2 &&  player[g_Player]->collide==0)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else player[g_Player]->WindWake = 0;

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.14*_->TimeScale) < 2.13) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.14*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[30] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->JinkInit = 0;

					//player[g_Player]->astackcnt = 0;
					//player[g_Player]->astackrun = 0;
					//player[g_Player]->astackcntdir[0] = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				if(player[g_Player]->ShadowMeM[1].Translation.x != 0)		//2 - 4 - 8		//2 - 4 - 7
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 30, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 30, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 30, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				if(player[g_Player]->attposecnt - 0.07 * player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * _->TimeScale >= 0) player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt - 0.07 * player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * _->TimeScale;//((player[g_Player]->attposecnt - player[g_Player]->ShadowMeMPose[1]) / 2);
				else player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 11;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[30]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[30] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=1.1 && player[g_Player]->attposecnt<=1.42)
					{
					Q.ColldetMelee(12,1.1,1.42,1.26,9,3,1);	//1.2
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 23:	//HoldDash
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 39, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[39]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 200, 255, 200, 1);
					player[g_Player]->TrailsOn = 1;
					}

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 1)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 200, 255, 200, 0);
					player[g_Player]->TrailsOn = 1;
					}


				if(player[g_Player]->LitAdFlag == 0 && player[g_Player]->attposecnt >= 0.3)
					{
					player[g_Player]->LitAdFlag = 1;
					player[g_Player]->BodyLight = Qpo->Light_AddtoWorld(_->GenericLightPos);
					player[g_Player]->BodyLightColor.red = 0.0f;
					player[g_Player]->BodyLightColor.green = 225.0f;
					player[g_Player]->BodyLightColor.blue = 0.0f;
					player[g_Player]->BodyLightColor.alpha = 255.0f;
					Qpo->Avatar_SetLighting(&playerAV[g_Player]->Avatar,true,&goup,0,130,0,190,170,100,false,8,NULL,true); //192 192 192
					}

				if(player[g_Player]->LitAdFlag == 1) Qpo->Light_SetAttr(player[g_Player]->BodyLight, &player[g_Player]->AttPos.Translation, &player[g_Player]->BodyLightColor, 150, true);



					//### Move to Hold Position
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.3) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;	//0.15
				else
					{
					if(player[g_Player]->attackprog == 0)
						{
						player[g_Player]->attposecnt = 0.3;
						player[g_Player]->attackprog = 1;
						}
					}


					//### In Hold Position
				if(player[g_Player]->attackprog == 1) if(!_->lbutton[g_Player]) player[g_Player]->attackprog = 2;


					//### Attack
				if(player[g_Player]->attackprog == 2)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 1.17) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[39] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						Qpo->Light_Remove(player[g_Player]->BodyLight);
						player[g_Player]->LitAdFlag = 0;
						Qpo->Avatar_SetLighting(&playerAV[g_Player]->Avatar,true,&goup,200,200,200,190,145,100,false,8,NULL,true); //192 192 192
						}
					}


				if(player[g_Player]->attposecnt > 0.45 && player[g_Player]->attposecnt < 0.98)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Forwards

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->blendamount[39]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[39] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.65 && player[g_Player]->attposecnt<=0.95)
					{
					Q.ColldetMelee(14,0.65,0.95,0.95,10,3,1);
					Q.ColldetMelee(5,0.65,0.95,0.95,10,3,1);
					player[g_Player]->HitLethal = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 24:	//JumpKick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetLeft(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 41, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[41]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetLeft(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->STRAngles = player[g_Player]->Angles;
					_->TimeReset = 1;
					_->TimePlayerLock = 1;
					player[g_Player]->JinkInit = 1;

					/*player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;*/
					}

				  //###Move Forwards
				if(player[g_Player]->attackhits==0 && player[g_Player]->collideJK==0)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 18 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &player[g_Player]->Collision) && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
						{ player[g_Player]->collideJK = 1; player[g_Player]->WindWake = 0; }
					else
						{
						playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						player[g_Player]->WindWake = 1;
						}
					}
				else player[g_Player]->WindWake = 0;
																											//0.15
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.35*_->TimeScale) < 2.67) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.35*_->TimeScale;
				else
					{
					_->TimePlayerLock = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[41] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->collideJK = 0;
					player[g_Player]->WindWake = 0;
					player[g_Player]->JinkInit = 0;
					}

				if(player[g_Player]->attposecnt < 2.30) player[g_Player]->attackhitRcount = 0;

				if(player[g_Player]->collideJK == 0 && player[g_Player]->attackhits < 1 && player[g_Player]->attposecnt > 2.30)
					{
					player[g_Player]->attackhitRcount++;
					if(player[g_Player]->attackhitRcount < 3)	player[g_Player]->attposecnt = 2.30;
					}

				if(player[g_Player]->blendamount[41]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[41] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.5 && player[g_Player]->attposecnt<=2.4)
					{
					Q.ColldetMelee(12,0.5,2.4,2.3,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 25:	//Hyper Knee Flex
				{
				player[g_Player]->JinkSpecialON = 2;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 40, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[40]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt > 0.15 && player[g_Player]->attposecnt <= 0.83)	//0.85
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 226, 255, 62, 0);
					Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 255, 255, 255, 0);
					player[g_Player]->TrailsOn = 1;
					}

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt > 0.15 && player[g_Player]->attposecnt <= 0.83)	//0.85
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 255, 255, 0);
					player[g_Player]->TrailsOn = 1;
					}

				//### Register airborn status
				player[g_Player]->AirBorn = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 5) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 0.8;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );
					}

				  //###Move Forwards
				if(player[g_Player]->attposecnt <= 0.6)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8 * _->TimeScale*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(player[g_Player]->attposecnt > 0.2 && player[g_Player]->attposecnt < 0.6)	//Move Vertically Up
						{
						Qpo->Transform_GetIn(&playerAV[g_Player]->Xform,&playerAV[g_Player]->In);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15 * _->TimeScale, &playerAV[g_Player]->In, &playerAV[g_Player]->NewPos);
						player[g_Player]->DownSpeed = 0;
						}

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.02*_->TimeScale) < 0.93) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.02*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[40] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					//player[g_Player]->AirBorn = 0;
					}

				if(player[g_Player]->attackhits != 0)
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 79;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[40] = 0;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}

				if(player[g_Player]->blendamount[40]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[40] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.3 && player[g_Player]->attposecnt<=0.5)
					{
					Q.ColldetMelee(15,0.3,0.5,0.5,9,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 26:	//###- Low Hit Reaction - Normal hit  -###
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 43, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[43]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->HitReactScale * _->TimeScale) < 0.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->HitReactScale*_->TimeScale;
				else
					{
					if(player[g_Player]->WeaponStatus == 0)
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[43] = 0;
						player[g_Player]->attackon = 0;
						}
					else
						{
						player[g_Player]->Aposestate = 20;
						player[g_Player]->blendamount[43] = 0;
						player[g_Player]->attackon = 0;
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					Q.DeactivateItems();

					//##### Decrement Player POWER
					player[g_Player]->JINK3_PowerFactor -= (2 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution);
					if(player[g_Player]->JINK3_PowerFactor < 1) player[g_Player]->JINK3_PowerFactor = 1;

					Q.ActivateItems();
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[43]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[43] += 0.5*_->TimeScale;
				else player[g_Player]->blendamount[43] = 1;
				}break;


			case 27:	//FKick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 47, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[47]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.025*_->TimeScale) < 0.40) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.025*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[47] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.03*_->TimeScale) < 0.40) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.03*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[47] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->attposecnt < 0.3 && player[g_Player]->attackhits==0 && player[g_Player]->collide==0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					if(player[g_Player]->attackhits!=0)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Back

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 4 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}

				if(player[g_Player]->blendamount[47]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[47] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.1 && player[g_Player]->attposecnt<=0.3)
					{
					Q.ColldetMelee(12,0.1,0.3,0.3,1,2,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 28:	//###- Upper Hit Reaction - Normal hit  -###
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 44, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[44]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->HitReactScale * _->TimeScale) < 0.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->HitReactScale*_->TimeScale;
				else
					{
					if(player[g_Player]->WeaponStatus == 0)
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[44] = 0;
						player[g_Player]->attackon = 0;
						}
					else
						{
						player[g_Player]->Aposestate = 20;
						player[g_Player]->blendamount[44] = 0;
						player[g_Player]->attackon = 0;
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					Q.DeactivateItems();

					//##### Decrement Player POWER
					player[g_Player]->JINK3_PowerFactor -= (3 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution);
					if(player[g_Player]->JINK3_PowerFactor < 1) player[g_Player]->JINK3_PowerFactor = 1;

					Q.ActivateItems();
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[44]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[44] += 0.5*_->TimeScale;
				else player[g_Player]->blendamount[44] = 1;
				}break;


			case 29:	//RapidKick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 52, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[52]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
				player[g_Player]->TrailsOn = 1;


				if(player[g_Player]->attposecnt < 1.7)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.055*_->TimeScale) < 2.80)	//0.48
						{
						player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.055*_->TimeScale;
						}
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[52] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						_->TimeScale = 1;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt > 1.5)
						{
						if(_->TimeScale + 0.1 <= 1) _->TimeScale += 0.1;
						else _->TimeScale = 1;
						}
					else _->TimeScale = 0.35;


					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.03*_->TimeScale) < 2.80)
						{
						player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.03*_->TimeScale;
						}
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[52] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						_->TimeScale = 1;
						}
					}

				if( player[g_Player]->attposecnt > 1.7 ) player[g_Player]->wazcnt = 0;


				if( player[g_Player]->attposecnt < 0.05 ) player[g_Player]->attackhitRcount = 0;

				if( player[g_Player]->attposecnt >= 0.05 && player[g_Player]->attposecnt < 0.25 && player[g_Player]->attackhitRcount == 0) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 0.25 && player[g_Player]->attposecnt < 0.45 && player[g_Player]->attackhitRcount == 1 ) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 0.45 && player[g_Player]->attposecnt < 0.65 && player[g_Player]->attackhitRcount == 2 ) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 0.65 && player[g_Player]->attposecnt < 0.85 && player[g_Player]->attackhitRcount == 3 ) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 0.85 && player[g_Player]->attposecnt < 1.05 && player[g_Player]->attackhitRcount == 4 ) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 1.05 && player[g_Player]->attposecnt < 1.25 && player[g_Player]->attackhitRcount == 5 ) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 1.55 && player[g_Player]->attposecnt < 2.10 && player[g_Player]->attackhitRcount == 6 ) player[g_Player]->attackhitReset = 1;

				if( player[g_Player]->attposecnt >= 2.10 && player[g_Player]->attackhitRcount == 7 ) player[g_Player]->attackhitReset = 1;


				if( player[g_Player]->attackhitReset == 1 )
					{
					player[g_Player]->attackhitRcount++;
					player[g_Player]->attackhitReset = 0;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					/*QpoSound3D_GetConfig(World,
								&player[g_Player]->ViewXForm,
								&player[g_Player]->RFistPos.Translation,
								600.0f,
								2.0f,
								&Volume,
								&Pan,
								&Frequency);*/


					//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishN1, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				/*if( player[g_Player]->attposecnt > 1.55 && player[g_Player]->attposecnt < 2.1)
					{
					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					}*/

				//DUMMY MOVEMENT
				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 1 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

				playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
					{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;


				if(player[g_Player]->blendamount[52]+ (0.2*_->TimeScale) <=1) player[g_Player]->blendamount[52] += 0.2*_->TimeScale;
				else player[g_Player]->blendamount[52] = 1;

				if( player[g_Player]->attposecnt >= 0.05 && player[g_Player]->attposecnt <= 2.25)
					{
					if(player[g_Player]->attposecnt < 1.2) Q.ColldetMelee(12,0.05,2.25,2.25,0,2,1);
					else Q.ColldetMelee(12,0.05,2.25,2.25,10,2,1);
					player[g_Player]->HitLethal = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 30:	//Hit Reaction - Fall Head Hit
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 53, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[53]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 2.6) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
				else
					{
					if(player[g_Player]->HB_Health > 0)
						{
						if(player[g_Player]->WeaponStatus == 0)
							{
							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[53] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->HB_RecoverMode = 0;
							}
						else
							{
							player[g_Player]->Aposestate = 20;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[53] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->HB_RecoverMode = 0;
							}
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					Q.DeactivateItems();

					//##### Decrement Player POWER
					player[g_Player]->JINK3_PowerFactor -= (5 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution);
					if(player[g_Player]->JINK3_PowerFactor < 1) player[g_Player]->JINK3_PowerFactor = 1;

					Q.ActivateItems();
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[53]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[53] += 0.5*_->TimeScale;
				else player[g_Player]->blendamount[53] = 1;
				}break;


			case 31:	//RHKick
				{
				player[g_Player]->JinkSpecialON = 0.5;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 54, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[54]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
				
				if(player[g_Player]->attposecnt >= 0.4)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 3 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->attcombo == 0)
					{																							//0.035
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.06*_->TimeScale) < 0.93) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.06*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[54] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						if(player[g_Player]->ShadowsOn == 1)
							{
							player[g_Player]->ShadowsOn = 0;
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.08*_->TimeScale) < 0.77) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.08*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[54] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						if(player[g_Player]->ShadowsOn == 1)
							{
							player[g_Player]->ShadowsOn = 0;
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}
					}

				if(player[g_Player]->attposecnt >= 0.1 && player[g_Player]->attposecnt < 0.45 && player[g_Player]->attackhits==0 )
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
																														//10 14
					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 54, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 54, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 54, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[54]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[54] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.47 && player[g_Player]->attposecnt<=0.6)
					{
					Q.ColldetMelee(12,0.47,0.6,0.5,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 32:	//Flame Uppercut
				{
				player[g_Player]->JinkSpecialON = 0.5;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 55, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[55]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 1.6) player[g_Player]->AirBorn = 1;
				else { player[g_Player]->AirBorn = 0; player[g_Player]->JumpState = 0; }

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				 //###Move Forwards
				if(player[g_Player]->attposecnt <= 0.7)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					if(player[g_Player]->attposecnt <= 0.6)
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
						}

					if(player[g_Player]->attposecnt > 0.4 && player[g_Player]->attposecnt <= 0.7)
						{ player[g_Player]->DownSpeed = 12 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))); }

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->attposecnt >= 0.26 && player[g_Player]->attposecnt <= 0.8)	//## Flame Clouds
					{
					if(player[g_Player]->AttackSoundTRIG == 1)
						{
						player[g_Player]->AttackSoundTRIG = 2;
						//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->AttPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
						Qpo->Sound_Play(Medias->S_UppCutFlames, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->AttPos.Translation);
						}

					jet=0;
					while(jet < 3 * _->TimeScale && 0)	//6
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 6;

						//Q_Cloud->Cloud[_->NomCloud].CloudBitmap = Medias->Cloud3;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*80);
						Q_Cloud->Cloud[_->NomCloud].CloudScale = ((float)rand() / 32767)*0.15;

						if((((float)rand() / 32767)-0.5) > 0)
							{
							//RED CLOUD
							Q_Cloud->Cloud[_->NomCloud].CloudRed = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudGreen = 150;
							Q_Cloud->Cloud[_->NomCloud].CloudBlue = 150;
							}
						else
							{
							//YELLOW CLOUD
							Q_Cloud->Cloud[_->NomCloud].CloudRed = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudGreen = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudBlue = 150;
							}

						Qpo->Vec3d_New(&Q_Cloud->Cloud[_->NomCloud].CloudTraVec);

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x += (((float)rand() / 32767)-0.5)*2;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y += ((((float)rand() / 32767)-0.5)*2) + 1;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z += (((float)rand() / 32767)-0.5)*2;

						Q_Cloud->Cloud[_->NomCloud].CloudPos.x += (((float)rand() / 32767)-0.5)*25;
						Q_Cloud->Cloud[_->NomCloud].CloudPos.y += (((float)rand() / 32767)-0.5)*25;
						Q_Cloud->Cloud[_->NomCloud].CloudPos.z += (((float)rand() / 32767)-0.5)*25;

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = (((float)rand() / 32767)-0.5)*4;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}
					}

				if(player[g_Player]->attposecnt < 0.8) player[g_Player]->AttPoseInc = 0.06;
				else player[g_Player]->AttPoseInc = 0.02;

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->AttPoseInc*_->TimeScale) < 1.97) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->AttPoseInc*_->TimeScale;	//0.06
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[40] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;
					player[g_Player]->TimeHoleFLAG = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 55, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[8];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 55, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[14].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[14];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[14].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 55, player[g_Player]->ShadowMeMPose[14], &player[g_Player]->Shadows[3].Xform, 1);
					}


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 14;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[55]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[55] += 0.5*_->TimeScale;

				player[g_Player]->HitLethal = 0;

				if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
					{
					Q.ColldetMelee(14,0.4,0.95,0.55,13,3,2);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				}break;


			case 33:	//Spin Kick Non Special
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 30, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[30]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt < 1.75)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}
																											//0.115
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.16*_->TimeScale) < 2.13) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.16*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[30] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					}

				if(player[g_Player]->attposecnt > 0.4 && player[g_Player]->attposecnt < 1.2 && player[g_Player]->collide==0)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 3 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; }
					else { player[g_Player]->collide=0; }

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[30]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[30] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=1.1 && player[g_Player]->attposecnt<=1.42)
					{
					Q.ColldetMelee(12,1.1,1.42,1.42,9,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 34:	//Spin Kick Full Rotation
				{
				player[g_Player]->JinkSpecialON = 2;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}


					jet=0;
					while(jet < 1 * _->TimeScale)	//6
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 6;

						//Q_Cloud->Cloud[_->NomCloud].CloudBitmap = Medias->Cloud3;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*80);
						Q_Cloud->Cloud[_->NomCloud].CloudScale = ((float)rand() / 32767)*0.15;

						if((((float)rand() / 32767)-0.5) > 0)
							{
							//RED CLOUD
							Q_Cloud->Cloud[_->NomCloud].CloudRed = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudGreen = 150;
							Q_Cloud->Cloud[_->NomCloud].CloudBlue = 150;
							}
						else
							{
							//YELLOW CLOUD
							Q_Cloud->Cloud[_->NomCloud].CloudRed = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudGreen = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudBlue = 150;
							}

						Qpo->Vec3d_New(&Q_Cloud->Cloud[_->NomCloud].CloudTraVec);

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x += (((float)rand() / 32767)-0.5)*2;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y += ((((float)rand() / 32767)-0.5)*2) + 1;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z += (((float)rand() / 32767)-0.5)*2;

						Q_Cloud->Cloud[_->NomCloud].CloudPos.x += (((float)rand() / 32767)-0.5)*25;
						Q_Cloud->Cloud[_->NomCloud].CloudPos.y += (((float)rand() / 32767)-0.5)*25;
						Q_Cloud->Cloud[_->NomCloud].CloudPos.z += (((float)rand() / 32767)-0.5)*25;

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = (((float)rand() / 32767)-0.5)*4;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}

				if(player[g_Player]->AttackPos < 10)
					{
					helly = 0;
					while(helly < 3)
						{
						player[g_Player]->attposecnt = player[g_Player]->STRattposecnt + ( ( (player[g_Player]->NEWattposecnt - player[g_Player]->STRattposecnt) / 3 ) * (helly+1) );

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 59, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[59]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

						if(player[g_Player]->attposecnt < 1.2)
							{
							if(player[g_Player]->TrailINIT == 0)
								{
								player[g_Player]->TrailINIT = 1;
								player[g_Player]->TrailLINK = 1;
								}
							Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
							//Q.FlameTrailCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
							player[g_Player]->TrailsOn = 1;
							}

						if(player[g_Player]->attposecnt>=0.63 && player[g_Player]->attposecnt<=1)
							{
							Q.ColldetMelee(12,0.63,1,0.92,4,3,1);
							player[g_Player]->HitLethal = 1;
							}

						helly++;
						}

					player[g_Player]->attposecnt = player[g_Player]->NEWattposecnt;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 59, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[59]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt < 1.2)
						{
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						//Q.FlameTrailCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}


					player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);


					player[g_Player]->STRattposecnt = player[g_Player]->attposecnt;

					if(player[g_Player]->attposecnt <= 0.75 && player[g_Player]->AttackPos < 1)	//Init
						{
						player[g_Player]->attposeINC = 1;
						}


					if(player[g_Player]->attposecnt >= 0.84 && player[g_Player]->AttackPos == 0 && player[g_Player]->SpecialLOCK == 0)	//Init
						{
						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						}


					if(player[g_Player]->attposecnt >= 1 && player[g_Player]->AttackPos < 10 && player[g_Player]->SpecialLOCK == 1)
						{
						player[g_Player]->attposecnt = 0.75;
						
						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}

						player[g_Player]->attposeINC *= 1.002;	//1.011	//1.007
						player[g_Player]->AttackPos++;
						if(player[g_Player]->AttackPos == 10)
							{
							player[g_Player]->attposecnt = 0.15;
							player[g_Player]->blendamount[59] = 0;
							}
						
						/*QpoSound3D_GetConfig(World,
								&player[g_Player]->ViewXForm,
								&player[g_Player]->RFistPos.Translation,
								600.0f,
								2.0f,
								&Volume,
								&Pan,
								&Frequency);*/

							//'ATTACK' SOUND
						Qpo->Sound_Play(Medias->S_SwishSpin, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}


					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.015*_->TimeScale) < 1.20)	
						{
						if((player[g_Player]->AttackPos == 0 && player[g_Player]->attackhits == 0) || player[g_Player]->AttackPos == 0)
							{
							if(player[g_Player]->attposecnt <= 1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.04*_->TimeScale;		//0.075 //0.045
							else player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.01*_->TimeScale;	//0.035
							}
						else
							{
							if(player[g_Player]->attposecnt <= 1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.044*player[g_Player]->attposeINC*_->TimeScale;	//0.09
							else player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.02*_->TimeScale;	//0.035
							}

						/*if((player[g_Player]->AttackPos == 0 && player[g_Player]->attackhits == 0) || player[g_Player]->AttackPos == 0)
							{
							if(player[g_Player]->attposecnt <= 1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.065*_->TimeScale;	//0.045
							else player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.045*_->TimeScale;	//0.035
							}
						else
							{
							if(player[g_Player]->attposecnt <= 1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.04*player[g_Player]->attposeINC*_->TimeScale;	//0.09
							else player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.016*_->TimeScale;	//0.035
							}*/
						}
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[59] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->AttackPos = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						player[g_Player]->SpecialLOCK = 0;

						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}

					player[g_Player]->NEWattposecnt = player[g_Player]->attposecnt;
					}
				else
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 71, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[59]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt >= 0.35 && player[g_Player]->attposecnt <= 0.60)
						{
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						//Q.FlameTrailCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}


					player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);


					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.0185*_->TimeScale) < 0.90) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.0185*_->TimeScale;	//0.15
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[59] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->AttackPos = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						player[g_Player]->attackhits = 0;
						player[g_Player]->SpecialLOCK = 0;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}

						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				if(player[g_Player]->AttackPos <= 2)
					{
					if(player[g_Player]->attposecnt > 0.45)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 3 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt > 0.45)
						{
						//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					}


				//### Conditional Lift
				if(player[g_Player]->AttackPos > 2)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_GetIn(&playerAV[g_Player]->Xform,&playerAV[g_Player]->In);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 3 * _->TimeScale, &playerAV[g_Player]->In, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision) && playerAV[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;

					player[g_Player]->DownSpeed = 0;

					Q_Forge->Forge[player[g_Player]->HB_LastAvatarHitID].AV.Xform.Translation.y = playerAV[g_Player]->Xform.Translation.y;
					Q_Forge->Forge[player[g_Player]->HB_LastAvatarHitID].DownSpeed = 0;
					}


				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->AttackPos < 10)
						{
						if(player[g_Player]->attposecnt - (0.03*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 59, player[g_Player]->attposecnt - (0.03*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[59]);
						else Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 59, 0, &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[59]);
						}
					else
						{
						if(player[g_Player]->attposecnt - (0.03*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 71, player[g_Player]->attposecnt - (0.03*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[59]);
						else Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 71, 0, &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[59]);
						}
					}


				if(player[g_Player]->blendamount[59]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[59] += 0.3*_->TimeScale;	//0.055

				player[g_Player]->HitLethal = 0;

				if(player[g_Player]->AttackPos < 10)
					{
					if(player[g_Player]->attposecnt>=0.63 && player[g_Player]->attposecnt<=1)
							{
							Q.ColldetMelee(12,0.63,1,0.93,4,3,1);
							player[g_Player]->HitLethal = 1;
							}
					}
				else
					{
					if(player[g_Player]->attposecnt>=0.5 && player[g_Player]->attposecnt<=0.55)
						{
						Q.ColldetMelee(12,0.5,0.55,0.515,20,3,1);
						if(player[g_Player]->attackhits > 0) player[g_Player]->SpecialLOCK = 2;
						player[g_Player]->HitLethal = 1;
						}
					}

				if((player[g_Player]->attackhits != 0 || player[g_Player]->SpecialLOCK == 1) && player[g_Player]->SpecialLOCK != 2)
					{
					player[g_Player]->SpecialLOCK = 1;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					if(player[g_Player]->AttackPos < 10) Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, 38, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);	//50
					else Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, 49, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);				//59
					Qpo->Vec3d_Subtract(&playerAV[g_Player]->NewPos, &Q_Forge->Forge[player[g_Player]->HB_LastAvatarHitID].Xform.Translation, &playerAV[g_Player]->NewPos);
					Tempfloat1 = Qpo->Vec3d_Length(&playerAV[g_Player]->NewPos);
					Qpo->Vec3d_Normalize(&playerAV[g_Player]->NewPos);
					Qpo->Vec3d_AddScaled(&Q_Forge->Forge[player[g_Player]->HB_LastAvatarHitID].Xform.Translation, Tempfloat1, &playerAV[g_Player]->NewPos, &Q_Forge->Forge[player[g_Player]->HB_LastAvatarHitID].Xform.Translation);
					}
				}break;


			case 35:	//VHKick
				{
				//### Activate Jink Special
				player[g_Player]->JinkSpecialON = 0.5;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 67, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[67]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 1;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*70)+40);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				/*if(player[g_Player]->TimeHoleFLAG == 0 && player[g_Player]->attposecnt > 0.1)
					{
					_->JinkTime = 1;
					_->TimeHole = 1;
					player[g_Player]->TimeHoleFLAG = 1;
					}*/
				
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[67] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->AttackSoundTRIG = 0;
					player[g_Player]->JinkSpecialON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				/*if(player[g_Player]->attposecnt >= 0.35 && player[g_Player]->attposecnt < 0.41 && player[g_Player]->attackhits==0 )
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*//*&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 35 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, *//* 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}*/

				//if(player[g_Player]->attposecnt >= 0.40 && player[g_Player]->attposecnt < 0.43 && player[g_Player]->attackhits==0 )
				if(player[g_Player]->attposecnt >= 0.36 && player[g_Player]->attposecnt < 0.405 && player[g_Player]->attackhits==0 )
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 28 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->attackhits > 0) _->JinkTime = 0;

				if(player[g_Player]->attackhits > 0 && player[g_Player]->AttackSoundTRIG == 1) player[g_Player]->AttackSoundTRIG = 2;

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 67, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 67, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 67, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[67]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[67] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.37 && player[g_Player]->attposecnt<=0.405)
					{
					//Q.ColldetMelee(12,0.41,0.45,0.45,10,3,1);
					//Q.ColldetMelee(12,0.41,0.43,0.43,10,3,1);
						Q.ColldetMelee(12,0.37,0.405,0.405,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				printf("trace VHKick player[g_Player]->attposecnt = %f\n", player[g_Player]->attposecnt);
				}break;


			case 36:	//Low Med Kick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 66, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.87) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[66] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.093*_->TimeScale) < 0.78) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.093*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[66] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->blendamount[66]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[66] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.72)
					{
					Q.ColldetMelee(12,0.4,0.72,0.72,1,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 37:	//Entro
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 68, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[68]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[68] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.71) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[68] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->blendamount[68]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[68] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.51)
					{
					Q.ColldetMelee(3,0.4,0.51,0.51,0,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 38:	//Twin Dragon Part One
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 69, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[69]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[69] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.70) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[69] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->blendamount[69]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[69] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.43 && player[g_Player]->attposecnt<=0.51)
					{
					Q.ColldetMelee(3,0.43,0.51,0.51,1,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 39:	//Twin Dragon Part Two
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 70, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[70]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.02*_->TimeScale) < 0.60) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.02*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[70] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.02*_->TimeScale) < 0.60) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.02*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[70] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if(player[g_Player]->blendamount[70]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[70] += 0.3*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.25 && player[g_Player]->attposecnt<=0.31)
					{
					Q.ColldetMelee(12,0.25,0.31,0.31,3,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 40:	//Golrekka
				{
				player[g_Player]->JinkSpecialON = 0.4;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 71, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[71]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.35 && player[g_Player]->attposecnt <= 0.60)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.90) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[71] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->HoldBack = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.90) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[71] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->HoldBack = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

				if(player[g_Player]->HoldBack == 0 && player[g_Player]->attposecnt > 0.06 && _->rbutton[g_Player])
					{
					player[g_Player]->attposecnt = 0.06;
					}

				if(player[g_Player]->attposecnt > 0.06 && !_->rbutton[g_Player])
					{
					player[g_Player]->HoldBack = 1;
					}

				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

				playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 3 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
					{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;

				if(player[g_Player]->blendamount[71]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[71] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.45 && player[g_Player]->attposecnt<=0.55)
					{
					Q.ColldetMelee(12,0.45,0.55,0.51,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 41:	//SkyPush Sky Push
				{
				player[g_Player]->JinkSpecialON = 0.5;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 72, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[72]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 4 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}
					}

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[72] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[72] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						}
					}

				if( player[g_Player]->attposecnt >= 0.27 && player[g_Player]->attposecnt <= 0.57 )
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[72]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[72] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.40 && player[g_Player]->attposecnt<=0.56)
					{
					Q.ColldetMelee(14,0.40,0.56,0.56,9,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 42:	//Lowtro
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 73, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[73]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 1.00) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[73] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.85) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[73] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}

				if( player[g_Player]->attposecnt >= 0.78 )
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 30 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[73]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[73] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.65 && player[g_Player]->attposecnt<=0.77)
					{
					Q.ColldetMelee(12,0.65,0.77,0.77,1,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 43:	//Low Kick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 74, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[74]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 1.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[74] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 1.18) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[74] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}

				if(player[g_Player]->blendamount[74]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[74] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.8)
					{
					Q.ColldetMelee(3,0.40,0.8,0.7,1,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 44:	//Legsweep
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);
				
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 75, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[75]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.065*_->TimeScale) < 1.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.065*_->TimeScale;	//0.035
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[75] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.070*_->TimeScale) < 1.23) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.070*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[75] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}

				if(player[g_Player]->blendamount[75]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[75] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.6 && player[g_Player]->attposecnt<=0.85)
					{
					Q.ColldetMelee(10,0.6,0.85,0.7,2,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 45:
				{}break;


			case 46:	//Run Attack Punch
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 79, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[79]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 0.9) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[79] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 0.9) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[79] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

				if(player[g_Player]->attposecnt <= 0.6)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[79]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[79] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.6)
					{
					Q.ColldetMelee(14,0.4,0.6,0.6,2,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 47:	//Low Punch Left
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 80, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[80]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[80] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.72) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[80] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}

				if(player[g_Player]->blendamount[80]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[80] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.35 && player[g_Player]->attposecnt<=0.45)
					{
					Q.ColldetMelee(5,0.35,0.45,0.45,1,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 48:	//Low Punch Right
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 81, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[81]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[81] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 0.73) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[81] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->CrouchInit = 1;
						player[g_Player]->crohposecnt = 0.335;
						}
					}

				if(player[g_Player]->blendamount[81]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[81] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.35 && player[g_Player]->attposecnt<=0.5)
					{
					Q.ColldetMelee(14,0.35,0.5,0.45,1,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 49:
				{}break;


			case 50:	//Hadou-ken Hadouken
				{
				player[g_Player]->DownSpeed = 0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

				if(player[g_Player]->AirBorn == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 85, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[84]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);
					}
				else
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 84, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[84]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;

				if(player[g_Player]->EnergyInitialise == 0 && _->NetworkOption != 1)
					{
					player[g_Player]->EnergyInitialise = 1;
					player[g_Player]->LEnergyID = _->NomLEnergy;
					_->NomLEnergy++;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Live = 1;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Init = 0;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Team = player[g_Player]->Team;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].AvID = 250;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyRAD = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[21].ExpRadius;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyDMG = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[21].Damage;

					Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[1].Avatar, 85, player[g_Player]->attposecnt, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[2].Avatar, 85, player[g_Player]->attposecnt, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[3].Avatar, 85, player[g_Player]->attposecnt, &player[g_Player]->Shadows[3].Xform);
					}

				helly = 1;
				while(helly < 4)
					{
					if(player[g_Player]->ShadowScale[helly] == 0)
						{
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowAlpha[helly] = 150;
						}
					helly++;
					}

				helly = 1;
				while(helly < 4)
					{															//Errors here
					player[g_Player]->ShadowScale[helly] += ((float)Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power/400) * ((float)helly/3);	//850	//1500

					player[g_Player]->ShadowAlpha[helly] -= 25;
					if(player[g_Player]->ShadowAlpha[helly] < 0)
						{
						player[g_Player]->ShadowAlpha[helly] = 150;
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						}
					player[g_Player]->ShadowScaleX[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
					player[g_Player]->ShadowScaleY[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
					player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowScaleX[helly],player[g_Player]->ShadowScaleY[helly],player[g_Player]->ShadowScaleZ[helly]);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowAlpha[helly]);

					helly++;
					}

				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->AirBorn == 1)
						{
						if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 85, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[84]);
						}
					else if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 84, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[84]);
					}

				//if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07) < 1.73) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07;
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07) < 1.73) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[84] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->EnergyInitialise = 0;
					player[g_Player]->HoldBack = 0;
					player[g_Player]->LaserAlpha = 0;

					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, 150/(helly+1));
						player[g_Player]->ShadowAlpha[helly] = 255;
						}

					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				//if((player[g_Player]->HoldBack == 0 && player[g_Player]->attposecnt > 0.5 && _->mbutton[g_Player]) || (player[g_Player]->attposecnt > 0.5 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power < 30)) player[g_Player]->attposecnt = 0.5;
				if(player[g_Player]->attposecnt > 0.5 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power < 30)
					{
					player[g_Player]->attposecnt = 0.5;
					}

				if(player[g_Player]->attposecnt > 0.5 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power > 30 && player[g_Player]->HoldBack == 0)
					{
					player[g_Player]->HoldBack = 1;
					}

				if(player[g_Player]->attposecnt >= 0.5 && _->NetworkOption != 1)
					{
					if(player[g_Player]->attposecnt == 0.5)
						{
						if(Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power + 10 <= 30) Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power += 10;	//## Increase the Power
						else Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power = 30;
						}

					if(player[g_Player]->attposecnt < 1.15)
						{
						Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyLive = 1;

						player[g_Player]->In = player[g_Player]->InStore;
						//player[g_Player]->In.y += 0.25;

						//Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &player[g_Player]->In);
						Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec = player[g_Player]->In;
						//if(player[g_Player]->AirBorn == 0 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec.y + 0.25 < 0) Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec.y = 0;
						/*else*/ //Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec.y += 0.25;

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->TempXForm1);
						Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos = player[g_Player]->TempXForm1.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &player[g_Player]->In);
						Qpo->Vec3d_AddScaled(&Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos, -3, &player[g_Player]->InStore, &Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos);
						
						
						player[g_Player]->LaserStr = Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos;
						Qpo->Vec3d_AddScaled(&player[g_Player]->LaserStr, 35, &Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec, &player[g_Player]->AttPos.Translation);
						Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 3000, &Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec, &player[g_Player]->OAttPos.Translation);


						if(Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power <= 30) player[g_Player]->LaserAlpha = (Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power * 2) + 15;
						else player[g_Player]->LaserAlpha = 75;

						if(Qpo->Collision_RayTest(
							 NULL,
							 NULL,
							 &player[g_Player]->AttPos.Translation,
							 &player[g_Player]->OAttPos.Translation,
							 // GE_CONTENTS_CANNOT_OCCUPY
							 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
							 0xffffffff, NULL, NULL,
							 &player[g_Player]->Collision)/* && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar && player[g_Player]->Collision.Avatar != Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyBall.Avatar*/)
							{
							// Set the new pos to the point of collision
							player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);

							player[g_Player]->LaserLV.a = (player[g_Player]->LaserAlpha*2) - 20;
							player[g_Player]->LaserLV.r = 255;
							player[g_Player]->LaserLV.g = 255;			//alpha values and colour
							player[g_Player]->LaserLV.b = 0;
							player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
							player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
							player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

							Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.275f);	//0.3
							}

#if 1
						Q.ShowLine(&player[g_Player]->AttPos.Translation, &player[g_Player]->OAttPos.Translation, &player[g_Player]->ViewXForm.Translation, 3, Medias->LaserSight, player[g_Player]->LaserAlpha, 255, 255, 0, 1);	//5
#endif
						}
					}
				
				if(player[g_Player]->attposecnt > 1.15 && _->NetworkOption != 1)
					{
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyFire = 1;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].ScaleGrow = 0;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].ScaleInc = 0.08;	//0.025

					player[g_Player]->MoveReactSpeed = 5 / HITREACT_SCALE_IMP;	//7.5
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					player[g_Player]->MoveReactVec = Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec;
					Qpo->Vec3d_Inverse(&player[g_Player]->MoveReactVec);

					if(player[g_Player]->MoveReactVec.y < 0) player[g_Player]->MoveReactVec.y = 0;

					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm,&player[g_Player]->RFistPos.Translation,600.0f,2.0f,&Volume,&Pan,&Frequency);
					Qpo->Sound_Play(Medias->S_UppCutFlames, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				if(player[g_Player]->blendamount[84]+ (0.1) <=1) player[g_Player]->blendamount[84] += 0.1;
				else player[g_Player]->blendamount[84] = 1;
				}break;


			case 51:	//Hit Reaction - Super Hit 1 Crunch Up Body and Fly
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 76, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[76]);

				if(_->NetworkOption != 1)
					{
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Up);
					player[g_Player]->TempVec1 = player[g_Player]->MoveReactVec;
					Qpo->Vec3d_Normalize(&player[g_Player]->TempVec1);
					//Qpo->Vec3d_Normalize(&player[g_Player]->MoveReactVec);
					player[g_Player]->TempVec1.y = 0;
					playerAV[g_Player]->Up.y = 0;
					player[g_Player]->ReactTurnAng = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Up);

					//### Check Distance between Pure Left and Right to work out direction of Turn
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &playerAV[g_Player]->Left);
					Qpo->Transform_AvatarGetUp(&playerAV[g_Player]->Xform, /*ORIG GetIn*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Left, &playerAV[g_Player]->Right);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Right);

					player[g_Player]->ScanDistL = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Left);
					player[g_Player]->ScanDistR = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Right);

					if(player[g_Player]->ScanDistL > player[g_Player]->ScanDistR) player[g_Player]->ReactTurnAng *= -1;

					player[g_Player]->trueAngles.y += player[g_Player]->ReactTurnAng / 3;

					player[g_Player]->AvatarRotation += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->AvatarRotation>(2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);

					player[g_Player]->Angles.y += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->Angles.y > (PI*2)) player[g_Player]->Angles.y = 0;
					if(player[g_Player]->Angles.y < 0) player[g_Player]->Angles.y = (PI*2);

					Qpo->Transform_New_YRotation(&RotateMatrix, player[g_Player]->ReactTurnAng / 3);
					Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &RotateMatrix, &playerAV[g_Player]->Xform);

					player[g_Player]->CrunchTimer++;

					if(player[g_Player]->MoveReactSpeed > 18 || player[g_Player]->CrunchTimer < 9)
						{
						if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.12 * _->TimeScale) < 0.47) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.12*_->TimeScale;
						else player[g_Player]->attposecnt = 0.47;
						}
					else
						{
						if(player[g_Player]->DownSpeed == 0 && player[g_Player]->HitWall == 0)
							{
							if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
							else
								{
								player[g_Player]->CrunchTimer = 0;
								player[g_Player]->HitWall = 0;
								player[g_Player]->blendamount[76] = 0;
								player[g_Player]->attposecnt = 0.65;
								player[g_Player]->Aposestate = 30;
								player[g_Player]->attackon = 1;
								player[g_Player]->astackcnt = 0;
								player[g_Player]->astackrun = 0;
								player[g_Player]->HB_RecoverMode = 0;
								player[g_Player]->WallRunDelay = 15;
								}
							}
						else
							{
							if(player[g_Player]->HitWall == 1)
								{
								player[g_Player]->HitWall = 0;
								player[g_Player]->CrunchTimer = 0;
								player[g_Player]->blendamount[76] = 0;
								player[g_Player]->attposecnt = 0;
								player[g_Player]->Aposestate = 52;
								player[g_Player]->attackon = 1;
								player[g_Player]->astackcnt = 0;
								player[g_Player]->astackrun = 0;
								player[g_Player]->WallRunDelay = 15;
								}
							}
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->JumpFG = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					Q.DeactivateItems();

					//##### Decrement Player POWER
					player[g_Player]->JINK3_PowerFactor -= (15 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution);
					if(player[g_Player]->JINK3_PowerFactor < 1) player[g_Player]->JINK3_PowerFactor = 1;

					Q.ActivateItems();
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[76]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[76] += 0.5*_->TimeScale;
				}break;


			case 52:	//Hit Wall Reaction
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 77, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[77]);

				if(_->NetworkOption != 1)
					{
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Up);
					player[g_Player]->TempVec1 = player[g_Player]->HitWallNormal;
					player[g_Player]->TempVec1.y = 0;
					playerAV[g_Player]->Up.y = 0;
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Up);
					player[g_Player]->ReactTurnAng = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Up);

					//### Check Distance between Pure Left and Right to work out direction of Turn
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &playerAV[g_Player]->Left);
					Qpo->Transform_AvatarGetUp(&playerAV[g_Player]->Xform, /*ORIG GetIn*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Left, &playerAV[g_Player]->Right);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Right);

					player[g_Player]->ScanDistL = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Left);
					player[g_Player]->ScanDistR = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Right);

					if(player[g_Player]->ScanDistL < player[g_Player]->ScanDistR) player[g_Player]->ReactTurnAng *= -1;

					player[g_Player]->trueAngles.y += player[g_Player]->ReactTurnAng / 3;

					player[g_Player]->AvatarRotation += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->AvatarRotation>(2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);

					player[g_Player]->Angles.y += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->Angles.y > (PI*2)) player[g_Player]->Angles.y = 0;
					if(player[g_Player]->Angles.y < 0) player[g_Player]->Angles.y = (PI*2);

					Qpo->Transform_New_YRotation(&RotateMatrix, player[g_Player]->ReactTurnAng / 3);
					Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &RotateMatrix, &playerAV[g_Player]->Xform);

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 2.6) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						if(player[g_Player]->HB_Health > 0)
							{
							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[77] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->HB_RecoverMode = 0;
							player[g_Player]->WallRunDelay = 15;
							}
						else
							{
							player[g_Player]->CrunchTimer = 0;
							player[g_Player]->HitWall = 0;
							player[g_Player]->blendamount[77] = 0;
							player[g_Player]->blendamount[30] = 0;
							player[g_Player]->attposecnt = 0.45;
							player[g_Player]->Aposestate = 30;
							player[g_Player]->attackon = 1;
							player[g_Player]->HB_RecoverMode = 0;
							player[g_Player]->WallRunDelay = 15;
							}
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->JumpFG = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[77]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[77] += 0.5*_->TimeScale;
				}break;


			case 53:	//Air Dash
				{
				player[g_Player]->JinkSpecialON = 2;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 86, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[86]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 200, 255, 200, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 5 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}
																										   //0.35			//0.2
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.25*_->TimeScale) < 2.50) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.25*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[86] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->collideJK = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				if(player[g_Player]->attposecnt >= 2.1 && player[g_Player]->collideJK < 2)
					{
					player[g_Player]->attposecnt = 0.83;
					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					if(player[g_Player]->collideJK == 1) player[g_Player]->collideJK = 2;
					}

				 //###Move Forwards
				if(player[g_Player]->attposecnt >= 0.83 && player[g_Player]->collideJK == 0)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					Qpo->Transform_GetIn(&playerAV[g_Player]->Xform,&playerAV[g_Player]->In);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->In, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &player[g_Player]->Collision) && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
						{ 
						player[g_Player]->collideJK=1;
						playerAV[g_Player]->NewPos.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
						playerAV[g_Player]->NewPos.y += 12;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						}

					playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 86, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 86, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 86, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[86]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[86] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0 && player[g_Player]->attposecnt<=2.5)
					{
					Q.ColldetMelee(14,0,2.50,player[g_Player]->attposecnt,1,2,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 54:
				{}break;


			case 55:	//Hover Kick Forward
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 87, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[87]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
				
				if(player[g_Player]->attposecnt > 0.23 && player[g_Player]->attposecnt < 0.31) _->TimeHole = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 3 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.7) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[87] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->JinkInit = 0;

						if(player[g_Player]->ShadowsOn == 1)
							{
							player[g_Player]->ShadowsOn = 0;
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.7) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[87] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->JinkInit = 0;

						if(player[g_Player]->ShadowsOn == 1)
							{
							player[g_Player]->ShadowsOn = 0;
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}
					}

				if(player[g_Player]->attposecnt >= 0.22 && player[g_Player]->attposecnt < 0.40 )
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 12 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);


					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 87, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 87, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 87, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[87]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[87] += 0.3*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.40 && player[g_Player]->attposecnt<=0.48)
					{
					Q.ColldetMelee(12,0.40,0.48,0.43,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 56:	//Sakura Tribute Low Special
				{
				//### Activate Jink Special
				player[g_Player]->JinkSpecialON = 1;

				if(player[g_Player]->attposecnt <= 2.5)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 90, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[90]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					player[g_Player]->SwitchTrailsFLAG = 1;

					player[g_Player]->JinkBLAST = 1;
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 2;
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );
					}
				else
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 90, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[90]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					}

				if(player[g_Player]->attposecnt <= 2.5 || player[g_Player]->SwitchTrailsFLAG == 0)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				player[g_Player]->SwitchTrailsFLAG = 0;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 1;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*70)+40);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);

				if(player[g_Player]->attposecnt >= 0.15 && player[g_Player]->attposecnt <= 2.62 && 0)	//## Flame Clouds
					{
					aero = 0;
					while(aero < 1)
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 3;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*75)+80;
						Q_Cloud->Cloud[_->NomCloud].CloudScale = ((float)rand() / 32767)*0.1;	//0.6

						Qpo->Transform_GetIn(&player[g_Player]->AttPos, &Q_Cloud->Cloud[_->NomCloud].CloudTraVec);

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = (((float)rand() / 32767)-0.5)*18;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						aero++;
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.055 <= 3.3) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.055*_->TimeScale;	//0.05
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[127] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->SpecialLOCK = 0;
					player[g_Player]->Q_Jink.ON = 0;

					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					}

				if(player[g_Player]->attposecnt > 0.45)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				//##### Attack Hit Reset
				if( player[g_Player]->attposecnt < 0.53 ) player[g_Player]->attackhitRcount = 0;

				if( player[g_Player]->attposecnt >= 0.53 && player[g_Player]->attposecnt < 0.93 && player[g_Player]->attackhitRcount == 0)
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 0.93 && player[g_Player]->attposecnt < 1.33 && player[g_Player]->attackhitRcount == 1 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 1.33 && player[g_Player]->attposecnt < 1.72 && player[g_Player]->attackhitRcount == 2 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 1.72 && player[g_Player]->attposecnt < 2.13 && player[g_Player]->attackhitRcount == 3 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 2.13 && player[g_Player]->attposecnt < 2.55 && player[g_Player]->attackhitRcount == 4 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 2.55 && player[g_Player]->attposecnt < 2.70 && player[g_Player]->attackhitRcount == 5 )
					{
					player[g_Player]->attackhitReset = 1;
					}


				if( player[g_Player]->attackhitReset == 1 )
					{
					player[g_Player]->attackhitRcount++;
					player[g_Player]->attackhitReset = 0;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AttackPos++;
					}

				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishSpin, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->attposecnt - (0.03*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 90, player[g_Player]->attposecnt - (0.03*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[90]);
					}

				if(player[g_Player]->blendamount[90]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[90] += 0.3*_->TimeScale;

				player[g_Player]->HitLethal = 0;

				if(player[g_Player]->attposecnt <= 2.5)
					{
					if(player[g_Player]->attposecnt>=0.3 && player[g_Player]->attposecnt<=2.5)
						{
						Q.ColldetMelee(1,0.3,2.5,2.25,1,1,1);
						player[g_Player]->BlowHeight = 1;
						player[g_Player]->HitLethal = 1;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt>=2.9 && player[g_Player]->attposecnt<=3.1)
						{
						Q.ColldetMelee(12,2.9,3.1,3,3,3,1);
						player[g_Player]->BlowHeight = 3;
						player[g_Player]->HitLethal = 1;
						}
					}

				}break;


			case 57:	//Jink Special Flame Uppercut
				{
				//### Activate Jink Special Status
				player[g_Player]->JinkSpecialON = 1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 55, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[55]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
				player[g_Player]->TrailsOn = 1;

				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 1.6) player[g_Player]->AirBorn = 1;
				else { player[g_Player]->AirBorn = 0; player[g_Player]->JumpState = 0; }

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 1;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				/*if(player[g_Player]->TimeHoleFLAG == 0 && player[g_Player]->attposecnt > 0.13)
					{
					_->TimeHole = 1;
					_->JinkTime = 1;
					player[g_Player]->TimeHoleFLAG = 1;
					}

				if(player[g_Player]->TimeHoleFLAG == 1 && _->TimeHole == 0) player[g_Player]->TimeHoleFLAG = 2;

				if(player[g_Player]->TimeHoleFLAG == 2)
					{
					_->TimeHole = 0;
					_->JinkTime = 0;
					}

				if(player[g_Player]->TimeHoleFLAG == 2 && _->TimeHole == 0)
					{
					player[g_Player]->Q_Jink.ON = 0;
					}*/


				//###Move Forwards
				if(player[g_Player]->attposecnt <= 0.6)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					if(player[g_Player]->attposecnt <= 0.6)
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
						}
										//2
					if(player[g_Player]->AttackPos < 5)
						{													//0.7
						if(player[g_Player]->attposecnt > 0.4 && player[g_Player]->attposecnt <= 0.6) player[g_Player]->DownSpeed = 2 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))); //5
						}
					else
						{
						if(player[g_Player]->attposecnt > 0.4 && player[g_Player]->attposecnt <= 0.6) player[g_Player]->DownSpeed = 13 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))); //10
						}

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

									//  \/---- 0.26
				if(player[g_Player]->attposecnt >= 0.3 && player[g_Player]->attposecnt <= 0.8)	//## Flame Clouds
					{
					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 10) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 3;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					jet=0;
					while(jet < 3 * _->TimeScale && 0)	//6
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 6;

						//Q_Cloud->Cloud[_->NomCloud].CloudBitmap = Medias->Cloud3;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*80);
						Q_Cloud->Cloud[_->NomCloud].CloudScale = ((float)rand() / 32767)*0.15;

						if((((float)rand() / 32767)-0.5) > 0)
							{
							//RED CLOUD
							Q_Cloud->Cloud[_->NomCloud].CloudRed = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudGreen = 150;
							Q_Cloud->Cloud[_->NomCloud].CloudBlue = 150;
							}
						else
							{
							//YELLOW CLOUD
							Q_Cloud->Cloud[_->NomCloud].CloudRed = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudGreen = (((float)rand() / 32767)*45) + 210;
							Q_Cloud->Cloud[_->NomCloud].CloudBlue = 150;
							}

						Qpo->Vec3d_New(&Q_Cloud->Cloud[_->NomCloud].CloudTraVec);

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x += (((float)rand() / 32767)-0.5)*2;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y += ((((float)rand() / 32767)-0.5)*2) + 1;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z += (((float)rand() / 32767)-0.5)*2;

						Q_Cloud->Cloud[_->NomCloud].CloudPos.x += (((float)rand() / 32767)-0.5)*25;
						Q_Cloud->Cloud[_->NomCloud].CloudPos.y += (((float)rand() / 32767)-0.5)*25;
						Q_Cloud->Cloud[_->NomCloud].CloudPos.z += (((float)rand() / 32767)-0.5)*25;

						//Q_Cloud->Cloud[_->NomCloud].CloudSpeed = (((float)rand() / 32767)-0.5)*4;
						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = (((float)rand() / 32767)-0.5)*24;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}
					}

				if(player[g_Player]->AttackPos == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.058*_->TimeScale) < 0.95) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.058*_->TimeScale;
					else
						{
						player[g_Player]->blendamount[55] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attposecnt = 0.08;
						player[g_Player]->AttackPos++;
						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;
						}
					}

				if(player[g_Player]->AttackPos == 1)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.065*_->TimeScale) < 0.95) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.065*_->TimeScale;
					else
						{
						player[g_Player]->blendamount[55] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attposecnt = 0.08;
						player[g_Player]->AttackPos++;
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;
						}
					}


				if(player[g_Player]->AttackPos == 2)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.072*_->TimeScale) < 0.95) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.072*_->TimeScale;
					else
						{
						player[g_Player]->blendamount[55] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attposecnt = 0.08;
						player[g_Player]->AttackPos++;
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						}
					}


				if(player[g_Player]->AttackPos == 3)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.078*_->TimeScale) < 0.95) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.078*_->TimeScale;
					else
						{
						player[g_Player]->blendamount[55] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attposecnt = 0.08;
						player[g_Player]->AttackPos++;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						}
					}


				if(player[g_Player]->AttackPos == 4)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.084*_->TimeScale) < 0.95) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.084*_->TimeScale;
					else
						{
						player[g_Player]->blendamount[55] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attposecnt = 0.08;
						player[g_Player]->AttackPos++;
						
						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						}
					}

				if(player[g_Player]->AttackPos == 5)
					{
					if(player[g_Player]->attposecnt < 0.8) player[g_Player]->AttPoseInc = 0.06;
					else player[g_Player]->AttPoseInc = 0.03;

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->AttPoseInc*_->TimeScale) < 1.97) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->AttPoseInc*_->TimeScale;	//0.58
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[55] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->TimeHoleFLAG = 0;
						player[g_Player]->AttackPos = 0;
						player[g_Player]->JinkSpecialON = 0;
						player[g_Player]->JinkInit = 0;
						player[g_Player]->Q_Jink.ON = 0;

						if(player[g_Player]->ShadowsOn == 1)
							{
							player[g_Player]->ShadowsOn = 0;
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 55, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 55, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 55, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[55]+ (0.25*_->TimeScale) <=1) player[g_Player]->blendamount[55] += 0.25*_->TimeScale;

				player[g_Player]->HitLethal = 0;
				player[g_Player]->BlowHeight = 2;

				if(player[g_Player]->AttackPos == 0)
					{											//	0.95
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95 && player[g_Player]->attackhits < 1)
						{
						Q.ColldetMelee(14,0.4,0.95,0.55,3,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else
						{
						if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
							{
							Q.ColldetMelee(14,0.4,0.95,0.55,3,3,1);
							player[g_Player]->HitLethal = 1;
							}
						}
					}

				if(player[g_Player]->AttackPos == 1)
					{
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95 && player[g_Player]->attackhits < 1)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,2);
						player[g_Player]->HitLethal = 1;
						}
					}

				if(player[g_Player]->AttackPos == 2)
					{
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95 && player[g_Player]->attackhits < 1)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,2);
						player[g_Player]->HitLethal = 1;
						}
					}

				if(player[g_Player]->AttackPos == 3)
					{
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95 && player[g_Player]->attackhits < 1)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,2);
						player[g_Player]->HitLethal = 1;
						}
					}

				if(player[g_Player]->AttackPos == 4)
					{
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95 && player[g_Player]->attackhits < 1)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,2);
						player[g_Player]->HitLethal = 1;
						}
					}

				if(player[g_Player]->AttackPos == 5)
					{
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95 && player[g_Player]->attackhits < 1)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,3,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.95)
						{
						Q.ColldetMelee(14,0.4,0.95,0.52,20,3,2);
						player[g_Player]->HitLethal = 1;
						}
					}
				}break;


			case 58:	//SkyPush Jink
				{
				player[g_Player]->JinkSpecialON = 0.5;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 72, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[72]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
				player[g_Player]->TrailsOn = 1;


				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[72] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[72] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

				if( player[g_Player]->attposecnt >= 0.27 && player[g_Player]->attposecnt <= 0.57 )
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 4 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[72]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[72] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.40 && player[g_Player]->attposecnt<=0.56)
					{
					Q.ColldetMelee(14,0.40,0.56,0.56,9,3,1);
					player[g_Player]->BlowHeight = 3;
					player[g_Player]->HitLethal = 1;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			/*case 59:	//Psycho Combo 1
				{
				//if(player[g_Player]->AttackPos == 0 || player[g_Player]->AttackPos == 4 || player[g_Player]->AttackPos == 10) _->TimeHole = 1;

				if(player[g_Player]->AttackPos == 0 || player[g_Player]->AttackPos == 2 || player[g_Player]->AttackPos == 5 || player[g_Player]->AttackPos == 10 || player[g_Player]->AttackPos == 12)
					{
					helly = 0;
					while(helly < 3)
						{
						player[g_Player]->attposecnt = player[g_Player]->STRattposecnt + ( (player[g_Player]->attposecnt - player[g_Player]->STRattposecnt) / ( 3 - helly) );

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 5, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[5]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}

						Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
						//player[g_Player]->TrailsOn = 1;

						if(player[g_Player]->attposecnt>=0.3 && player[g_Player]->attposecnt<=0.46 && player[g_Player]->attackhits==0)
							{
							Q.ColldetMelee(5,0.3,0.46,0.45,5,3);
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;

						helly++;
						}

					player[g_Player]->attposecnt = player[g_Player]->NEWattposecnt;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 5, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[5]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
					//player[g_Player]->TrailsOn = 1;


					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 71, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[5]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 71, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[5]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 71, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[5]);
						}
					//Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[1].Xform.Translation);
					//Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[2].Xform.Translation);
					//Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->Shadows[3].Xform.Translation);
					//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);


					player[g_Player]->STRattposecnt = player[g_Player]->attposecnt;

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.12) < 0.5) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.12;	//0.15
					else
						{
						player[g_Player]->AttackPos++;
						player[g_Player]->attackhits = 0;
						player[g_Player]->attposecnt = 0;
						player[g_Player]->JSHitTrigger = 0;
						}

					player[g_Player]->NEWattposecnt = player[g_Player]->attposecnt;


					if(player[g_Player]->attposecnt < 0.41)
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*//*&playerAV[g_Player]->Up);
						//Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, *//* 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact; player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					else player[g_Player]->WindWake = 0;


					helly = 0;
					while(helly <= 2)
						{
						helly++;
						//if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 5, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[5]);
						}


					if(player[g_Player]->blendamount[5] + (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[5] += 0.5*_->TimeScale;

					if(player[g_Player]->attposecnt>=0.3 && player[g_Player]->attposecnt<=0.46 && player[g_Player]->attackhits==0)
						{
						Q.ColldetMelee(5,0.3,0.46,0.45,5,3);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}


				if(player[g_Player]->AttackPos == 1 || player[g_Player]->AttackPos == 3 || player[g_Player]->AttackPos == 7 || player[g_Player]->AttackPos == 9 || player[g_Player]->AttackPos == 11)
					{
					helly = 0;
					while(helly < 3)
						{
						player[g_Player]->attposecnt = player[g_Player]->STRattposecnt + ( (player[g_Player]->attposecnt - player[g_Player]->STRattposecnt) / ( 3 - helly) );

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 6, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[6]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}

						Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
						//player[g_Player]->TrailsOn = 1;

						if(player[g_Player]->attposecnt>=1.1 && player[g_Player]->attposecnt<=1.9 && player[g_Player]->attackhits==0)
							{
							Q.ColldetMelee(14,1.1,1.9,1.8,5,3);	//1.65
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;

						helly++;
						}

					player[g_Player]->attposecnt = player[g_Player]->NEWattposecnt;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 6, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[6]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
					//player[g_Player]->TrailsOn = 1;

					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 6, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[6]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 6, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[6]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 6, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[6]);
						}
				


					player[g_Player]->STRattposecnt = player[g_Player]->attposecnt;

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.3) < 2.10) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.3;		//0.4
					else
						{
						player[g_Player]->AttackPos++;
						player[g_Player]->attposecnt = 0;
						player[g_Player]->attackhits = 0;
						player[g_Player]->JSHitTrigger = 0;
						}

					player[g_Player]->NEWattposecnt = player[g_Player]->attposecnt;



					  //###Move Forwards
					if(player[g_Player]->attposecnt < 1.65)
						{
						player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed*_->TimeScale;

						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*//*&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 12, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, *//* 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact; player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					else player[g_Player]->WindWake = 0;


					if(player[g_Player]->blendamount[6]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[6] += 0.5*_->TimeScale;	//0.16

					if(player[g_Player]->attposecnt>=1.1 && player[g_Player]->attposecnt<=1.9 && player[g_Player]->attackhits==0)
						{
						Q.ColldetMelee(14,1.1,1.9,1.8,5,3);	//1.65
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}


				if(player[g_Player]->AttackPos == 4 || player[g_Player]->AttackPos == 6 || player[g_Player]->AttackPos == 8)
					{
					helly = 0;
					while(helly < 3)
						{
						player[g_Player]->attposecnt = player[g_Player]->STRattposecnt + ( (player[g_Player]->attposecnt - player[g_Player]->STRattposecnt) / ( 3 - helly) );

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 68, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[68]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}

						Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
						//player[g_Player]->TrailsOn = 1;

						if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.52 && player[g_Player]->attackhits==0)
							{
							Q.ColldetMelee(3,0.4,0.51,0.52,5,3);
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;

						helly++;
						}

					player[g_Player]->attposecnt = player[g_Player]->NEWattposecnt;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 68, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[68]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
					//player[g_Player]->TrailsOn = 1;


					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 68, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[68]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 68, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[68]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 68, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[68]);
						}


					helly = 0;
					while(helly <= 2)
						{
						helly++;
						//if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 68, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[68]);
						}


					player[g_Player]->STRattposecnt = player[g_Player]->attposecnt;

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.08) < 0.71) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.08;	//0.15
					else
						{
						player[g_Player]->AttackPos++;
						player[g_Player]->attposecnt = 0;
						player[g_Player]->attackhits = 0;
						player[g_Player]->JSHitTrigger = 0;
						}

					player[g_Player]->NEWattposecnt = player[g_Player]->attposecnt;



					if(player[g_Player]->blendamount[68]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[68] += 0.5*_->TimeScale;	//0.055

					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.52 && player[g_Player]->attackhits==0)
						{
						Q.ColldetMelee(3,0.4,0.52,0.51,5,3);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}



				if(player[g_Player]->AttackPos == 4 || player[g_Player]->AttackPos == 6 || player[g_Player]->AttackPos == 8)
					{
					helly = 0;
					while(helly < 3)
						{
						player[g_Player]->attposecnt = player[g_Player]->STRattposecnt + ( (player[g_Player]->attposecnt - player[g_Player]->STRattposecnt) / ( 3 - helly) );

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 8, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[68]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}

						Q.TrailLineCreate(AIcount, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
						player[g_Player]->TrailsOn = 1;

						if(player[g_Player]->attposecnt>=2.6 && player[g_Player]->attposecnt<=2.9 && player[g_Player]->attackhits==0)
							{
							Q.ColldetMelee(12,2.6,2.9,2.9,5,2);
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;

						helly++;
						}

					player[g_Player]->attposecnt = player[g_Player]->NEWattposecnt;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 8, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[8]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(AIcount, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
					player[g_Player]->TrailsOn = 1;


					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 68, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[68]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 68, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[68]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 68, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[68]);
						}


					player[g_Player]->STRattposecnt = player[g_Player]->attposecnt;


					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.48*_->TimeScale) < 4.47) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.48*_->TimeScale;	//0.15
					else
						{
						player[g_Player]->AttackPos++;
						player[g_Player]->attposecnt = 0;
						player[g_Player]->attackhits = 0;
						player[g_Player]->JSHitTrigger = 0;
						}

					player[g_Player]->NEWattposecnt = player[g_Player]->attposecnt;


					if(player[g_Player]->blendamount[8]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[8] += 0.5*_->TimeScale;

					if(player[g_Player]->attposecnt>=2.6 && player[g_Player]->attposecnt<=2.9 && player[g_Player]->attackhits==0)
						{
						Q.ColldetMelee(12,2.6,2.9,2.9,5,2);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}


				if(player[g_Player]->AttackPos == 13)
					{
					helly = 0;
					while(helly < 3)
						{
						player[g_Player]->attposecnt = player[g_Player]->STRattposecnt + ( (player[g_Player]->attposecnt - player[g_Player]->STRattposecnt) / ( 3 - helly) );

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 71, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[71]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

						Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
						player[g_Player]->TrailsOn = 1;

						if(player[g_Player]->attposecnt>=0.45 && player[g_Player]->attposecnt<=0.55)
							{
							Q.ColldetMelee(12,0.45,0.55,0.51,10,3);
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;

						helly++;
						}

					player[g_Player]->attposecnt = player[g_Player]->NEWattposecnt;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 71, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[71]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
					player[g_Player]->TrailsOn = 1;


					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 71, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[71]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 71, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[71]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						//Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 71, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[71]);
						}
					

					player[g_Player]->STRattposecnt = player[g_Player]->attposecnt;

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.065*_->TimeScale) < 0.90) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.065*_->TimeScale;	//0.15
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[71] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->AttackPos = 0;
						player[g_Player]->attackhits = 0;
						player[g_Player]->WindWake = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;

						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}

					player[g_Player]->NEWattposecnt = player[g_Player]->attposecnt;


					if(player[g_Player]->blendamount[71]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[71] += 0.5*_->TimeScale;	//0.055

					if(player[g_Player]->attposecnt>=0.45 && player[g_Player]->attposecnt<=0.55 && player[g_Player]->attackhits < 3)
						{
						Q.ColldetMelee(12,0.45,0.55,0.51,10,3);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}


				//#####- Special Hit Reactions -#####
				if(player[g_Player]->JSHitTrigger == 0 && player[g_Player]->attackhits > 0 && player[g_Player]->AttackPos != 13)
					{
					player[g_Player]->JSHitTrigger = 1;

					jet = 0;
					while(jet < 3)
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 4;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*155)+100;
						Q_Cloud->Cloud[_->NomCloud].CloudScale = (((float)rand() / 32767)*0.1)+0.03;

						//Q_Cloud->Cloud[_->NomCloud].CloudTraVec = Q_LimbFlame[aero].Traj;

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x = (((float)rand() / 32767)-0.5) * 2;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y = (((float)rand() / 32767) * 3) + 0.8;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z = (((float)rand() / 32767)-0.5) * 2;

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = ((((float)rand() / 32767))+0.3)*4;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}
					}


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 49;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}				}break;*/



			case 59:	//Psycho Combo 1
				{
				//#### Time Control
				_->TimeHole = 5;
				_->TimeRotate = 1;

				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				if((player[g_Player]->AttackPos >= 0 && player[g_Player]->AttackPos < 2) || (player[g_Player]->AttackPos >= 3 && player[g_Player]->AttackPos < 5) || (player[g_Player]->AttackPos >= 6 && player[g_Player]->AttackPos < 8))
					{
					if(player[g_Player]->attposecnt < 1.7)
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 92, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[92]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
						}
					else
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
						Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 92, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[92]);
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
						Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
						}


					//##### Attack Hit Reset
					if(player[g_Player]->attposecnt > 1.7)
						{
						if(player[g_Player]->attackhitReset == 0)
							{
							player[g_Player]->attackhitReset = 1;
							player[g_Player]->attackhits = 0;
							}
						}

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 115, 40, 180, 0);
					//player[g_Player]->TrailsOn = 1;


					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 92, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[92]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 92, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[92]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 92, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[92]);
						}


					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.065)*_->TimeScale < 2.4) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.065*_->TimeScale;
					else
						{
						player[g_Player]->AttackPos++;
						player[g_Player]->attackhitReset = 0;
						player[g_Player]->attackhits = 0;
						if(player[g_Player]->AttackPos == 2 || player[g_Player]->AttackPos == 5) player[g_Player]->attposecnt = 0;
						else player[g_Player]->attposecnt = 0.88;
						player[g_Player]->JSHitTrigger = 0;
						}


					//#### Collision Detection
					if(player[g_Player]->blendamount[92] + (0.5*(_->TimeScale)) <=1) player[g_Player]->blendamount[92] += 0.5*(_->TimeScale);

					if(player[g_Player]->attposecnt>=0.63 && player[g_Player]->attposecnt<=0.7 && player[g_Player]->attackhits<3)
						{
						Q.ColldetMelee(14,0.63,0.7,0.64,5,3,1);
						Q.ColldetMelee(5,0.63,0.7,0.64,5,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;


					if(player[g_Player]->attposecnt>=1.45 && player[g_Player]->attposecnt<=1.55 && player[g_Player]->attackhits<1)
						{
						Q.ColldetMelee(14,1.45,1.55,1.51,5,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;


					if(player[g_Player]->attposecnt>=2.19 && player[g_Player]->attposecnt<=2.3 && player[g_Player]->attackhits<1)
						{
						Q.ColldetMelee(5,2.19,2.3,2.24,5,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;


					//#### Player Movement Forward
					if((player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt < 0.7) || (player[g_Player]->attposecnt > 1.1 && player[g_Player]->attposecnt < 1.5) || (player[g_Player]->attposecnt > 1.8 && player[g_Player]->attposecnt < 2.3))
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 16, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else
							{
							player[g_Player]->WindWake = 0;
							player[g_Player]->collide = 0;
							}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					else player[g_Player]->WindWake = 0;
					}


				if(player[g_Player]->AttackPos == 2 || player[g_Player]->AttackPos == 5 || player[g_Player]->AttackPos == 8)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 52, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[52]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 120, 136, 0);
					player[g_Player]->TrailsOn = 1;


					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 52, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[52]);
						}
					if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 52, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[52]);
						}
					if(player[g_Player]->ShadowMeM[8].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[8];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[8].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 52, player[g_Player]->ShadowMeMPose[8], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[52]);
						}


					if(player[g_Player]->attposecnt < 1.5)
						{
						if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.055) < 2.8)
							{
							player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.055;
							}
						else
							{
							if(player[g_Player]->AttackPos == 8)
								{
								player[g_Player]->attposecnt = 0;
								player[g_Player]->Aposestate = 0;
								player[g_Player]->blendamount[0] = 0;
								player[g_Player]->blendamount[52] = 0;
								player[g_Player]->attackon = 0;
								player[g_Player]->astackcnt = 0;
								player[g_Player]->astackrun = 0;
								player[g_Player]->astackcntdir[0] = 0;
								player[g_Player]->AttackPos = 0;
								player[g_Player]->JinkSpecialON = 0;
								}
							else
								{
								player[g_Player]->AttackPos++;
								tempint2 = 0;
								}
							}
						}
					else
						{
						/// TODO TIME HOLE HERE OR ELSEWHERE


						if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.03) < 2.8)
							{
							player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.03;
							}
						else
							{
							if(player[g_Player]->AttackPos == 8)
								{
								player[g_Player]->attposecnt = 0;
								player[g_Player]->Aposestate = 0;
								player[g_Player]->blendamount[0] = 0;
								player[g_Player]->blendamount[52] = 0;
								player[g_Player]->blendamount[92] = 0;
								player[g_Player]->attackon = 0;
								player[g_Player]->astackcnt = 0;
								player[g_Player]->astackrun = 0;
								player[g_Player]->astackcntdir[0] = 0;
								player[g_Player]->AttackPos = 0;
								player[g_Player]->JinkSpecialON = 0;
								}
							else
								{
								player[g_Player]->AttackPos++;
								tempint2 = 0;
								}
							}
						}

					if( player[g_Player]->attposecnt > 1.5 ) player[g_Player]->wazcnt = 0;



					if( player[g_Player]->attposecnt < 0.05 ) player[g_Player]->attackhitRcount = 0;

					if( player[g_Player]->attposecnt >= 0.05 && player[g_Player]->attposecnt < 0.25 && player[g_Player]->attackhitRcount == 0)
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 0.12;
						}

					if( player[g_Player]->attposecnt >= 0.25 && player[g_Player]->attposecnt < 0.45 && player[g_Player]->attackhitRcount == 1 )
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 0.32;
						}

					if( player[g_Player]->attposecnt >= 0.45 && player[g_Player]->attposecnt < 0.65 && player[g_Player]->attackhitRcount == 2 )
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 0.52;
						}

					if( player[g_Player]->attposecnt >= 0.65 && player[g_Player]->attposecnt < 0.85 && player[g_Player]->attackhitRcount == 3 )
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 0.72;
						}

					if( player[g_Player]->attposecnt >= 0.85 && player[g_Player]->attposecnt < 1.05 && player[g_Player]->attackhitRcount == 4 )
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 0.92;
						}

					if( player[g_Player]->attposecnt >= 1.05 && player[g_Player]->attposecnt < 1.25 && player[g_Player]->attackhitRcount == 5 )
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 1.12;
						}

					if( player[g_Player]->attposecnt >= 1.40 && player[g_Player]->attposecnt < 1.55 && player[g_Player]->attackhitRcount == 6 )
						{
						player[g_Player]->attackhitReset = 1;
						player[g_Player]->CleanHit = 1.48;
						}

					if( player[g_Player]->attposecnt >= 2.10 && player[g_Player]->attackhitRcount == 7 )
						{
						player[g_Player]->attackhitReset = 1;
						}


					if( player[g_Player]->attackhitReset == 1 )
						{
						player[g_Player]->attackhitRcount++;
						player[g_Player]->attackhitReset = 0;

						player[g_Player]->attackhits = 0;

						/*QpoSound3D_GetConfig(World,
									&player[g_Player]->ViewXForm,
									&player[g_Player]->RFistPos.Translation,
									600.0f,
									2.0f,
									&Volume,
									&Pan,
									&Frequency);*/


						//'ATTACK' SOUND
						Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}

					if( player[g_Player]->attposecnt > 1.55 && player[g_Player]->attposecnt < 2.1) player[g_Player]->attackhits = 10;


					if( player[g_Player]->attposecnt > 1.25)
						{
						if(player[g_Player]->AttackPos != 8 && tempint2 <= 2)
							{
							tempint2++;
							player[g_Player]->attposecnt = 0.66;
							player[g_Player]->attackhitRcount = 4;
							}
						else
							{
							if(player[g_Player]->AttackPos != 8)
								{
								player[g_Player]->AttackPos++;
								tempint2 = 0;
								player[g_Player]->attackhits = 0;
								player[g_Player]->attposecnt = 0.88;
								}
							}
						}


					//#### Player Movement Forward
					if(player[g_Player]->attposecnt > 0.05 && player[g_Player]->attposecnt < 1.4)
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 4, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else 
							{
							player[g_Player]->WindWake = 1;
							player[g_Player]->collide=0;
							}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}
					else player[g_Player]->WindWake = 0;


					if(player[g_Player]->blendamount[52]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[52] += 0.5*_->TimeScale;	//0.055
					else player[g_Player]->blendamount[52] = 1;

					if(player[g_Player]->attposecnt < 1.4)
						{
						if( player[g_Player]->attposecnt >= 0.05 && player[g_Player]->attposecnt <= 2.25 && player[g_Player]->attackhits < 1 )
							{
							Q.ColldetMelee(12,player[g_Player]->CleanHit - 0.07,player[g_Player]->CleanHit,player[g_Player]->CleanHit - 0.02,6,2,1);
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;
						}
					else
						{
						if( player[g_Player]->attposecnt >= 1.4 && player[g_Player]->attposecnt <= 2.25 && player[g_Player]->attackhits < 1 )
							{
							Q.ColldetMelee(12,1.4,2.25,2.16,10,2,1);
							player[g_Player]->HitLethal = 1;
							}
						else player[g_Player]->HitLethal = 0;
						}
					
					}



				//#####- Special Hit Reactions -#####
				if(player[g_Player]->JSHitTrigger == 0 && player[g_Player]->attackhits > 0 && player[g_Player]->AttackPos != 13)
					{
					player[g_Player]->JSHitTrigger = 1;

					jet = 0;
					while(jet < 3)
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 4;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*155)+100;
						Q_Cloud->Cloud[_->NomCloud].CloudScale = (((float)rand() / 32767)*0.1)+0.03;

						//Q_Cloud->Cloud[_->NomCloud].CloudTraVec = Q_LimbFlame[aero].Traj;

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x = (((float)rand() / 32767)-0.5) * 2;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y = (((float)rand() / 32767) * 3) + 0.8;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z = (((float)rand() / 32767)-0.5) * 2;

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = ((((float)rand() / 32767))+0.3)*4;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}
					}


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 49;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 60:		//Brolly Tribute
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 91, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[91]);

				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;

				helly = 1;
				while(helly < 4)
					{
					if(player[g_Player]->ShadowScale[helly] == 0)
						{
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowAlpha[helly] = 150;
						}
					helly++;
					}

				helly = 1;
				while(helly < 4)
					{															//Errors here
					player[g_Player]->ShadowScale[helly] += 0.045 * ((float)helly/3);

					player[g_Player]->ShadowAlpha[helly] -= 25;
					if(player[g_Player]->ShadowAlpha[helly] < 0)
						{
						player[g_Player]->ShadowAlpha[helly] = 150;
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						}

					player[g_Player]->ShadowScaleX[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
					player[g_Player]->ShadowScaleY[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
					player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowScaleX[helly],player[g_Player]->ShadowScaleY[helly],player[g_Player]->ShadowScaleZ[helly]);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowAlpha[helly]);

					helly++;
					}


				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 91, player[g_Player]->attposecnt - (0.02*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[91]);
					}


				if(player[g_Player]->attposecnt > 0 && player[g_Player]->attposecnt <= 0.1)
					{
					//_->TimeHole = 3;
					//_->TimeRotate = 1;
					}


				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05 * _->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[91] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->EnergyReleased = 0;

					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, 150/(helly+1));
						player[g_Player]->ShadowAlpha[helly] = 255;
						}

					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}


				if(player[g_Player]->attposecnt >= 0.34 && player[g_Player]->EnergyReleased == 0)
					{
					player[g_Player]->EnergyReleased = 1;

					player[g_Player]->EnergyMins.x = -700.f;
					player[g_Player]->EnergyMins.y = -700.0f;
					player[g_Player]->EnergyMins.z = -700.0f;
					player[g_Player]->EnergyMaxs.x = 700.0f;
					player[g_Player]->EnergyMaxs.y = 700.0f;
					player[g_Player]->EnergyMaxs.z = 700.0f;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->RFistPos);

					Q.COLDET_CupBlast(player[g_Player]->RFistPos, 1.4);
					}

				//Q.ShowLine(&player[g_Player]->EnergyOldPos, &player[g_Player]->EnergyNewPos, &player[g_Player]->ViewXForm.Translation, 5, Medias->LaserSight, 170, 255, 255, 0, 1);

				if(player[g_Player]->blendamount[91]+ (0.3) <=1) player[g_Player]->blendamount[91] += 0.3;
				else player[g_Player]->blendamount[91] = 1;
				}break;


			case 61:	//Twist Kick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 96, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[96]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.25 && player[g_Player]->attposecnt <= 0.69)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					/*helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 3 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}*/

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 14) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 7;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 96, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 96, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 96, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				if(player[g_Player]->attposecnt > 0.08 && player[g_Player]->attposecnt < 0.4 && player[g_Player]->collide==0)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 12 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else player[g_Player]->WindWake = 0;

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05*_->TimeScale) < 0.8) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[96] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					//player[g_Player]->astackcnt = 0;
					//player[g_Player]->astackrun = 0;
					//player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->JinkInit = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if(player[g_Player]->blendamount[96]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[96] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.45 && player[g_Player]->attposecnt<=0.65)
					{
					Q.ColldetMelee(12,0.45,0.65,0.53,9,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 62:	//BackFlip Attack
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 97, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[97]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.25 && player[g_Player]->attposecnt >= 0.42)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.06*_->TimeScale) <= 1.13) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.06*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt=0;
					player[g_Player]->blendamount[97]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->JumpOff = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[97] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;

					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}

				if(player[g_Player]->attposecnt >= 0.14 && player[g_Player]->JumpOff == 0)
					{
					player[g_Player]->DownSpeed = 1 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));
					player[g_Player]->JumpOff = 1;
					}

				if(player[g_Player]->runposecnt >= 0.14 && player[g_Player]->runposecnt < 1.04)
					{
					//###Move Forwards
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->blendamount[97]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[97] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.25 && player[g_Player]->attposecnt<=0.42)
					{
					Q.ColldetMelee(12,0.25,0.42,0.31,1,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 63:	//Deflect
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 98, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[98]);
				
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				/*jet=0;
				while(jet < (5*_->TimeScale) && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
					{
					Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
					Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
					Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.03f;		//0.025f//0.002f
					Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 59;

					//Q_PntSprite->PntSprite[_->NomPntSprite].IR = 226;
					//Q_PntSprite->PntSprite[_->NomPntSprite].IG = 255;
					//Q_PntSprite->PntSprite[_->NomPntSprite].IB = 170;

					Q_PntSprite->PntSprite[_->NomPntSprite].IR = 255;
					Q_PntSprite->PntSprite[_->NomPntSprite].IG = 255;
					Q_PntSprite->PntSprite[_->NomPntSprite].IB = 255;

					Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
					Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 3;
					Q_PntSprite->PntSprite[_->NomPntSprite].Pos = player[g_Player]->OAttPos.Translation;

					Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
					Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
					Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

					Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += (((float)rand() / 32767)-0.5)*12;
					Q_PntSprite->PntSprite[_->NomPntSprite].Pos.y += (((float)rand() / 32767)-0.5)*12;
					Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += (((float)rand() / 32767)-0.5)*12;

					Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

					_->NomPntSprite++;
					jet++;
					}

				jet=0;
				while(jet < (5*_->TimeScale) && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
					{
					Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
					Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
					Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.03f;		//0.025f//0.002f
					Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 59;

					//Q_PntSprite->PntSprite[_->NomPntSprite].IR = 226;
					//Q_PntSprite->PntSprite[_->NomPntSprite].IG = 255;
					//Q_PntSprite->PntSprite[_->NomPntSprite].IB = 170;

					Q_PntSprite->PntSprite[_->NomPntSprite].IR = 255;
					Q_PntSprite->PntSprite[_->NomPntSprite].IG = 255;
					Q_PntSprite->PntSprite[_->NomPntSprite].IB = 255;

					Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
					Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 3;
					Q_PntSprite->PntSprite[_->NomPntSprite].Pos = player[g_Player]->AttPos.Translation;

					Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
					Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
					Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

					Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += (((float)rand() / 32767)-0.5)*12;
					Q_PntSprite->PntSprite[_->NomPntSprite].Pos.y += (((float)rand() / 32767)-0.5)*12;
					Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += (((float)rand() / 32767)-0.5)*12;

					Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

					_->NomPntSprite++;
					jet++;
					}*/
				
				if(player[g_Player]->Deft_InReact == 1)
					{
					if(player[g_Player]->Deft_attposecnt+(player[g_Player]->Deft_HitReactScale*_->TimeScale) < 0.33) player[g_Player]->Deft_attposecnt += player[g_Player]->Deft_HitReactScale * _->TimeScale;
					else
						{
						player[g_Player]->Deft_attposecnt = 0.33;
						player[g_Player]->Deft_InReact = 0;
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.53) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
				else
					{
					if(player[g_Player]->Deft_InReact == 0)
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[98] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					else
						{
						player[g_Player]->Deft_InReact = 0;

						player[g_Player]->Aposestate = player[g_Player]->Deft_PoseState;
						player[g_Player]->attposecnt = player[g_Player]->Deft_attposecnt;
						player[g_Player]->HitReactScale = player[g_Player]->Deft_HitReactScale;
						player[g_Player]->blendamount[43] = 0;
						player[g_Player]->blendamount[44] = 0;
						}
					}

				if( player[g_Player]->attposecnt >= 0 && player[g_Player]->attposecnt <= 0.25 )
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

					Q.PlayerSpawnNNbot(player[g_Player]->OAttPos.Translation);
					Q.PlayerSpawnNNbot(player[g_Player]->AttPos.Translation);

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//#### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->JinkInit = 0;
				player[g_Player]->HoldBack = 0;
				player[g_Player]->Flip = 0;
				player[g_Player]->HB_DmgSTORE = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->WindWake = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->Mposestate != 13)
					{
					_->TimePlayerLock = 0;
					player[g_Player]->JSpiralCAM = 0;
					}

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				if(player[g_Player]->blendamount[98]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[98] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0 && player[g_Player]->attposecnt<=0.25)
					{
					player[g_Player]->DeflectLethal = 1;
					}
				else player[g_Player]->DeflectLethal = 0;
				}break;


			case 64:	//POWER COMBO
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 1;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*60)+30);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}


					//player[g_Player]->JinkBLAST = 90;
					//player[g_Player]->JB_Power = 100;
					
					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				/*if(player[g_Player]->attposecnt > 0.185)
					{
					if(player[g_Player]->TimeHoleFLAG == 0)
						{
						_->TimeHole = 1;
						//_->JinkTime = 1;
						player[g_Player]->TimeHoleFLAG = 1;
						}
					else if(_->TimeHole == 0 && _->TimeReset == 0) player[g_Player]->TimeHoleFLAG = 2;
					}*/

				if(player[g_Player]->TimeHoleFLAG == 2)
					{
					_->TimeHole = 5;
					_->TimeRotate = 1;
					}

				if(player[g_Player]->AttackPos == 0)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					
					if( player[g_Player]->attposecnt >= 0.68 && player[g_Player]->attposecnt <= 0.83)
						{
						Q.ColldetMelee(5,0.68,0.83,0.83,1,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;

					if(player[g_Player]->attposecnt < 0.57)
						{
						player[g_Player]->DeflectLethal = 1;
						}
					else player[g_Player]->DeflectLethal = 0;

					//#### Turn on jink blast
					//player[g_Player]->JinkBLAST = 1;
					//player[g_Player]->JB_Power = 90;
					player[g_Player]->JinkBLAST = 1;
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 20;	//50
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );
					}

				if(player[g_Player]->AttackPos == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if( player[g_Player]->attposecnt >= 1.08 && player[g_Player]->attposecnt <= 1.16)
						{
						Q.ColldetMelee(14,1.08,1.16,1.13,1,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 2)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if( player[g_Player]->attposecnt >= 1.32 && player[g_Player]->attposecnt <= 1.42)
						{
						Q.ColldetMelee(5,1.32,1.42,1.38,1,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 3)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if( player[g_Player]->attposecnt >= 1.55 && player[g_Player]->attposecnt <= 1.65)
						{
						Q.ColldetMelee(14,1.55,1.65,1.59,1,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos >= 4 && player[g_Player]->AttackPos <= 6)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if(player[g_Player]->AttackPos == 4)
						{
						if(player[g_Player]->attposecnt >= 1.82 && player[g_Player]->attposecnt <= 1.87)
							{
							Q.ColldetMelee(12,1.82,1.87,1.87,8,2,1);
							player[g_Player]->HitLethal = 1;
							player[g_Player]->BlowHeight = 2;
							}
						else player[g_Player]->HitLethal = 0;
						}

					if(player[g_Player]->AttackPos == 5)
						{
						if(player[g_Player]->attposecnt >= 1.96 && player[g_Player]->attposecnt <= 2.0)
							{
							Q.ColldetMelee(12,1.96,2.0,2.0,8,2,1);
							player[g_Player]->HitLethal = 1;
							player[g_Player]->BlowHeight = 2;
							}
						else player[g_Player]->HitLethal = 0;
						}

					if(player[g_Player]->AttackPos == 6)
						{
						if(player[g_Player]->attposecnt >= 2.1 && player[g_Player]->attposecnt <= 2.16)
							{
							Q.ColldetMelee(12,2.1,2.16,2.12,8,2,1);
							player[g_Player]->HitLethal = 1;
							player[g_Player]->BlowHeight = 2;
							}
						else player[g_Player]->HitLethal = 0;
						}
					}

				if(player[g_Player]->AttackPos == 7)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if( player[g_Player]->attposecnt >= 2.4 && player[g_Player]->attposecnt <= 2.52)
						{
						Q.ColldetMelee(5,2.4,2.52,2.46,1,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 8)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if( player[g_Player]->attposecnt >= 2.7 && player[g_Player]->attposecnt <= 2.82)
						{
						Q.ColldetMelee(12,2.7,2.82,2.74,7,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 9)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[101]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}

					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);

					if( player[g_Player]->attposecnt >= 3.4 && player[g_Player]->attposecnt <= 3.46)
						{
						Q.ColldetMelee(12,3.4,3.46,3.42,20,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 101, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 101, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 101, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				if(player[g_Player]->AttackPos <= 8)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.0585)*_->TimeScale < 3.87) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.0585*_->TimeScale;
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.03)*_->TimeScale < 3.87) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.03*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[101] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						player[g_Player]->AttackPos = 0;
						player[g_Player]->TimeHoleFLAG = 0;
						player[g_Player]->JinkSpecialON = 0;
						player[g_Player]->JinkInit = 0;
						player[g_Player]->Q_Jink.ON = 0;

						if(player[g_Player]->ShadowsOn == 1)
							{
							player[g_Player]->ShadowsOn = 0;
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}
					}

					//#### Player Movement - Leaps Forward
					if((player[g_Player]->attposecnt > 0.6 && player[g_Player]->attposecnt < 0.85) || (player[g_Player]->attposecnt > 2.3 && player[g_Player]->attposecnt < 2.8 && player[g_Player]->HitLethal == 1))
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;													//13
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 15, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else
							{
							player[g_Player]->WindWake = 0;
							player[g_Player]->collide = 0;
							}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}

					//#### Player Movement Slightly Forwards
					if((player[g_Player]->attposecnt > 1.00 && player[g_Player]->attposecnt < 1.65))
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 6, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else
							{
							player[g_Player]->WindWake = 0;
							player[g_Player]->collide = 0;
							}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}

					//#### Player Movement Slightly Forwards STEADY KICKS
					if((player[g_Player]->attposecnt > 1.65 && player[g_Player]->attposecnt < 2.3))
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 1.5, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else
							{
							player[g_Player]->WindWake = 0;
							player[g_Player]->collide = 0;
							}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}

					//#### Player Movement Up and Forwards Forwards
					if((player[g_Player]->attposecnt >= 3.10 && player[g_Player]->attposecnt <= 3.4))
						{
						playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

						playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;													//14
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

						if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
							{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
						else
							{
							player[g_Player]->WindWake = 0;
							player[g_Player]->collide = 0;
							}

						playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
						if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
						}

					//##### Attack Hit Reset
					if( player[g_Player]->attposecnt < 0.05 ) player[g_Player]->attackhitRcount = 0;

					if( player[g_Player]->attposecnt >= 0.83 && player[g_Player]->attposecnt < 1.16 && player[g_Player]->attackhitRcount == 0)
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.16 && player[g_Player]->attposecnt < 1.42 && player[g_Player]->attackhitRcount == 1 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.42 && player[g_Player]->attposecnt < 1.65 && player[g_Player]->attackhitRcount == 2 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.65 && player[g_Player]->attposecnt < 1.87 && player[g_Player]->attackhitRcount == 3 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.87 && player[g_Player]->attposecnt < 2.0 && player[g_Player]->attackhitRcount == 4 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 2.0 && player[g_Player]->attposecnt < 2.16 && player[g_Player]->attackhitRcount == 5 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 2.16 && player[g_Player]->attposecnt < 2.52 && player[g_Player]->attackhitRcount == 6 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 2.52 && player[g_Player]->attposecnt < 2.82 && player[g_Player]->attackhitRcount == 7 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 2.82 && player[g_Player]->attackhitRcount == 8 )
						{
						player[g_Player]->DownSpeed = 18 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));	//8
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attackhitReset == 1 )
						{
						player[g_Player]->attackhitRcount++;
						player[g_Player]->attackhitReset = 0;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;
						player[g_Player]->AttackSoundTRIG = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}

						player[g_Player]->AttackPos++;
						}

					if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
						{
						player[g_Player]->AttackSoundTRIG = 1;

						/*QpoSound3D_GetConfig(World,
								&player[g_Player]->ViewXForm,
								&player[g_Player]->RFistPos.Translation,
								600.0f,
								2.0f,
								&Volume,
								&Pan,
								&Frequency);*/


							//'ATTACK' SOUND
						Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}

				//###- Motion Blending
				if(player[g_Player]->blendamount[101]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[101] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[101] = 1;

				//#####- Special Hit Reactions -#####
				if(player[g_Player]->JSHitTrigger == 0 && player[g_Player]->attackhits > 0 && player[g_Player]->AttackPos != 13 && 0)
					{
					player[g_Player]->JSHitTrigger = 1;

					jet = 0;
					while(jet < 3)
						{
						Q_Cloud->Cloud[_->NomCloud].CloudType = 4;

						Q_Cloud->Cloud[_->NomCloud].CloudPos = player[g_Player]->AttPos.Translation;

						Q_Cloud->Cloud[_->NomCloud].CloudAlpha = (((float)rand() / 32767)*155)+100;
						Q_Cloud->Cloud[_->NomCloud].CloudScale = (((float)rand() / 32767)*0.1)+0.03;

						//Q_Cloud->Cloud[_->NomCloud].CloudTraVec = Q_LimbFlame[aero].Traj;

						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.x = (((float)rand() / 32767)-0.5) * 2;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.y = (((float)rand() / 32767) * 3) + 0.8;
						Q_Cloud->Cloud[_->NomCloud].CloudTraVec.z = (((float)rand() / 32767)-0.5) * 2;

						Q_Cloud->Cloud[_->NomCloud].CloudSpeed = ((((float)rand() / 32767))+0.3)*4;

						Q_Cloud->Cloud[_->NomCloud].CloudLive = 1;

						_->NomCloud++;
						if(_->NomCloud > (Q_Cloud->m_ArrayMx - 1)) _->NomCloud = (Q_Cloud->m_ArrayMx - 1);
						jet++;
						}
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 65:	//Rush Elbow
				{
				//### Set Crouch Mode
				player[g_Player]->CrouchInit = 1;
				
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R UPPERARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 102, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[102]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R UPPERARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

#if 0
					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 4) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );
#endif

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.06)*_->TimeScale < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.06*_->TimeScale;	//0.045
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[102] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->JinkInit =0;
					player[g_Player]->CrouchInit = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				if(player[g_Player]->attposecnt > 0.56 && (player[g_Player]->AttackPos < 7 && player[g_Player]->attackhits == 0))
					{
					player[g_Player]->attposecnt = 0.56;
					player[g_Player]->AttackPos++;
					}

				//#### Player Movement - Leaps Forward
				if((player[g_Player]->attposecnt > 0.1 && player[g_Player]->attposecnt < 0.58) && player[g_Player]->attackhits < 1)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 20 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; /*player[g_Player]->WindWake = 0;*/ }
					else 
						{
						//player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
	#if 0
						player[g_Player]->JinkRUSHCLOUD = 1;
						player[g_Player]->JRC_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower;
						player[g_Player]->JRC_Speed = 0.1*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );
	#endif
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				//else player[g_Player]->WindWake = 0;

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 102, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 102, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 102, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				if( player[g_Player]->attposecnt >= 0.5 && player[g_Player]->attposecnt <= 0.65)
					{
					Q.ColldetMelee(13,0.5,0.65,0.56,9,2,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;	

				//###- Motion Blending
				if(player[g_Player]->blendamount[102]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[102] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[102] = 1;
				}break;


			case 66:	//Hold Barge
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L UPPERARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 103, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[103]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L UPPERARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035)*_->TimeScale < 0.67) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[103] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}

				//#### Player Movement - Shuffle Back
				if(player[g_Player]->attposecnt < 0.2)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide = 0;
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//#### Player Movement - Move Forwards
				if(player[g_Player]->attposecnt >= 0.35 && player[g_Player]->attposecnt < 0.5 && player[g_Player]->attackhits < 1)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 25 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide = 0;
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if( player[g_Player]->attposecnt >= 0.43 && player[g_Player]->attposecnt <= 0.5)
					{
					Q.ColldetMelee(4,0.43,0.5,0.48,9,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;	

				//###- Motion Blending
				if(player[g_Player]->blendamount[103]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[103] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[103] = 1;
				}break;


			case 67:	//Double Strike
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 104, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[104]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
		
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.053)*_->TimeScale < 2) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.053*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[104] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}

				//#### Player Movement - Move Forwards
				if(player[g_Player]->attposecnt >= 0.35 && player[g_Player]->attposecnt < 0.65)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 8, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);	//4.5

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide = 0;
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if( player[g_Player]->attposecnt >= 0.7 && player[g_Player]->attposecnt <= 1)
					{
					Q.ColldetMelee(5,0.7,1,0.82,9,2,2);
					Q.ColldetMelee(14,0.7,1,0.82,9,2,2);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 2;
					}
				else player[g_Player]->HitLethal = 0;	

				//###- Motion Blending
				if(player[g_Player]->blendamount[104]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[104] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[104] = 1;
				}break;


			case 68:	//Low Lunge
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 105, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[105]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
		
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.09)*_->TimeScale < 1.17) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.09*_->TimeScale;	//0.05
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[105] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}

				if( player[g_Player]->attposecnt >= 0.85 && player[g_Player]->attposecnt <= 0.97)
					{
					Q.ColldetMelee(14,0.85,0.97,0.97,1,1,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 1;
					}
				else player[g_Player]->HitLethal = 0;	

				//###- Motion Blending
				if(player[g_Player]->blendamount[105]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[105] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[105] = 1;
				}break;


			case 69:	//Side Chop
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 106, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[106]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt > 0.55 && player[g_Player]->attposecnt <= 0.76)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 226, 255, 62, 1);
					player[g_Player]->TrailsOn = 1;
					}

				if( player[g_Player]->attposecnt >= 0.55 && player[g_Player]->attposecnt <= 0.76)
					{
					player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
					player[g_Player]->AttPos = player[g_Player]->TempXForm2;
					Q.ColldetMelee(5,0.55,0.76,0.7,1,3,1);
					player[g_Player]->HitLethal = 1;
					}
				else player[g_Player]->HitLethal = 0;

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->AttackPos == 0)
					{
					if(player[g_Player]->attposecnt > 0.28 && player[g_Player]->attposecnt <= 0.)
						{
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if( player[g_Player]->attposecnt >= 0.28 && player[g_Player]->attposecnt <= 0.55)
						{
						Q.ColldetMelee(14,0.28,0.55,0.44,1,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos > 0)
					{
					if(player[g_Player]->attposecnt > 1 && player[g_Player]->attposecnt <= 1.35)
						{
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if( player[g_Player]->attposecnt >= 1.07 && player[g_Player]->attposecnt <= 1.32)
						{
						Q.ColldetMelee(14,1.07,1.32,1.15,1,3,1);
						player[g_Player]->HitLethal = 1;		// 9
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.075)*_->TimeScale < 1.57) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.075*_->TimeScale;	//0.05
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[106] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;
					}

				if(player[g_Player]->attposecnt > 0.55 && player[g_Player]->AttackPos == 0)
					{
					player[g_Player]->AttackPos = 1;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}

				if(player[g_Player]->attposecnt > 0.9 && player[g_Player]->AttackPos == 1)
					{
					player[g_Player]->AttackPos = 2;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}
		
				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishN4, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				//#### Player Movement - Move Forwards
				if(player[g_Player]->attposecnt >= 1 && player[g_Player]->attposecnt <= 1.38)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide = 0;
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[106]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[106] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[106] = 1;
				}break;


			case 70:	//Spin Chop
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 107, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[107]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
				
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 226, 255, 62, 1);
				Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 226, 255, 62, 0);
				//player[g_Player]->TrailsOn = 1;

				if( player[g_Player]->attposecnt >= 1.4 && player[g_Player]->attposecnt <= 1.55)
					{
					player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
					player[g_Player]->AttPos = player[g_Player]->TempXForm2;
					Q.ColldetMelee(5,1.4,1.55,1.52,1,3,1);
					player[g_Player]->HitLethal = 1;
					}
				else player[g_Player]->HitLethal = 0;

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				//if(player[g_Player]->attposecnt > 0.22 && player[g_Player]->attposecnt <= 0.67)
				//	{
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 255, 210, 62, 1);
					//player[g_Player]->TrailsOn = 1;
				//	}

				if(player[g_Player]->AttackPos == 0)
					{
					if( player[g_Player]->attposecnt >= 0.22 && player[g_Player]->attposecnt <= 0.67)
						{
						Q.ColldetMelee(14,0.22,0.67,0.58,1,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos > 0)
					{
					if( player[g_Player]->attposecnt >= 1.55 && player[g_Player]->attposecnt <= 1.8)
						{
						Q.ColldetMelee(14,1.55,1.8,1.6,9,3,1);
						player[g_Player]->HitLethal = 1;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1)*_->TimeScale < 2.43) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;	//0.07//0.05
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[107] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;
					}

				if(player[g_Player]->attposecnt > 0.9 && player[g_Player]->AttackPos == 0)
					{
					player[g_Player]->AttackPos = 1;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}

				if(player[g_Player]->attposecnt > 1.55 && player[g_Player]->AttackPos == 1)
					{
					player[g_Player]->AttackPos = 2;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}
		
				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishN4, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				//#### Player Movement - Move Forwards
				if(player[g_Player]->attposecnt >= 0.4 && player[g_Player]->attposecnt <= 1.6)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide = 0;
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[107]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[107] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[107] = 1;
				}break;


			case 71:	//Hand Slaps
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 117, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[117]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt > 0.65 && player[g_Player]->attposecnt <= 0.76)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 1, 255, 210, 160, 0);
					player[g_Player]->TrailsOn = 1;
					player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
					player[g_Player]->AttPos = player[g_Player]->TempXForm2;
					Q.ColldetMelee(5,0.65,0.76,0.74,1,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->AttackPos == 0)
					{
					if(player[g_Player]->attposecnt >= 0.40 && player[g_Player]->attposecnt <= 0.55)
						{
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
						player[g_Player]->TrailsOn = 1;
						Q.ColldetMelee(14,0.4,0.55,0.51,1,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos > 0)
					{
					if(player[g_Player]->attposecnt > 0.9 && player[g_Player]->attposecnt <= 1.04)
						{
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
						player[g_Player]->TrailsOn = 1;
						Q.ColldetMelee(14,0.9,1.04,1.02,1,3,1);
						player[g_Player]->HitLethal = 1;		//9
						player[g_Player]->BlowHeight = 3;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.065)*_->TimeScale < 1.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.065*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[117] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;
					}

				if(player[g_Player]->attposecnt > 0.55 && player[g_Player]->AttackPos == 0)
					{
					player[g_Player]->AttackPos = 1;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}

				if(player[g_Player]->attposecnt > 0.76 && player[g_Player]->AttackPos == 1)
					{
					player[g_Player]->AttackPos = 2;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}
		
				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishN4, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				//#### Player Movement - Move Forwards
				if(player[g_Player]->attposecnt >= 0.4 && player[g_Player]->attposecnt <= 0.95)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide = 0;
						}
					
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[117]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[117] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[117] = 1;
				}break;

			case 72:	//Right Double Kick RDoubleKick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 124, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[124]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
		
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1)*_->TimeScale < 1.6) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;	//0.0663
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[124] = 0;
					player[g_Player]->attackon = 0;
					}

				if(player[g_Player]->attposecnt > 0.7 && player[g_Player]->AttackPos == 0)
					{
					player[g_Player]->AttackPos = 1;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}
					}

				player[g_Player]->HitLethal = 0;

				if(player[g_Player]->AttackPos == 0)
					{
					if(player[g_Player]->attposecnt >= 0.58 && player[g_Player]->attposecnt <= 0.7)
						{
						Q.ColldetMelee(12,0.58,0.7,0.69,1,1,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 1;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt >= 1.18 && player[g_Player]->attposecnt <= 1.25)
						{
						Q.ColldetMelee(12,1.18,1.25,1.23,1,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						}
					}
		
				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishN2, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[124]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[124] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[124] = 1;
				}break;


			case 73:	//Jink Special Rush JSRUSH
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				if(player[g_Player]->Mposestate != 15) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 118, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[118]);

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 3 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 20) + 1;
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 15;
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//player[g_Player]->JinkBLAST = 3;
					//player[g_Player]->JB_Power = 100;

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->Mposestate != 13 && player[g_Player]->Mposestate != 15)
					{
					if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 118, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
						}
					if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[2];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 118, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
						}
					if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[3];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 118, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[3].Xform, 1);
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.13)*_->TimeScale < 3.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.13*_->TimeScale;	//0.19//0.22
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[118] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->JinkSpecialON = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				//#### Player Movement - Leaps Forward
				if((player[g_Player]->attposecnt > 0.6 && player[g_Player]->attposecnt < 3.25))
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 33 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						player[g_Player]->JinkRUSHCLOUD = 1;
						player[g_Player]->JRC_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 8;
						player[g_Player]->JRC_Speed = 0.1*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->Mposestate != 13 && player[g_Player]->Mposestate != 15)
					{
					//##### Shadow Memory Storage
					if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
					else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
					player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
					player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

					SCRAM = 3;
					while(SCRAM >= 1)
						{
						player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
						player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
						player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
						SCRAM--;
						}
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[118]+ (0.18*_->TimeScale) <=1) player[g_Player]->blendamount[118] += 0.18*_->TimeScale;
				else player[g_Player]->blendamount[118] = 1;
				}break;

			case 74:
				{}break;

			case 75:	//Static KICK
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 122, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[122]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.25 && player[g_Player]->attposecnt <= 1.85)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 2;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 10) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 1;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->AttackPos == 0)
					{
					if( player[g_Player]->attposecnt >= 0.3 && player[g_Player]->attposecnt <= 0.41)
						{
						Q.ColldetMelee(12,0.3,0.41,0.36,11,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 1)
					{
					if( player[g_Player]->attposecnt >= 0.64 && player[g_Player]->attposecnt <= 0.74)
						{
						Q.ColldetMelee(12,0.64,0.74,0.69,11,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 2)
					{
					if( player[g_Player]->attposecnt >= 1.05 && player[g_Player]->attposecnt <= 1.13)
						{
						Q.ColldetMelee(12,1.05,1.13,1.09,3,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 3)
					{
					if( player[g_Player]->attposecnt >= 1.41 && player[g_Player]->attposecnt <= 1.5)
						{
						Q.ColldetMelee(12,1.41,1.5,1.45,11,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}

				if(player[g_Player]->AttackPos == 4)
					{
					if( player[g_Player]->attposecnt >= 1.95 && player[g_Player]->attposecnt <= 2.09)
						{
						Q.ColldetMelee(12,1.95,2.09,1.98,20,2,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					else player[g_Player]->HitLethal = 0;
					}


				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 122, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 122, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 122, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.0393)*_->TimeScale < 2.4) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.0393*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[122] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->JinkSpecialON = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}


				//#### RUSH Forwards
				if(player[g_Player]->attposecnt < 2.4)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 1.5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else
						{
						player[g_Player]->collide = 0;
						player[g_Player]->WindWake = 0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


					//##### Attack Hit Reset
					if( player[g_Player]->attposecnt < 0.3 ) player[g_Player]->attackhitRcount = 0;

					if( player[g_Player]->attposecnt >= 0.41 && player[g_Player]->attposecnt < 0.74 && player[g_Player]->attackhitRcount == 0)
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 0.74 && player[g_Player]->attposecnt < 1.13 && player[g_Player]->attackhitRcount == 1 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.13 && player[g_Player]->attposecnt < 1.5 && player[g_Player]->attackhitRcount == 2 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.5 && player[g_Player]->attposecnt < 2.09 && player[g_Player]->attackhitRcount == 3 )
						{
						player[g_Player]->attackhitReset = 1;
						}


					if( player[g_Player]->attackhitReset == 1 )
						{
						player[g_Player]->attackhitRcount++;
						player[g_Player]->attackhitReset = 0;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;
						player[g_Player]->AttackSoundTRIG = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}

						player[g_Player]->AttackPos++;
						}

					if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
						{
						player[g_Player]->AttackSoundTRIG = 1;

						/*QpoSound3D_GetConfig(World,
								&player[g_Player]->ViewXForm,
								&player[g_Player]->RFistPos.Translation,
								600.0f,
								2.0f,
								&Volume,
								&Pan,
								&Frequency);*/


							//'ATTACK' SOUND
						Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}


				//###- Motion Blending
				if(player[g_Player]->blendamount[122]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[122] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[122] = 1;


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 76:	//Jink Special UpThrust JSRUSHUP
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 45, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[45]);

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 3 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 10) + 1;	//3
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 3;	//70
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				if((player[g_Player]->attposecnt <= 0.6) && (player[g_Player]->AirBorn == 1)) player[g_Player]->attposecnt = 0.6;


				if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 45, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 45, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[5].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 45, player[g_Player]->ShadowMeMPose[5], &player[g_Player]->Shadows[3].Xform, 1);
					}

				if(player[g_Player]->attposecnt <= 0.6)
					{																							//0.25
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.285*_->TimeScale) < 1.37) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.285*_->TimeScale;
					else
						{
						if(player[g_Player]->AttackPos > 1)
							{
							/*player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[45] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->astackcnt = 0;
							player[g_Player]->astackrun = 0;
							player[g_Player]->astackcntdir[0] = 0;
							player[g_Player]->AttackPos = 0;
							player[g_Player]->TimeHoleFLAG = 0;
							player[g_Player]->JinkSpecialON = 0;
							player[g_Player]->JinkInit = 0;
							player[g_Player]->Q_Jink.ON = 0;
							player[g_Player]->DownSpeed = 2;

							if(player[g_Player]->ShadowsOn == 1)
								{
								player[g_Player]->ShadowsOn = 0;
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
								}*/

							//##### - Switch to Air Jink - #####
							player[g_Player]->JumpPoseINC = 0.06;
							player[g_Player]->jumpposecnt = 0.33;
							player[g_Player]->blendamount[48] = 0.1;
							player[g_Player]->AirJinkRotFG = 0;
							player[g_Player]->AirJinkInit = 0;

							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[45] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->astackcnt = 0;
							player[g_Player]->astackrun = 0;
							player[g_Player]->astackcntdir[0] = 0;
							player[g_Player]->AttackPos = 0;
							player[g_Player]->TimeHoleFLAG = 0;
							player[g_Player]->JinkSpecialON = 0;
							player[g_Player]->JinkInit = 0;
							player[g_Player]->Q_Jink.ON = 0;
							player[g_Player]->DownSpeed = 0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

								//# Spin Player Back
							player[g_Player]->AirJinkRotFG = 0;
							player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
							player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
							//if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
							//if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
							Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y);	/// Originaly -
							Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
							QpoVec3d i_Vector = playerAV[g_Player]->Xform.Translation;
							playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
							playerAV[g_Player]->Xform.Translation = i_Vector;
							player[g_Player]->AvatarRotation = player[g_Player]->trueAngles.y;

							player[g_Player]->Mposestate = 14;
							}
						else
							{
							player[g_Player]->AttackPos++;
							player[g_Player]->attposecnt = 0.83;
							}
						}
					}
				else
					{																							//0.042
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07)*_->TimeScale < 1.37) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07*_->TimeScale;
					else
						{
						if(player[g_Player]->AttackPos > 1)
							{
							/*player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[45] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->astackcnt = 0;
							player[g_Player]->astackrun = 0;
							player[g_Player]->astackcntdir[0] = 0;
							player[g_Player]->AttackPos = 0;
							player[g_Player]->TimeHoleFLAG = 0;
							player[g_Player]->JinkSpecialON = 0;
							player[g_Player]->JinkInit = 0;
							player[g_Player]->Q_Jink.ON = 0;
							player[g_Player]->DownSpeed = 2;*/

							if(player[g_Player]->ShadowsOn == 1)
								{
								player[g_Player]->ShadowsOn = 0;
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
								}

							//##### - Switch to Air Jink - #####
							player[g_Player]->JumpPoseINC = 0.06;
							player[g_Player]->jumpposecnt = 0.33;
							player[g_Player]->blendamount[48] = 0.1;
							player[g_Player]->AirJinkRotFG = 0;
							player[g_Player]->AirJinkInit = 0;

							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[45] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->astackcnt = 0;
							player[g_Player]->astackrun = 0;
							player[g_Player]->astackcntdir[0] = 0;
							player[g_Player]->AttackPos = 0;
							player[g_Player]->TimeHoleFLAG = 0;
							player[g_Player]->JinkSpecialON = 0;
							player[g_Player]->JinkInit = 0;
							player[g_Player]->Q_Jink.ON = 0;
							player[g_Player]->DownSpeed = 0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

								//# Spin Player Back
							player[g_Player]->AirJinkRotFG = 0;
							player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
							player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
							if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
							if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
							Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
							Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
							Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
							playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;

							player[g_Player]->Mposestate = 14;
							}
						else
							{
							player[g_Player]->AttackPos++;
							player[g_Player]->attposecnt = 0.83;
							}
						}
					}

				//#### Player Movement - Leaps Upwards
				if((player[g_Player]->attposecnt >= 0.6 && player[g_Player]->attposecnt < 1.2) && player[g_Player]->collide == 0)
					{
					player[g_Player]->AirBorn = 1;
					if(player[g_Player]->DownSpeed < 15) player[g_Player]->DownSpeed = 15 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;

					playerAV[g_Player]->OldPos.y += 120; playerAV[g_Player]->NewPos.y += 120;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}
					playerAV[g_Player]->OldPos.y -= 120;playerAV[g_Player]->NewPos.y -= 120;
					}


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[45] + (0.2) <=1) player[g_Player]->blendamount[45] += 0.2;
				else player[g_Player]->blendamount[45] = 1;
				}break;


			case 77:	//Run Attack Kick
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 126, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[126]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 1, 255, 210, 160, 0);
				//player[g_Player]->TrailsOn = 1;
				
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale) < 2.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[126] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;

					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}


				if(player[g_Player]->attposecnt > 0.7 && player[g_Player]->AttackPos == 0)
					{
					if(player[g_Player]->attackhits != 0)
						{
						player[g_Player]->AttackPos = 1;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;
						player[g_Player]->AttackSoundTRIG = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}
						}
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[126] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

				player[g_Player]->HitLethal = 0;

				if(player[g_Player]->AttackPos == 0)
					{
					if(player[g_Player]->attposecnt>=0.4 && player[g_Player]->attposecnt<=0.5)
						{
						Q.ColldetMelee(12,0.4,0.5,0.48,1,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						}
					else player[g_Player]->HitLethal = 0;
					}
				else
					{
					if(player[g_Player]->attposecnt>=1.53 && player[g_Player]->attposecnt<=1.69)
						{
						Q.ColldetMelee(12,1.53,1.69,1.56,2,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						}
					else player[g_Player]->HitLethal = 0;
					}

		
				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishN2, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				if(player[g_Player]->blendamount[126]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[126] += 0.5*_->TimeScale;
				}break;


			case 78:	//Power Bomb PowerBomb
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 127, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[127]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;

				if(player[g_Player]->EnergyInitialise == 0 && _->NetworkOption != 1)
					{
					player[g_Player]->EnergyInitialise = 1;
					player[g_Player]->LEnergyID = _->NomLEnergy;
					_->NomLEnergy++;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Live = 1;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Init = 0;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Team = player[g_Player]->Team;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].AvID = 250;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyRAD = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[24].ExpRadius;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyDMG = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[24].Damage;

					Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[1].Avatar, 85, player[g_Player]->attposecnt, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[2].Avatar, 85, player[g_Player]->attposecnt, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[3].Avatar, 85, player[g_Player]->attposecnt, &player[g_Player]->Shadows[3].Xform);
					}

				helly = 1;
				while(helly < 4)
					{
					if(player[g_Player]->ShadowScale[helly] == 0)
						{
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowAlpha[helly] = 150;
						}
					helly++;
					}

				helly = 1;
				while(helly < 4)
					{															//Errors here
					player[g_Player]->ShadowScale[helly] += ((float)Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power/400) * ((float)helly/3);	//850	//1500

					player[g_Player]->ShadowAlpha[helly] -= 25;
					if(player[g_Player]->ShadowAlpha[helly] < 0)
						{
						player[g_Player]->ShadowAlpha[helly] = 150;
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						}

					player[g_Player]->ShadowScaleX[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
					player[g_Player]->ShadowScaleY[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
					player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowScaleX[helly],player[g_Player]->ShadowScaleY[helly],player[g_Player]->ShadowScaleZ[helly]);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowAlpha[helly]);

					helly++;
					}

				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 127, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[127]);
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.07) < 2.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.07;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[127] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->EnergyInitialise = 0;
					player[g_Player]->HoldBack = 0;
					player[g_Player]->LaserAlpha = 0;

					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, 150/(helly+1));
						player[g_Player]->ShadowAlpha[helly] = 255;
						}

					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				//if((player[g_Player]->HoldBack == 0 && player[g_Player]->attposecnt > 0.5 && _->mbutton[g_Player]) || (player[g_Player]->attposecnt > 0.5 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power < 30)) player[g_Player]->attposecnt = 0.5;
				/*if((player[g_Player]->attposecnt > 0.3) && (Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power < 30))
					{
					player[g_Player]->attposecnt = 0.3;
					}*/

				/*if(player[g_Player]->attposecnt > 0.3 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power > 30 && player[g_Player]->HoldBack == 0)
					{
					player[g_Player]->HoldBack = 1;
					}*/

				if(player[g_Player]->attposecnt >= 0.3 && _->NetworkOption != 1)
					{
					if(player[g_Player]->attposecnt == 0.3)
						{
						/*if(Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power + 10 <= 30) Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power += 10;	//## Increase the Power
						else Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power = 30;*/
						}

					if(player[g_Player]->attposecnt < 1)
						{
						Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyLive = 1;

						Qpo->Transform_AvatarGetUp(&playerAV[g_Player]->Xform, /*ORIG GetIn*/&player[g_Player]->In);
						Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec = player[g_Player]->In;
						Qpo->Vec3d_Inverse(&Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec);

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FINGER02", &player[g_Player]->TempXForm1);
						Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos = player[g_Player]->TempXForm1.Translation;
						Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->In);
						Qpo->Vec3d_AddScaled(&Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos, 3, &player[g_Player]->InStore, &Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos);
						
						
						player[g_Player]->LaserStr = Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].LightPos;
						Qpo->Vec3d_AddScaled(&player[g_Player]->LaserStr, 35, &Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec, &player[g_Player]->AttPos.Translation);
						Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 3000, &Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec, &player[g_Player]->OAttPos.Translation);


						if(Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power <= 30) player[g_Player]->LaserAlpha = (Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].Power * 2) + 15;
						else player[g_Player]->LaserAlpha = 75;

						if(Qpo->Collision_RayTest(
							 NULL,
							 NULL,
							 &player[g_Player]->AttPos.Translation,
							 &player[g_Player]->OAttPos.Translation,
							 // GE_CONTENTS_CANNOT_OCCUPY
							 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
							 0xffffffff, NULL, NULL,
							 &player[g_Player]->Collision) && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar && player[g_Player]->Collision.Avatar != Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyBall.Avatar)
							{
							// Set the new pos to the point of collision
							player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);

							player[g_Player]->LaserLV.a = (player[g_Player]->LaserAlpha*2) - 20;
							player[g_Player]->LaserLV.r = 255;
							player[g_Player]->LaserLV.g = 255;			//alpha values and colour
							player[g_Player]->LaserLV.b = 0;
							player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
							player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
							player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

							Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.275f);	//0.3
							}

						Q.ShowLine(&player[g_Player]->AttPos.Translation, &player[g_Player]->OAttPos.Translation, &player[g_Player]->ViewXForm.Translation, 3, Medias->LaserSight, player[g_Player]->LaserAlpha, 255, 255, 0, 1);	//5
						}
					}
				
				if(player[g_Player]->attposecnt > 1 && Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyFire == 0 && _->NetworkOption != 1)
					{
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].EnergyFire = 1;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].ScaleGrow = 0;
					Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].ScaleInc = 0.08;	//0.025

					player[g_Player]->MoveReactSpeed = 9.5 / HITREACT_SCALE_IMP;	//17
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					player[g_Player]->MoveReactVec = Q_LEnergy->LEnergy[player[g_Player]->LEnergyID].TraVec;
					Qpo->Vec3d_Inverse(&player[g_Player]->MoveReactVec);

					if(player[g_Player]->MoveReactVec.y < 0) player[g_Player]->MoveReactVec.y = 0;

					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm,&player[g_Player]->RFistPos.Translation,600.0f,2.0f,&Volume,&Pan,&Frequency);
					Qpo->Sound_Play(Medias->S_UppCutFlames, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				if(player[g_Player]->blendamount[127]+ (0.1) <=1) player[g_Player]->blendamount[127] += 0.1;
				else player[g_Player]->blendamount[127] = 1;
				}break;


			case 79:	//Leap Down Strike
				{
				//TEST THIS
				player[g_Player]->JinkSpecialON = 1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 128, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[128]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 0.30 && player[g_Player]->attposecnt <= 0.50)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.73) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[128] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->HoldBack = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.035*_->TimeScale) < 0.73) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.035*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[128] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->HoldBack = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}


				if(player[g_Player]->attposecnt >= 0.1 && player[g_Player]->attposecnt < 0.55)
					{
					//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;  //Move Forwards

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 150, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->blendamount[128]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[128] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.35 && player[g_Player]->attposecnt<=0.46)
					{
					Q.ColldetMelee(12,0.35,0.46,0.415,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 80:	//Right Spin Attack
				{
				player[g_Player]->JinkSpecialON = 1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 129, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[129]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt <= 1)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->attposecnt + (0.025*_->TimeScale) <= 1.27) player[g_Player]->attposecnt += 0.025*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt=0;
					player[g_Player]->blendamount[129]=0;
					player[g_Player]->JumpOff = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;

					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}

				if((player[g_Player]->runposecnt > 0.2 && player[g_Player]->runposecnt < 1.3) || 1)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 3*_->TimeScale, &playerAV[g_Player]->Left, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->attposecnt > 0.2 || 1)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				if(player[g_Player]->attposecnt > 0.25 && player[g_Player]->AttackPos == 0)
					{
					player[g_Player]->AttackPos = 1;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					player[g_Player]->AirBorn = 1;
					}

				if(player[g_Player]->blendamount[129]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[129] += 0.5*_->TimeScale;

				player[g_Player]->HitLethal = 0;

				if(player[g_Player]->attposecnt>=0.13 && player[g_Player]->attposecnt<=0.23)
					{
					Q.ColldetMelee(3,0.13,0.23,0.19,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}

				if(player[g_Player]->attposecnt>=0.55 && player[g_Player]->attposecnt<=1)
					{
					Q.ColldetMelee(3,0.55,1,0.8,20,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 81:	//Spin Out Left
				{
				player[g_Player]->JinkSpecialON = 2;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 130, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[130]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attposecnt >= 1.20 && player[g_Player]->attposecnt <= 1.75)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
					player[g_Player]->TrailsOn = 1;
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.075*_->TimeScale) <= 2) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.075*_->TimeScale; //0.11
				else
					{
					player[g_Player]->attposecnt=0;
					player[g_Player]->blendamount[130]=0;
					//player[g_Player]->Mposestate = 0;
					player[g_Player]->JumpOff = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->TrailsOn = 0;
					player[g_Player]->attackon = 0;

					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					}

				if(player[g_Player]->attposecnt > 0.1 && player[g_Player]->attposecnt < 0.85)
					{
					//###Move Sideways
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);										//12
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -10*_->TimeScale, &playerAV[g_Player]->Left, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//Move Forwards
				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 1.4)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 55, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -20*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->blendamount[130]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[130] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=1.4 && player[g_Player]->attposecnt<=1.7)
					{
					Q.ColldetMelee(12,1.4,1.7,1.5,10,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 82:
				{}break;


			case 83:	//Leap Down Fist
				{
				//TEST THIS
				player[g_Player]->JinkSpecialON = 0;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 132, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[132]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->attcombo == 0)
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.086*_->TimeScale) < 1.1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.086*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[132] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->HoldBack = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}
				else
					{
					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.047*_->TimeScale) < 1.1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.047*_->TimeScale;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[132] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->HoldBack = 0;

						player[g_Player]->astackcnt = 0;
						player[g_Player]->astackrun = 0;
						player[g_Player]->astackcntdir[0] = 0;
						}
					}

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
					playerAV[g_Player]->OldPos.y -= 2;	//20
					playerAV[g_Player]->NewPos.y -= 20;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 10*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{  player[g_Player]->collide=1; } else player[g_Player]->collide=0;

					playerAV[g_Player]->NewPos.y += 20;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				
				if(player[g_Player]->collide == 0)
					{
					player[g_Player]->DownSpeed = -8 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));
					}

				if(player[g_Player]->attposecnt >= 0.92 && player[g_Player]->collide == 0) player[g_Player]->attposecnt = 0.85;

				if(player[g_Player]->blendamount[132]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[132] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.6 && player[g_Player]->attposecnt<=0.92)
					{
					Q.ColldetMelee(12,0.6,0.92,0.86,2,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 84:	//Cyclone Kick
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 2;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.1f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 2;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*60)+30);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 2) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 2;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );	//65

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->AttackPos == 0)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->TempXForm1);
					Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm3);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm4);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 131, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[131]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm5);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm2);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					player[g_Player]->HitLethal = 0;

					if(player[g_Player]->attposecnt > 0.30 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm2;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 2, player[g_Player]->AttPos.Translation, player[g_Player]->OAttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 0.45 && player[g_Player]->attposecnt <= 0.63)
						{
						Q.ColldetMelee(3,0.45,0.63,0.55,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}

					player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
					player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt > 0.30 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm5;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm4;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 2, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 0.45 && player[g_Player]->attposecnt <= 0.63)
						{
						Q.ColldetMelee(12,0.45,0.63,0.55,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					}

				if(player[g_Player]->AttackPos == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->TempXForm1);
					Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm3);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm4);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 131, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[131]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm5);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm2);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					player[g_Player]->HitLethal = 0;

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm2;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->AttPos.Translation, player[g_Player]->OAttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 0.63 && player[g_Player]->attposecnt <= 0.75)
						{
						Q.ColldetMelee(3,0.63,0.75,0.69,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}

					player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
					player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm5;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm4;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 0.63 && player[g_Player]->attposecnt <= 0.75)
						{
						Q.ColldetMelee(12,0.63,0.75,0.69,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					}

				if(player[g_Player]->AttackPos == 2)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->TempXForm1);
					Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm3);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm4);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 131, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[131]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm5);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm2);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					player[g_Player]->HitLethal = 0;

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm2;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->AttPos.Translation, player[g_Player]->OAttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 0.75 && player[g_Player]->attposecnt <= 0.9)
						{
						Q.ColldetMelee(3,0.75,0.9,0.8,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}

					player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
					player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm5;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm4;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 0.75 && player[g_Player]->attposecnt <= 0.9)
						{
						Q.ColldetMelee(12,0.75,0.9,0.8,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					}

				if(player[g_Player]->AttackPos == 3)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->TempXForm1);
					Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm3);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm4);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 131, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[131]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm5);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm2);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					player[g_Player]->HitLethal = 0;

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm2;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->AttPos.Translation, player[g_Player]->OAttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 1 && player[g_Player]->attposecnt <= 1.13)
						{
						Q.ColldetMelee(3,1,1.13,1.1,12,3,2);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					}

				if(player[g_Player]->AttackPos == 4)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->TempXForm1);
					Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm3);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm4);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 131, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[131]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->TempXForm5);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->TempXForm2);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					player[g_Player]->HitLethal = 0;

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm2;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->AttPos.Translation, player[g_Player]->OAttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 1.45 && player[g_Player]->attposecnt <= 1.90)
						{
						Q.ColldetMelee(3,1.45,1.90,1.5,12,3,5);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}

					player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
					player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt > 0.3 && player[g_Player]->attposecnt <= 2)	//0.85
						{
						player[g_Player]->AttPos = player[g_Player]->TempXForm5;
						player[g_Player]->OAttPos = player[g_Player]->TempXForm4;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}

					if(player[g_Player]->attposecnt >= 1.45 && player[g_Player]->attposecnt <= 1.90)
						{
						Q.ColldetMelee(12,1.45,1.90,1.5,12,3,5);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						}
					}


				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 131, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 131, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 131, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}


				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05)*_->TimeScale < 2.17) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05 *_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[131] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->JinkSpecialON = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}


				//#### RUSH Forwards
				if(player[g_Player]->attposecnt < 1.4)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 9.2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 18 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{  player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->collide == 0)
					{
					player[g_Player]->DownSpeed = -11 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));
					}


					//##### Attack Hit Reset
					if( player[g_Player]->attposecnt < 0.4 ) player[g_Player]->attackhitRcount = 0;

					if( player[g_Player]->attposecnt >= 0.63 && player[g_Player]->attposecnt < 0.75 && player[g_Player]->attackhitRcount == 0)
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 0.75 && player[g_Player]->attposecnt < 0.9 && player[g_Player]->attackhitRcount == 1 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 0.9 && player[g_Player]->attposecnt < 1.13 && player[g_Player]->attackhitRcount == 2 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attposecnt >= 1.13 && player[g_Player]->attposecnt < 1.9 && player[g_Player]->attackhitRcount == 3 )
						{
						player[g_Player]->attackhitReset = 1;
						}

					if( player[g_Player]->attackhitReset == 1 )
						{
						player[g_Player]->attackhitRcount++;
						player[g_Player]->attackhitReset = 0;

						player[g_Player]->AntiMultHits[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHits[aero] = 0;
							aero++;
							}
						player[g_Player]->attackhits = 0;
						player[g_Player]->AttackSoundTRIG = 0;

						player[g_Player]->AntiMultHitsSHIELD[250] = 0;
						aero=0;
						while(aero < _->NomAI)
							{
							player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
							aero++;
							}

						player[g_Player]->AttackPos++;
						}

					if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
						{
						player[g_Player]->AttackSoundTRIG = 1;

						/*QpoSound3D_GetConfig(World,
								&player[g_Player]->ViewXForm,
								&player[g_Player]->RFistPos.Translation,
								600.0f,
								2.0f,
								&Volume,
								&Pan,
								&Frequency);*/


							//'ATTACK' SOUND
						Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}


				//###- Motion Blending
				if(player[g_Player]->blendamount[131]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[131] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[131] = 1;


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 85:	//Jink Special Rush Punch Normal	JSRUSHPUNCH
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 2;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 5) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 6;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->AttackPos == 0)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 119, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 0.63 && player[g_Player]->attposecnt <= 0.85)
						{
						Q.ColldetMelee(14,0.63,0.85,0.74,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 119, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 1.52 && player[g_Player]->attposecnt <= 1.8)
						{
						Q.ColldetMelee(5,1.52,1.8,1.56,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 2)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 119, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 2.37 && player[g_Player]->attposecnt <= 2.65)
						{
						Q.ColldetMelee(14,2.37,2.65,2.45,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 3)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 119, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					if(player[g_Player]->attposecnt >= 3.2 && player[g_Player]->attposecnt <= 3.45)
						{
						Q.ColldetMelee(5,3.2,3.45,3.33,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 119, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 119, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 119, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}
				
				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->AttPoseInc)*_->TimeScale < 3.57) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->AttPoseInc*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[119] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->JinkSpecialON = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				//#### RUSH Forwards
				if(player[g_Player]->attposecnt < 3.8)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 9.2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}

				//##### Attack Hit Reset
				if( player[g_Player]->attposecnt < 0.5 ) player[g_Player]->attackhitRcount = 0;

				if( player[g_Player]->attposecnt >= 0.75 && player[g_Player]->attposecnt < 1.65 && player[g_Player]->attackhitRcount == 0)
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 1.65 && player[g_Player]->attposecnt < 2.5 && player[g_Player]->attackhitRcount == 1 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 2.5 && player[g_Player]->attposecnt < 3.36 && player[g_Player]->attackhitRcount == 2 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attackhitReset == 1 )
					{
					player[g_Player]->attackhitRcount++;
					player[g_Player]->attackhitReset = 0;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					player[g_Player]->AttackPos++;
					}

				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}


				//###- Motion Blending
				if(player[g_Player]->blendamount[119]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[119] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[119] = 1;


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 86:	//Jink Special Rush Punch Big Hit	JSRUSHPUNCH
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 2;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 5) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 6;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->AttackPos == 0)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 120, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 0.63 && player[g_Player]->attposecnt <= 0.85)
						{
						Q.ColldetMelee(14,0.63,0.85,0.74,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 120, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 1.52 && player[g_Player]->attposecnt <= 1.8)
						{
						Q.ColldetMelee(5,1.52,1.8,1.56,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 2)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 120, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 2.37 && player[g_Player]->attposecnt <= 2.65)
						{
						Q.ColldetMelee(14,2.37,2.65,2.45,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 3)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 120, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->attposecnt >= 3.24 && player[g_Player]->attposecnt <= 3.55)
						{
						Q.ColldetMelee(5,3.24,3.55,3.375,10,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.1;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 120, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 120, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 120, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->AttPoseInc)*_->TimeScale < 4.1) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->AttPoseInc*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[119] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->JinkSpecialON = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				//#### RUSH Forwards
				if(player[g_Player]->attposecnt < 3.8)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 9.2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				//##### Attack Hit Reset
				if( player[g_Player]->attposecnt < 0.5 ) player[g_Player]->attackhitRcount = 0;

				if( player[g_Player]->attposecnt >= 0.75 && player[g_Player]->attposecnt < 1.65 && player[g_Player]->attackhitRcount == 0)
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 1.65 && player[g_Player]->attposecnt < 2.5 && player[g_Player]->attackhitRcount == 1 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 2.5 && player[g_Player]->attposecnt < 3.36 && player[g_Player]->attackhitRcount == 2 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attackhitReset == 1 )
					{
					player[g_Player]->attackhitRcount++;
					player[g_Player]->attackhitReset = 0;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					player[g_Player]->AttackPos++;
					}

				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}


				//###- Motion Blending
				if(player[g_Player]->blendamount[119]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[119] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[119] = 1;


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 87:	//Jink Special Rush Punch Rush Kick	JSRUSHPUNCH
				{
				//#### Turn On Jink Special Classification
				player[g_Player]->JinkSpecialON = 1;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					helly = 0;
					while(helly < (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 2;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					player[g_Player]->JinkBLAST = ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 5) + 1;	//2
					player[g_Player]->JB_Power = (float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower * 6;	//65
					player[g_Player]->JB_Speed = 0.2*((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELRawPower / 100 );

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;

					player[g_Player]->Q_Jink.Live = 1;
					player[g_Player]->Q_Jink.ON = 1;
					player[g_Player]->Q_Jink.Init = 0;
					player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
					player[g_Player]->Q_Jink.FogON = 1;
					}

				if(player[g_Player]->AttackPos == 0)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 121, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

					
					if( player[g_Player]->attposecnt >= 0.63 && player[g_Player]->attposecnt <= 0.85)
						{
						Q.ColldetMelee(14,0.63,0.85,0.74,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;		//0.185
					}

				if(player[g_Player]->AttackPos == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 121, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 1.52 && player[g_Player]->attposecnt <= 1.8)
						{
						Q.ColldetMelee(5,1.52,1.8,1.56,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 2)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 121, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 2.37 && player[g_Player]->attposecnt <= 2.65)
						{
						Q.ColldetMelee(14,2.37,2.65,2.45,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.17;
					}

				if(player[g_Player]->AttackPos == 3)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 121, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if(player[g_Player]->attposecnt >= 3.24 && player[g_Player]->attposecnt <= 3.55)
						{
						Q.ColldetMelee(5,3.24,3.55,3.375,12,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.1;
					}

				if(player[g_Player]->AttackPos == 4)	//RUSH Kick One
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 121, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 3.68 && player[g_Player]->attposecnt <= 3.8)
						{
						Q.ColldetMelee(3,3.68,3.8,3.75,1,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 2;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.033;
					}

				if(player[g_Player]->AttackPos == 5)	//RUSH Kick Two
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 121, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[119]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
					Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
					
					if( player[g_Player]->attposecnt >= 4.15 && player[g_Player]->attposecnt <= 4.26)
						{
						Q.ColldetMelee(12,4.15,4.26,4.245,3,3,1);
						player[g_Player]->HitLethal = 1;
						player[g_Player]->BlowHeight = 3;
						if(player[g_Player]->TrailINIT == 0)
							{
							player[g_Player]->TrailINIT = 1;
							player[g_Player]->TrailLINK = 1;
							}
						Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 226, 255, 62, 0);
						player[g_Player]->TrailsOn = 1;
						}
					else player[g_Player]->HitLethal = 0;

					player[g_Player]->AttPoseInc = 0.05;
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 121, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 121, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 121, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(player[g_Player]->AttPoseInc)*_->TimeScale < 4.53) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * player[g_Player]->AttPoseInc*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[119] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->astackcnt = 0;
					player[g_Player]->astackrun = 0;
					player[g_Player]->astackcntdir[0] = 0;
					player[g_Player]->AttackPos = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->JinkSpecialON = 0;
					player[g_Player]->JinkInit = 0;
					player[g_Player]->Q_Jink.ON = 0;

					if(player[g_Player]->ShadowsOn == 1)
						{
						player[g_Player]->ShadowsOn = 0;
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}
					}

				//#### RUSH Forwards
				if(player[g_Player]->attposecnt < 3.8)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 9.2 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 1;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;
					if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				//##### Attack Hit Reset
				if( player[g_Player]->attposecnt < 0.5 ) player[g_Player]->attackhitRcount = 0;

				if( player[g_Player]->attposecnt >= 0.75 && player[g_Player]->attposecnt < 1.65 && player[g_Player]->attackhitRcount == 0)
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 1.65 && player[g_Player]->attposecnt < 2.5 && player[g_Player]->attackhitRcount == 1 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 2.5 && player[g_Player]->attposecnt < 3.36 && player[g_Player]->attackhitRcount == 2 )
					{
					player[g_Player]->attackhitReset = 1;
					}
				
				if( player[g_Player]->attposecnt >= 3.36 && player[g_Player]->attposecnt < 3.78 && player[g_Player]->attackhitRcount == 3 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attposecnt >= 3.78 && player[g_Player]->attposecnt < 4.26 && player[g_Player]->attackhitRcount == 4 )
					{
					player[g_Player]->attackhitReset = 1;
					}

				if( player[g_Player]->attackhitReset == 1 )
					{
					player[g_Player]->attackhitRcount++;
					player[g_Player]->attackhitReset = 0;

					player[g_Player]->AntiMultHits[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHits[aero] = 0;
						aero++;
						}
					player[g_Player]->attackhits = 0;
					player[g_Player]->AttackSoundTRIG = 0;

					player[g_Player]->AntiMultHitsSHIELD[250] = 0;
					aero=0;
					while(aero < _->NomAI)
						{
						player[g_Player]->AntiMultHitsSHIELD[aero] = 0;
						aero++;
						}

					player[g_Player]->AttackPos++;
					}

				if(player[g_Player]->HitLethal == 1 && player[g_Player]->AttackSoundTRIG == 0)
					{
					player[g_Player]->AttackSoundTRIG = 1;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->RFistPos.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/


						//'ATTACK' SOUND
					Qpo->Sound_Play(Medias->S_SwishH3FEMALE, _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				//###- Motion Blending
				if(player[g_Player]->blendamount[119]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[119] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[119] = 1;

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}break;


			case 88:
				{}break;


			case 89:
				{}break;


			case 90:	//Hit Reaction - Special Jink Fall Head Hit
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 53, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[53]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 2.6) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
				else
					{
					if(player[g_Player]->HB_Health > 0)
						{
						if(player[g_Player]->WeaponStatus == 0)
							{
							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[53] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->HB_RecoverMode = 0;

							//##### HIDE SHADOWS
							if(player[g_Player]->ShadowsOn == 1)
								{
								player[g_Player]->ShadowsOn = 0;
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
								}
							}
						else
							{
							player[g_Player]->Aposestate = 20;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[53] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->HB_RecoverMode = 0;

							//##### HIDE SHADOWS
							if(player[g_Player]->ShadowsOn == 1)
								{
								player[g_Player]->ShadowsOn = 0;
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
								}
							}
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					player[g_Player]->ShadowsOn = 1;
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,0,0,0,0,0,0,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/((helly+1)*2));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}

					Q.DeactivateItems();

					//##### Decrement Player POWER
					player[g_Player]->JINK3_PowerFactor -= (25 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution);
					if(player[g_Player]->JINK3_PowerFactor < 1) player[g_Player]->JINK3_PowerFactor = 1;

					Q.ActivateItems();
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 53, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[53]);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 53, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[53]);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 53, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[53]);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[53]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[53] += 0.5*_->TimeScale;
				else player[g_Player]->blendamount[53] = 1;
				}break;


			case 91:	//Hit Reaction - Special Jink Super Hit 1 Crunch Up Body and Fly
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 76, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[76]);

				if(_->NetworkOption != 1)
					{
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Up);
					player[g_Player]->TempVec1 = player[g_Player]->MoveReactVec;
					Qpo->Vec3d_Normalize(&player[g_Player]->TempVec1);
					//Qpo->Vec3d_Normalize(&player[g_Player]->MoveReactVec);
					player[g_Player]->TempVec1.y = 0;
					playerAV[g_Player]->Up.y = 0;
					player[g_Player]->ReactTurnAng = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Up);

					//### Check Distance between Pure Left and Right to work out direction of Turn
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &playerAV[g_Player]->Left);
					Qpo->Transform_AvatarGetUp(&playerAV[g_Player]->Xform, /*ORIG GetIn*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Left, &playerAV[g_Player]->Right);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Right);

					player[g_Player]->ScanDistL = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Left);
					player[g_Player]->ScanDistR = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Right);

					if(player[g_Player]->ScanDistL > player[g_Player]->ScanDistR) player[g_Player]->ReactTurnAng *= -1;

					player[g_Player]->trueAngles.y += player[g_Player]->ReactTurnAng / 3;

					player[g_Player]->AvatarRotation += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->AvatarRotation>(2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);

					player[g_Player]->Angles.y += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->Angles.y > (PI*2)) player[g_Player]->Angles.y = 0;
					if(player[g_Player]->Angles.y < 0) player[g_Player]->Angles.y = (PI*2);

					Qpo->Transform_New_YRotation(&RotateMatrix, player[g_Player]->ReactTurnAng / 3);
					Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &RotateMatrix, &playerAV[g_Player]->Xform);

					player[g_Player]->CrunchTimer++;

					if(player[g_Player]->MoveReactSpeed > 18 || player[g_Player]->CrunchTimer < 9)
						{
						if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.12 * _->TimeScale) < 0.47) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.12*_->TimeScale;
						else player[g_Player]->attposecnt = 0.47;
						}
					else
						{
						if(player[g_Player]->DownSpeed == 0 && player[g_Player]->HitWall == 0)
							{
							if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
							else
								{
								player[g_Player]->CrunchTimer = 0;
								player[g_Player]->HitWall = 0;
								player[g_Player]->blendamount[76] = 0;
								player[g_Player]->attposecnt = 0.65;
								player[g_Player]->Aposestate = 90;
								player[g_Player]->attackon = 1;
								player[g_Player]->astackcnt = 0;
								player[g_Player]->astackrun = 0;
								player[g_Player]->HB_RecoverMode = 0;
								player[g_Player]->WallRunDelay = 15;

								//##### HIDE SHADOWS
								if(player[g_Player]->ShadowsOn == 1)
									{
									player[g_Player]->ShadowsOn = 0;
									Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
									Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
									Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
									Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
									Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
									Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
									}
								}
							}
						else
							{
							if(player[g_Player]->HitWall == 1)
								{
								player[g_Player]->HitWall = 0;
								player[g_Player]->CrunchTimer = 0;
								player[g_Player]->blendamount[76] = 0;
								player[g_Player]->attposecnt = 0;
								player[g_Player]->Aposestate = 92;
								player[g_Player]->attackon = 1;
								player[g_Player]->astackcnt = 0;
								player[g_Player]->astackrun = 0;
								player[g_Player]->WallRunDelay = 15;

								//##### HIDE SHADOWS
								if(player[g_Player]->ShadowsOn == 1)
									{
									player[g_Player]->ShadowsOn = 0;
									Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
									Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
									Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
									Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
									Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
									Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
									}
								}
							}
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->JumpFG = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					player[g_Player]->ShadowsOn = 1;
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,0,0,0,0,0,0,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/((helly+1)*2));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}

					Q.DeactivateItems();

					//##### Decrement Player POWER
					player[g_Player]->JINK3_PowerFactor -= (40 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution);
					if(player[g_Player]->JINK3_PowerFactor < 1) player[g_Player]->JINK3_PowerFactor = 1;

					Q.ActivateItems();
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 76, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[76]);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 76, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[76]);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 76, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[76]);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						player[g_Player]->ROTATEMatrix.Translation = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[76]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[76] += 0.5*_->TimeScale;
				}break;


			case 92:	//Hit Wall Reaction
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 77, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[77]);

				if(_->NetworkOption != 1)
					{
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &playerAV[g_Player]->Up);
					player[g_Player]->TempVec1 = player[g_Player]->HitWallNormal;
					player[g_Player]->TempVec1.y = 0;
					playerAV[g_Player]->Up.y = 0;
					player[g_Player]->ReactTurnAng = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Up);

					//### Check Distance between Pure Left and Right to work out direction of Turn
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &playerAV[g_Player]->Left);
					Qpo->Transform_AvatarGetUp(&playerAV[g_Player]->Xform, /*ORIG GetIn*/&playerAV[g_Player]->Up);
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Left, &playerAV[g_Player]->Right);
					Qpo->Vec3d_Inverse(&playerAV[g_Player]->Right);

					player[g_Player]->ScanDistL = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Left);
					player[g_Player]->ScanDistR = Qpo->Vec3d_DistanceBetween(&player[g_Player]->TempVec1, &playerAV[g_Player]->Right);

					if(player[g_Player]->ScanDistL < player[g_Player]->ScanDistR) player[g_Player]->ReactTurnAng *= -1;

					player[g_Player]->trueAngles.y += player[g_Player]->ReactTurnAng / 3;

					player[g_Player]->AvatarRotation += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->AvatarRotation>(2*PI)) player[g_Player]->AvatarRotation=player[g_Player]->AvatarRotation-(PI*2);

					player[g_Player]->Angles.y += player[g_Player]->ReactTurnAng / 3;
					if(player[g_Player]->Angles.y > (PI*2)) player[g_Player]->Angles.y = 0;
					if(player[g_Player]->Angles.y < 0) player[g_Player]->Angles.y = (PI*2);

					Qpo->Transform_New_YRotation(&RotateMatrix, player[g_Player]->ReactTurnAng / 3);
					Qpo->Transform_Multiply(&playerAV[g_Player]->Xform, &RotateMatrix, &playerAV[g_Player]->Xform);

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05 * _->TimeScale) < 2.6) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05*_->TimeScale;
					else
						{
						if(player[g_Player]->HB_Health > 0)
							{
							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->blendamount[77] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->HB_RecoverMode = 0;
							player[g_Player]->WallRunDelay = 15;

							//##### HIDE SHADOWS
							if(player[g_Player]->ShadowsOn == 1)
								{
								player[g_Player]->ShadowsOn = 0;
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
								}
							}
						else
							{
							player[g_Player]->CrunchTimer = 0;
							player[g_Player]->HitWall = 0;
							player[g_Player]->blendamount[77] = 0;
							player[g_Player]->blendamount[30] = 0;
							player[g_Player]->attposecnt = 0.45;
							player[g_Player]->Aposestate = 30;
							player[g_Player]->attackon = 1;
							player[g_Player]->HB_RecoverMode = 0;
							player[g_Player]->WallRunDelay = 15;

							//##### HIDE SHADOWS
							if(player[g_Player]->ShadowsOn == 1)
								{
								player[g_Player]->ShadowsOn = 0;
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
								Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
								Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
								}
							}
						}
					}

				//### CANCELLATION
				player[g_Player]->Cleric.HSparkInit = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->JinkSpecialON = 0;
				player[g_Player]->DeflectLethal = 0;
				player[g_Player]->HitLethal = 0;
				player[g_Player]->Flip = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 0;
				player[g_Player]->JumpFG = 0;
				player[g_Player]->Q_Jink.ON = 0;
				player[g_Player]->TrailINIT = 0;
				if(player[g_Player]->Mposestate == 16) player[g_Player]->Mposestate = 0;

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					player[g_Player]->ShadowsOn = 1;
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,0,0,0,0,0,0,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/((helly+1)*2));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					}

				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 77, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, player[g_Player]->blendamount[77]);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 77, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, player[g_Player]->blendamount[77]);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 77, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, player[g_Player]->blendamount[77]);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}

				//#### Cancel AirJink Status for jink moves
				if(player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 15 || player[g_Player]->Mposestate == 16)
					{
					player[g_Player]->Mposestate = 0;
					player[g_Player]->AirJinkInit = 0;
					_->TimeScale = 1;

					if(player[g_Player]->AirJinkRotFG == 1)	//### Spin Player Back
						{
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
						player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
						if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
						if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
						Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y + PI);	/// Originaly -
						Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
						Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
						playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
						}
					}

				if(player[g_Player]->blendamount[77]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[77] += 0.5*_->TimeScale;
				}break;


			case 93:	//Hit Wall Reaction
				{}break;


			case 94:	//Hit Wall Reaction
				{}break;


			case 95:	//Hit Wall Reaction
				{}break;


			case 96:	//Hit Wall Reaction
				{}break;


			case 97:	//Hit Wall Reaction
				{}break;


			case 98:	//Hit Wall Reaction
				{}break;


			case 99:	//Hit Wall Reaction
				{}break;


			case 100:	//Hit Wall Reaction
				{}break;


			case 101:	//Hit Wall Reaction
				{}break;


			case 102:	//Hit Wall Reaction
				{}break;


			case 103:	//Hit Wall Reaction
				{}break;


			case 104:	//Hit Wall Reaction
				{}break;


			case 105:	//Hit Wall Reaction
				{}break;


			case 106:	//Hit Wall Reaction
				{}break;


			case 107:	//Hit Wall Reaction
				{}break;


			case 108:	//Hit Wall Reaction
				{}break;


			case 109:	//Hit Wall Reaction
				{}break;


			case 110:	//Hit Wall Reaction
				{}break;


			case 111:	//Hit Wall Reaction
				{}break;


			case 112:	//Hit Wall Reaction
				{}break;


			case 113:	//Hit Wall Reaction
				{}break;


			case 114:	//Hit Wall Reaction
				{}break;


			case 115:	//Hit Wall Reaction
				{}break;


			case 116:	//Hit Wall Reaction
				{}break;


			case 117:	//Hit Wall Reaction
				{}break;


			case 118:	//Hit Wall Reaction
				{}break;


			case 119:	//Hit Wall Reaction
				{}break;


			case 120:	//Hit Wall Reaction
				{}break;


			case 121:	//Hit Wall Reaction
				{}break;


			case 122:	//Hit Wall Reaction
				{}break;


			case 123:	//Hit Wall Reaction
				{}break;


			case 124:	//Hit Wall Reaction
				{}break;


			case 125:	//Hit Wall Reaction
				{}break;


			case 126:	//Hit Wall Reaction
				{}break;


			case 127:	//Hit Wall Reaction
				{}break;


			case 128:	//Hit Wall Reaction
				{}break;


			case 129:	//Hit Wall Reaction
				{}break;


			case 130:	//Hit Wall Reaction
				{}break;


			case 131:	//Hit Wall Reaction
				{}break;


			case 132:	//Hit Wall Reaction
				{}break;


			case 133:	//Hit Wall Reaction
				{}break;


			case 134:	//Hit Wall Reaction
				{}break;


			case 135:	//Hit Wall Reaction
				{}break;


			case 136:	//Hit Wall Reaction
				{}break;


			case 137:	//Hit Wall Reaction
				{}break;


			case 138:	//Hit Wall Reaction
				{}break;


			case 139:	//Hit Wall Reaction
				{}break;


			case 140:	//Hit Wall Reaction
				{}break;


			case 141:	//Hit Wall Reaction
				{}break;


			case 142:	//Hit Wall Reaction
				{}break;


			case 143:	//Hit Wall Reaction
				{}break;


			case 144:	//Hit Wall Reaction
				{}break;


			case 145:	//Hit Wall Reaction
				{}break;


			case 146:	//Hit Wall Reaction
				{}break;


			case 147:	//Hit Wall Reaction
				{}break;


			case 148:	//Hit Wall Reaction
				{}break;


			case 149:	//Hit Wall Reaction
				{}break;


			case 150:	//Hit Wall Reaction
				{}break;


			case 151:	//Hit Wall Reaction
				{}break;


			case 152:	//Hit Wall Reaction
				{}break;


			case 153:	//Hit Wall Reaction
				{}break;


			case 154:	//Hit Wall Reaction
				{}break;


			case 155:	//Hit Wall Reaction
				{}break;


			case 156:	//Hit Wall Reaction
				{}break;


			case 157:	//Hit Wall Reaction
				{}break;


			case 158:	//Hit Wall Reaction
				{}break;


			case 159:	//Hit Wall Reaction
				{}break;


			case 160:	//Hit Wall Reaction
				{}break;


			case 161:	//Hit Wall Reaction
				{}break;


			case 162:	//Hit Wall Reaction
				{}break;


			case 163:	//Hit Wall Reaction
				{}break;


			case 164:	//Hit Wall Reaction
				{}break;


			case 165:	//Hit Wall Reaction
				{}break;


			case 166:	//Hit Wall Reaction
				{}break;


			case 167:	//Hit Wall Reaction
				{}break;


			case 168:	//Hit Wall Reaction
				{}break;


			case 169:	//Hit Wall Reaction
				{}break;


			case 170:	//Hit Wall Reaction
				{}break;


			case 171:	//Hit Wall Reaction
				{}break;


			case 172:	//Hit Wall Reaction
				{}break;


			case 173:	//Hit Wall Reaction
				{}break;


			case 174:	//Hit Wall Reaction
				{}break;


			case 175:	//Hit Wall Reaction
				{}break;


			case 176:	//Hit Wall Reaction
				{}break;


			case 177:	//Hit Wall Reaction
				{}break;


			case 178:	//Hit Wall Reaction
				{}break;


			case 179:	//Hit Wall Reaction
				{}break;


			case 180:	//Hit Wall Reaction
				{}break;


			case 181:	//Hit Wall Reaction
				{}break;


			case 182:	//Hit Wall Reaction
				{}break;


			case 183:	//Hit Wall Reaction
				{}break;


			case 184:	//Hit Wall Reaction
				{}break;


			case 185:	//Hit Wall Reaction
				{}break;


			case 186:	//Hit Wall Reaction
				{}break;


			case 187:	//Hit Wall Reaction
				{}break;


			case 188:	//Hit Wall Reaction
				{}break;


			case 189:	//Hit Wall Reaction
				{}break;


			case 190:	//Hit Wall Reaction
				{}break;


			case 191:	//Hit Wall Reaction
				{}break;


			case 192:	//Hit Wall Reaction
				{}break;


			case 193:	//Hit Wall Reaction
				{}break;


			case 194:	//Hit Wall Reaction
				{}break;


			case 195:	//Hit Wall Reaction
				{}break;


			case 196:	//Hit Wall Reaction
				{}break;


			case 197:	//Hit Wall Reaction
				{}break;


			case 198:	//Hit Wall Reaction
				{}break;


			case 199:	//Hit Wall Reaction
				{}break;


			case 200:	//Hit Wall Reaction
				{}break;


			case 201:	//Cleric Shield
				{
				//if(((player[g_Player]->Cleric.ShieldOn == 0) || (player[g_Player]->Cleric.ShieldOn == 1 && player[g_Player]->EnergyInitialise == 1)) && ((_->NetworkOption != 1) || (_->NetworkOption == 1 && player[g_Player]->EnergySWITCHOFF == 0)))
				if(((player[g_Player]->Cleric.ShieldOn == 0) || (player[g_Player]->Cleric.ShieldOn == 1 && player[g_Player]->EnergyInitialise == 1)))
					{
					if(player[g_Player]->EnergyInitialise == 0)
						{
						player[g_Player]->EnergyInitialise = 1;
						player[g_Player]->Cleric.ShieldOn = 1;
						player[g_Player]->Cleric.ShieldScale = 0;
						player[g_Player]->Cleric.ShieldGROW = 0;
						player[g_Player]->Cleric.ShieldAlpha = 0;
						player[g_Player]->Cleric.ShieldCNT = 0;
						}

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[85]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					if(player[g_Player]->JinkInit == 0)
						{
						player[g_Player]->JinkInit = 1;
						player[g_Player]->EnergyCounter = 0;

						//##### Activate Shadows
						helly = 0;
						while(helly <= 2)
							{
							helly++;
							Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
							Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
							Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
							}
						player[g_Player]->ShadowsOn = 1;

						player[g_Player]->Q_Jink.Live = 1;
						player[g_Player]->Q_Jink.ON = 1;
						player[g_Player]->Q_Jink.Init = 0;
						player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
						player[g_Player]->Q_Jink.FogON = 1;

						Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[1].Avatar, 101, player[g_Player]->attposecnt, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[2].Avatar, 101, player[g_Player]->attposecnt, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[3].Avatar, 101, player[g_Player]->attposecnt, &player[g_Player]->Shadows[3].Xform);
						}

					player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;


					/*helly = 1;
					while(helly < 4)
						{
						if(player[g_Player]->ShadowScale[helly] == 0)
							{
							player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
							player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
							player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowAlpha[helly] = 150;
							}
						helly++;
						}

					helly = 1;
					while(helly < 4)
						{
						player[g_Player]->ShadowScale[helly] += (40/400) * ((float)helly/3);

						player[g_Player]->ShadowAlpha[helly] -= 25;
						if(player[g_Player]->ShadowAlpha[helly] < 0)
							{
							player[g_Player]->ShadowAlpha[helly] = 150;
							player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
							player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
							player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							}
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowScaleX[helly],player[g_Player]->ShadowScaleY[helly],player[g_Player]->ShadowScaleZ[helly]);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowAlpha[helly]);

						helly++;
						}

					helly = 0;
					while(helly <= 2)
						{
						helly++;
						if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 101, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[85]);
						}*/

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.05) < 0.47) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.05;
					else
						{
						if(player[g_Player]->EnergyCounter < 3)
							{
							player[g_Player]->EnergyCounter++;
							player[g_Player]->attposecnt = 0.37;
							}
						else
							{
							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[85] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->EnergyInitialise = 0;
							player[g_Player]->EnergyCounter = 0;

							helly = 0;
							while(helly <= 2)
								{
								helly++;
								Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
								player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
								player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
								player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
								Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, 150/(helly+1));
								player[g_Player]->ShadowAlpha[helly] = 255;
								}

							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
							Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
							Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
							}
						}

					if(player[g_Player]->blendamount[85]+ (0.1) <=1) player[g_Player]->blendamount[85] += 0.1;
					else player[g_Player]->blendamount[85] = 1;
					}
				}break;


			case 202:	//Hit Wall Reaction
				{}break;


			case 203:	//Hit Wall Reaction
				{}break;


			case 204:	//Hit Wall Reaction
				{}break;


			case 205:
				{
				player[g_Player]->Cleric.ShieldOn = 0;

				if(_->NetworkOption == 2) player[g_Player]->EnergySWITCHOFF = 1;
				if(_->NetworkOption == 1) player[g_Player]->EnergySWITCHOFF = 0;
				player[g_Player]->attposecnt = 0;
				player[g_Player]->Aposestate = 0;
				player[g_Player]->blendamount[85] = 0;
				player[g_Player]->attackon = 0;
				player[g_Player]->EnergyInitialise = 0;
				player[g_Player]->EnergyCounter = 0;

				
					//'Jink'
				Qpo->Sound_Play(Medias->S_BJink, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos
				}break;


			case 206:	//Fighter Power Transmission
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 19, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[19]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.15*_->TimeScale) < 1.4) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.15*_->TimeScale;
				else
					{
					if(_->mbutton[g_Player])
						{
						//##### - FIGHTER  TRANSMIT POWER - #####
						if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 0)
							{
							player[g_Player]->JINK3_PowerFactor -= 0.45;
							if(player[g_Player]->JINK3_PowerFactor > 0) Q_Forge->Forge[player[g_Player]->EnergyLockID].JINK3_PowerFactor += 0.35;
							}

						//##### - SOLDIER  TRANSMIT POWER - #####
						if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 1)
							{
							player[g_Player]->JINK3_WeaponFactor -= 0.45;
							if(player[g_Player]->JINK3_WeaponFactor > 0) Q_Forge->Forge[player[g_Player]->EnergyLockID].JINK3_WeaponFactor += 0.35;
							}
						}
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[19] = 0;
						player[g_Player]->attackon = 0;

						player[g_Player]->EnergyDisplayLock = 0;
						player[g_Player]->EnergyDisplayAlpha = 80;
						player[g_Player]->EnergyDisplayColor = 255;
						player[g_Player]->EnergyDisplayScale = 0.37;
						player[g_Player]->EnergyTargetLock = 0;
						player[g_Player]->EnergyLockID = 0;
						player[g_Player]->EnergyCloseDist = 0;
						player[g_Player]->EnergyCloseID = 0;
						player[g_Player]->EnergyTargetLaserAlpha = 0;
						}
					}

				if(player[g_Player]->EnergyDisplayLock == 0)
					{
					player[g_Player]->In = player[g_Player]->InStore;
					//player[g_Player]->In.y += 0.25;

					Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPos.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest_Avatar(
						 NULL,
						 NULL,
						 &player[g_Player]->AttPos.Translation,
						 &player[g_Player]->OAttPos.Translation,
						 // GE_CONTENTS_CANNOT_OCCUPY
						 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
						 0xffffffff, NULL, NULL,
						 &player[g_Player]->Collision, -1) && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
						{
						// Set the new pos to the point of collision
						player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
						}

					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->NomEnergyTargets = 0;

					//## Store Target ID
					player[g_Player]->EnergyTARGETIDSTR = player[g_Player]->EnergyCloseID;
					
					helly = 0;	//#####-- Verify Team Status to get Possible Targets 'FRIENDLY' --#####
					while(helly < _->NomAI)
						{
						if(Q_Forge->Forge[helly].LIVE == 1)
							{
							if(Q_Forge->Forge[helly].Team == player[g_Player]->Team)
								{
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
									{
									player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
									player[g_Player]->EnergyCloseID = helly;
									}
								player[g_Player]->NomEnergyTargets++;
								}
							}
						helly++;
						}

					//### New or old Target
					if(player[g_Player]->EnergyCloseID == player[g_Player]->EnergyTARGETIDSTR) player[g_Player]->EnergyDisplayScale = 0.22;
					}

				//##### Show Target Laser End
				if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
				else player[g_Player]->EnergyTargetLaserAlpha = 170;

				player[g_Player]->LaserLV.a = player[g_Player]->EnergyTargetLaserAlpha;
				player[g_Player]->LaserLV.r = 0;
				player[g_Player]->LaserLV.g = 0;
				player[g_Player]->LaserLV.b = 0;
				player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
				player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
				player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

				Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
				
				if(player[g_Player]->EnergyDisplayLock == 1)
					{
					if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				//#### Show Target Locks
				if(player[g_Player]->EnergyCloseDist != 0)
					{
					if(player[g_Player]->EnergyDisplayScale + 0.015 < 0.37) player[g_Player]->EnergyDisplayScale += 0.015;
					else player[g_Player]->EnergyDisplayScale = 0.37;

					player[g_Player]->EnergyTargetLock = 1;
					player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
					
					player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
					player[g_Player]->LaserLV.r = 0;
					player[g_Player]->LaserLV.g = 255;
					player[g_Player]->LaserLV.b = 255;
					player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
					player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
					player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;

					Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
					}

				if(player[g_Player]->blendamount[19]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[19] += 0.5*_->TimeScale;
				}break;


			case 207:	//Hit Wall Reaction
				{}break;


			case 208:	//Hit Wall Reaction
				{}break;


			case 209:	//Implosion
				{
				//if(((player[g_Player]->Cleric.ShieldOn == 0) || (player[g_Player]->Cleric.ShieldOn == 1 && player[g_Player]->EnergyInitialise == 1)) && ((_->NetworkOption != 1) || (_->NetworkOption == 1 && player[g_Player]->EnergySWITCHOFF == 0)))
				if(1)
					{
					/*if(player[g_Player]->EnergyInitialise == 0)
						{
						player[g_Player]->EnergyInitialise = 1;
						player[g_Player]->Cleric.ShieldOn = 1;
						player[g_Player]->Cleric.ShieldScale = 0;
						player[g_Player]->Cleric.ShieldGROW = 0;
						player[g_Player]->Cleric.ShieldAlpha = 0;
						player[g_Player]->Cleric.ShieldCNT = 0;
						}*/

					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 101, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[85]);
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

					if(player[g_Player]->JinkInit == 0)
						{
						player[g_Player]->JinkInit = 1;
						player[g_Player]->EnergyCounter = 0;

						//##### Activate Shadows
						helly = 0;
						while(helly <= 2)
							{
							helly++;
							Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
							Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
							Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
							}
						player[g_Player]->ShadowsOn = 1;

						player[g_Player]->Q_Jink.Live = 1;
						player[g_Player]->Q_Jink.ON = 1;
						player[g_Player]->Q_Jink.Init = 0;
						player[g_Player]->Q_Jink.Limb = "BIP01 HEAD";
						player[g_Player]->Q_Jink.FogON = 1;

						Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[1].Avatar, 101, player[g_Player]->attposecnt, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[2].Avatar, 101, player[g_Player]->attposecnt, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_SetPoseAP(&player[g_Player]->Shadows[3].Avatar, 101, player[g_Player]->attposecnt, &player[g_Player]->Shadows[3].Xform);

						Q_Explosion->Explosion[_->NomExplosions].LargeEnergyAvID = 0;
						Q_Explosion->Explosion[_->NomExplosions].AvID = 250;
						Q_Explosion->Explosion[_->NomExplosions].CollPlaneNormal.x = 0;			//Point of impact in world space
						Q_Explosion->Explosion[_->NomExplosions].CollPlaneNormal.y = 1;			//Point of impact in world space
						Q_Explosion->Explosion[_->NomExplosions].CollPlaneNormal.z = 0;			//Point of impact in world space
						Q_Explosion->Explosion[_->NomExplosions].Pos = playerAV[g_Player]->Xform.Translation;
						Q_Explosion->Explosion[_->NomExplosions].Pos.y += 40;
						Q_Explosion->Explosion[_->NomExplosions].Live = 1;
						Q_Explosion->Explosion[_->NomExplosions].Init = 0;
						Q_Explosion->Explosion[_->NomExplosions].BmpCountSP = 6;
						Q_Explosion->Explosion[_->NomExplosions].BmpCount = 0;
						Q_Explosion->Explosion[_->NomExplosions].ExpSize = (((float)rand() / 32767) * 4);	//0.5 -0.65
						Q_Explosion->Explosion[_->NomExplosions].ExpDMG = (((float)rand() / 32767) * 6);	//0.5 -0.65
						Q_Explosion->Explosion[_->NomExplosions].Team = TEMP_playerTEAM;
						_->NomExplosions++;
						}

					player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
					player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;


					/*helly = 1;
					while(helly < 4)
						{
						if(player[g_Player]->ShadowScale[helly] == 0)
							{
							player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
							player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
							player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowAlpha[helly] = 150;
							}
						helly++;
						}

					helly = 1;
					while(helly < 4)
						{
						player[g_Player]->ShadowScale[helly] += (40/400) * ((float)helly/3);

						player[g_Player]->ShadowAlpha[helly] -= 25;
						if(player[g_Player]->ShadowAlpha[helly] < 0)
							{
							player[g_Player]->ShadowAlpha[helly] = 150;
							player[g_Player]->ShadowScale[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE;
							player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
							player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							}
						player[g_Player]->ShadowScaleX[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
						player[g_Player]->ShadowScaleY[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
						player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->ShadowScale[helly] + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowScaleX[helly],player[g_Player]->ShadowScaleY[helly],player[g_Player]->ShadowScaleZ[helly]);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowAlpha[helly]);

						helly++;
						}

					helly = 0;
					while(helly <= 2)
						{
						helly++;
						if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 101, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[85]);
						}*/

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1) < 0.47) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1;
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[85] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->EnergyInitialise = 0;
						player[g_Player]->EnergyCounter = 0;

						helly = 0;
						while(helly <= 2)
							{
							helly++;
							Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
							player[g_Player]->ShadowScaleX[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
							player[g_Player]->ShadowScaleY[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							player[g_Player]->ShadowScaleZ[helly] = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
							Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, 150/(helly+1));
							player[g_Player]->ShadowAlpha[helly] = 255;
							}

						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
						}

					if(player[g_Player]->blendamount[85]+ (0.1) <=1) player[g_Player]->blendamount[85] += 0.1;
					else player[g_Player]->blendamount[85] = 1;
					}
				}break;

			}	//# end of player[g_Player]->Aposestate switch

		}	//# end of attacks
	else
		{	//Not Attacking
		player[g_Player]->Q_Jink.ON = 0;
		if(player[g_Player]->WeaponStatus != 0) player[g_Player]->Aposestate = 20;
		}


	//##### RECOVERMODE CANCELLATION
	if(player[g_Player]->Aposestate != 26 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 30 && player[g_Player]->Aposestate != 51 && player[g_Player]->Aposestate != 52)
		{ player[g_Player]->HB_RecoverMode = 0; }


	//##### WALL RUN CANCELLATION
	if(player[g_Player]->Mposestate != 9)
		{
		if(player[g_Player]->WallRunACTIV == 1)
			{
			player[g_Player]->WallRunDelay = 20;
			player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
			playerAV[g_Player]->Xform.Translation = Origin;

			if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2)
				{
				Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
				}

			if(player[g_Player]->WallRunTilt == 3 || player[g_Player]->WallRunTilt == 4)
				{
				Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
				}

			if(player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
				{
				Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
				}

			if(player[g_Player]->WallRunTilt == 7 || player[g_Player]->WallRunTilt == 8)
				{
				Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
				}

			player[g_Player]->WallRunACTIV = 0;

			playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;

			player[g_Player]->blendamount[9] = 0;
			player[g_Player]->WallRunHeight = 0;
			player[g_Player]->WallRunHeightDir = 0;
			player[g_Player]->WallRunDir = 0;
			player[g_Player]->WallRunInit = 0;
			player[g_Player]->WallRun = 0;
			player[g_Player]->WallRunSaveInit = 0;
			player[g_Player]->WallRunSave = 0;
			}
		else player[g_Player]->WallRun = 0;
		}


		//#######  - SECOND ORDER ANIMATION - WEAPONS - WEAPON SYSTEM  #######

		if((player[g_Player]->Aposestate == 20 || (player[g_Player]->WeaponStatus != 0 && player[g_Player]->attackon == 0)) && player[g_Player]->Aposestate != 73)	//Weapon1
			{
			player[g_Player]->wepposecnt = player[g_Player]->attposecnt;	//Switch to wepposecnt if needed

			if(player[g_Player]->WeaponStatus == 1)	//Draw Weapon
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 133, player[g_Player]->attposecnt*3, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 25, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						}
					}

				if(player[g_Player]->attposecnt >= 0.30) player[g_Player]->Backpack.Draw = 1;

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.1*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75)) < 0.38) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.1*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75);	//0.05
				else
					{
					player[g_Player]->attposecnt = 0.38;
					player[g_Player]->WeaponStatus = 2;
					player[g_Player]->WeaponATTACHFLAG = 1;

					Qpo->Vec3d_Copy(&player[g_Player]->OAttPos.Translation, &player[g_Player]->Weapon.Xform.Translation);

					player[g_Player]->WepAttach = player[g_Player]->Weapon.Xform;
					Qpo->Transform_SetTranslation(&player[g_Player]->WepAttach, 0, 0, 0);

					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3)
						{
						player[g_Player]->WepAttach.Translation.x -= 9;
						player[g_Player]->WepAttach.Translation.y -= 4.6;
						player[g_Player]->WepAttach.Translation.z -= 1;

						Qpo->Transform_RotateX(&player[g_Player]->WepAttach, PI/2);
						Qpo->Transform_RotateY(&player[g_Player]->WepAttach, -(PI/4)-0.8);
						}

					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
						{
						player[g_Player]->WepAttach.Translation.x -= 9;
						player[g_Player]->WepAttach.Translation.y -= 4.6;
						player[g_Player]->WepAttach.Translation.z -= 1;

						//Qpo->Transform_RotateX(&player[g_Player]->WepAttach, PI/2);
						Qpo->Transform_RotateY(&player[g_Player]->WepAttach, -(PI/4)-0.8);
						}


					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF != 4 && player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF != 3)
						{
						player[g_Player]->WepAttach.Translation.x -= 0.5;
						player[g_Player]->WepAttach.Translation.y -= 3;
						player[g_Player]->WepAttach.Translation.z -= 1;

						Qpo->Transform_RotateX(&player[g_Player]->WepAttach, PI/2);
						Qpo->Transform_RotateY(&player[g_Player]->WepAttach, -(PI/4)-0.35);
						}

					////~##~Qpo->Avatar_Attach(&player[g_Player]->Weapon.Avatar, "BONE01", &playerAV[g_Player]->Avatar, "BIP01 R HAND", &player[g_Player]->WepAttach);
					}

				if(player[g_Player]->blendamount[25]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[25] += 0.5*_->TimeScale;
				}


			if(player[g_Player]->WeaponStatus == 2)	//Draw Weapon Part Two
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 133, player[g_Player]->attposecnt*3, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 25, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.08*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75)) <= 1.0) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.08*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75);	//0.02
				else
					{
					player[g_Player]->WepAlpha = 255;
					player[g_Player]->attposecnt = 1.0;
					player[g_Player]->WeaponStatus = 3;
					}

				if(player[g_Player]->WepAlpha+40 <= 255) player[g_Player]->WepAlpha += 40;
				else player[g_Player]->WepAlpha = 255;

				Qpo->Mesh_SetAlpha(&player[g_Player]->Weapon, player[g_Player]->WepAlpha);
				}


			if(player[g_Player]->WeaponStatus == 3)	//Weapon On Shoulder
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 133, player[g_Player]->attposecnt*3, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 25, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						}
					}

				if(_->lbutton[g_Player] == 1 && _->NetworkOption != 1)
					{
					player[g_Player]->WeaponStatus = 4;
					player[g_Player]->WepAlpha = 0;
					}

				if((KEY_PRESS_DOWN(QIN_TAB)) && _->NetworkOption != 1 && !(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 1 && player[g_Player]->Mposestate == 16))
					{
					player[g_Player]->attposecnt = 1.0;
					player[g_Player]->WeaponStatus = 7;
					player[g_Player]->blendamount[25] = 0;
					}

				if(player[g_Player]->blendamount[25]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[25] += 0.3*_->TimeScale;
				}


			if(player[g_Player]->WeaponStatus == 4)	//Aim Weapon
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 133, player[g_Player]->attposecnt*3, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 25, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.15*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75)) <= 2.27) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.15*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75);	//0.12	//0.08
				else
					{
					player[g_Player]->attposecnt = 2.27;
					player[g_Player]->WepIdle = 0;
					player[g_Player]->WeaponStatus = 5;
					player[g_Player]->blendamount[25]=0;
					player[g_Player]->WeaponFire = 0;
					}

				if(player[g_Player]->WepAlpha+5 <= 150) player[g_Player]->WepAlpha += 5;
				else player[g_Player]->WepAlpha = 95;		//Laser sight alpha value
				}


			if(player[g_Player]->WeaponStatus == 5)	//Fire Weapon
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 135, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 136, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 136, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 28, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
						}
					}

				Qpo->Transform_GetIn(&player[g_Player]->ViewXForm, &player[g_Player]->In);

				if(player[g_Player]->WeaponZoomFACT == 0)	// Animation Length = 3
					{
					//if(!KEY_PRESS_DOWN(0x52)) player[g_Player]->attposecnt = ((player[g_Player]->In.Y*-1.6)+1.3)-player[g_Player]->WeaponRecoil;
					//if(!KEY_PRESS_DOWN(QIN_r)) player[g_Player]->attposecnt = ((player[g_Player]->In.y*-1.6)+ (1.3 + (PI/2)))-player[g_Player]->WeaponRecoil;

					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
						{
						if(!KEY_PRESS_DOWN(QIN_r)) player[g_Player]->attposecnt = 3 - ((-player[g_Player]->Angles.x) + player[g_Player]->WeaponRecoil);
						}
					else if(!KEY_PRESS_DOWN(QIN_r)) player[g_Player]->attposecnt = 3 - ((-player[g_Player]->Angles.x) + player[g_Player]->WeaponRecoil);
					}
				else
					{
					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
						{
						if(!KEY_PRESS_DOWN(QIN_r)) player[g_Player]->attposecnt = ((-player[g_Player]->Angles.x)+1.3)-player[g_Player]->WeaponRecoil;
						}
					else if(!KEY_PRESS_DOWN(QIN_r)) player[g_Player]->attposecnt = ((-player[g_Player]->Angles.x)+1.3)-player[g_Player]->WeaponRecoil;
					}

								//    V---  Adjust fire rate here	2 is FIRE , NOT , FIRE
				if(player[g_Player]->FireRate >= (1 - ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].FireRate / 5000)) * 50) player[g_Player]->FireRate = 0;
				else if(player[g_Player]->FireRate > 0) player[g_Player]->FireRate += 1 * _->TimeScale;

				if(((!(_->lbuttonhold[g_Player]) && player[g_Player]->WeaponFire == 0) || _->NetworkOption == 1)) player[g_Player]->WepIdle++;
				else
					{
					player[g_Player]->WeaponFire = 0;
					player[g_Player]->WepIdle = 0;

					if(player[g_Player]->FireRate == 0)	//FIRE!
						{
						player[g_Player]->FireRate = 1;

						if(_->NetworkOption != 1)
							{
							player[g_Player]->MFlash = 1;
							player[g_Player]->NETMFlash = 1;
							}

						Qpo->Avatar_GetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[20], &player[g_Player]->OAttPos);
						player[g_Player]->OAttPos.Translation.z -= 0.2;	//6
						player[g_Player]->OAttPos.Translation.y -= 0.133;	//4
						Qpo->Avatar_SetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[20], &player[g_Player]->OAttPos);

						Qpo->Avatar_GetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[18], &player[g_Player]->OAttPos);
						player[g_Player]->OAttPos.Translation.z -= 0.2;
						player[g_Player]->OAttPos.Translation.y -= 0.133;
						Qpo->Avatar_SetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[18], &player[g_Player]->OAttPos);

						Qpo->Avatar_GetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[19], &player[g_Player]->OAttPos);
						player[g_Player]->OAttPos.Translation.z -= 0.2;
						player[g_Player]->OAttPos.Translation.y -= 0.133;
						Qpo->Avatar_SetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[19], &player[g_Player]->OAttPos);

						Qpo->Avatar_GetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[20], &player[g_Player]->OAttPos);
						player[g_Player]->OAttPos.Translation.z -= 0.2;
						player[g_Player]->OAttPos.Translation.y -= 0.133;
						Qpo->Avatar_SetJointTransform(playerAV[g_Player]->Avatar.Pose, qBoneNum[20], &player[g_Player]->OAttPos);

						//Qpo->Avatar_GetJointTransform(player[g_Player]->Weapon.Avatar.Pose, 0, &player[g_Player]->AttPos);
						player[g_Player]->OAttPos.Translation.z -= 0.2;
						player[g_Player]->OAttPos.Translation.y -= 0.133;
						//Qpo->Avatar_SetJointTransform(player[g_Player]->Weapon.Avatar.Pose, 0, &player[g_Player]->OAttPos);

						//# Recoil
						if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 2)
							{
							player[g_Player]->WeaponRecoil += 0.1 * ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].RecoilHeight / 8000);
							//player[g_Player]->WeaponRecoil -= (player[g_Player]->WeaponRecoil * player[g_Player]->WeaponRecoil) * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.RecoilHEIGHTrecover / 5000)+0.1);
							if(player[g_Player]->WeaponRecoil < 0) player[g_Player]->WeaponRecoil = 0;
							}
						else
							{
							player[g_Player]->WeaponRecoil += 0.3 * ((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].RecoilHeight / 8000);
							//player[g_Player]->WeaponRecoil -= (player[g_Player]->WeaponRecoil * player[g_Player]->WeaponRecoil) * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.RecoilHEIGHTrecover / 5000)+0.1);
							if(player[g_Player]->WeaponRecoil < 0) player[g_Player]->WeaponRecoil = 0;
							//IMP ADDED STATEMENT
							}

						//### Movement Recoil
						Qpo->Avatar_GetWeaponTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->TempXForm1);
						Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->In);

						player[g_Player]->MoveReactVec = player[g_Player]->In;
						if(player[g_Player]->MoveReactVec.y < 0) player[g_Player]->MoveReactVec.y = 0;
						player[g_Player]->MoveReactSpeed = 0.15 * ( (((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].RecoilDistance / 5000) * 10) / 15);

						//# Ammo Check
						if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 2) player[g_Player]->WeaponAmmo -= 0.2 / (((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].Ammo / 5000) * 50);
						else player[g_Player]->WeaponAmmo -= 1 / (((float)player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].Ammo / 5000) * 50);

						if(player[g_Player]->WeaponAmmo <= 0)
							{
							player[g_Player]->WeaponStatus = 8;
							player[g_Player]->attposecnt = 0;
							player[g_Player]->blendamount[58] = 0;
							}
						}
					}
				 
				if(player[g_Player]->WeaponRecoil - (((player[g_Player]->WeaponRecoil * player[g_Player]->WeaponRecoil) * _->TimeScale * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.RecoilHEIGHTrecover / 780)) + (0.1 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.RecoilHEIGHTrecover / 4080))) >= 0) player[g_Player]->WeaponRecoil -= (((player[g_Player]->WeaponRecoil * player[g_Player]->WeaponRecoil) * _->TimeScale * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.RecoilHEIGHTrecover / 780)) + (0.1 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.RecoilHEIGHTrecover / 4080)));
				else player[g_Player]->WeaponRecoil = 0;

				if(player[g_Player]->WepIdle >= 1000)
					{
					player[g_Player]->attposecnt = 3.30;
					player[g_Player]->WeaponStatus = 6;
					}

				if((KEY_PRESS_DOWN(QIN_TAB)) && _->NetworkOption != 1 && !(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 1 && player[g_Player]->Mposestate == 16))
					{
					player[g_Player]->attposecnt = 1.0;
					player[g_Player]->WeaponStatus = 3;
					player[g_Player]->blendamount[25] = 0;
					}

				if(player[g_Player]->blendamount[25]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[25] += 0.3*_->TimeScale;
				}


			if(player[g_Player]->WeaponStatus == 6)	//Weapon To Shoulder
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 133, player[g_Player]->attposecnt*3, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 25, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.02*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75)) <= 3.67) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.02*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75);
				else
					{
					player[g_Player]->attposecnt = 1.0;
					player[g_Player]->WeaponStatus = 3;
					}
				}


			if(player[g_Player]->WeaponStatus == 7)	//Holster Weapon
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 133, player[g_Player]->attposecnt*3, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 134, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 25, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
						}
					}

				if(player[g_Player]->attposecnt <= 0.35) player[g_Player]->Backpack.Draw = 1;

				if(player[g_Player]->attposecnt-(0.08*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75)*player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness) >= 0) player[g_Player]->attposecnt -= 0.08*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.DrawSPD/5000)*0.75)*player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness;
				else
					{
					player[g_Player]->WeaponStatus = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[25] = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->WeaponATTACHFLAG = 0;
					//Qpo->Avatar_Detach(&player[g_Player]->Weapon.Avatar);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Weapon.Xform.Translation);
					player[g_Player]->WepAlpha = 0;
					}

				if(player[g_Player]->WepAlpha-40 >= 0) player[g_Player]->WepAlpha -= 40;
				else player[g_Player]->WepAlpha = 0;

				Qpo->Mesh_SetAlpha(&player[g_Player]->Weapon, player[g_Player]->WepAlpha);
				}


			if(player[g_Player]->WeaponStatus == 8)	//Reload Weapon
				{
				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 137, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 138, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 138, player[g_Player]->attposecnt, NULL);
						}
					}
				else
					{
					if(player[g_Player]->CrouchInit == 0 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 13 && player[g_Player]->Aposestate != 73) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 58, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[25]);
					else
						{
						Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 125, player[g_Player]->attposecnt, NULL);
						Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 125, player[g_Player]->attposecnt, NULL);
						}
					}

				if(player[g_Player]->ReloadPos == 0)
					{
					player[g_Player]->ReloadPos++;
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					//'BOLT SLAP' SOUND
					Qpo->Sound_Play(Medias->S_RifleBoltOut[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].QAS_ReloadBoltOut], _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				if(player[g_Player]->ReloadPos == 1)
					{
					if(player[g_Player]->attposecnt > 0.13)
						{
						player[g_Player]->ReloadPos++;
						//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
						//'BOLT SLAP' SOUND
						Qpo->Sound_Play(Medias->S_RifleClipOut[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].QAS_ReloadClipOut], _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}
					}

				if(player[g_Player]->ReloadPos == 2)
					{
					if(player[g_Player]->attposecnt > 0.69)
						{
						player[g_Player]->ReloadPos++;
						//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
						//'BOLT SLAP' SOUND
						Qpo->Sound_Play(Medias->S_RifleClipIn[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].QAS_ReloadClipIn], _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}
					}

				if(player[g_Player]->ReloadPos == 3)
					{
					if(player[g_Player]->attposecnt > 0.85)
						{
						player[g_Player]->ReloadPos++;
						//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
						//'BOLT SLAP' SOUND
						Qpo->Sound_Play(Medias->S_RifleBoltIn[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].QAS_ReloadBoltIn], _->Volume, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
						}
					}

				if(player[g_Player]->attposecnt >= 0.4 && player[g_Player]->attposecnt < 0.7) player[g_Player]->Backpack.Draw = 1;

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.02*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.ReloadSPD/5000)*4)) <= 1.00) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.02*_->TimeScale*((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].WeaponSKILL.ReloadSPD/5000)*4);	//0.05
				else
					{
					player[g_Player]->attposecnt = 2.27;
					player[g_Player]->WepIdle = 0;
					player[g_Player]->WeaponStatus = 5;
					player[g_Player]->blendamount[25]=0;
					player[g_Player]->WeaponAmmo = 32;
					player[g_Player]->ReloadPos = 0;
					}

				if(player[g_Player]->blendamount[58]+ (0.3*_->TimeScale) <=1) player[g_Player]->blendamount[58] += 0.3*_->TimeScale;
				else player[g_Player]->blendamount[58] = 1;
				}


			//Aim Weapon
			if(player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 5 && player[g_Player]->Mposestate != 23 && player[g_Player]->Mposestate != 24)
				{
				//###==- Laser Sight -==###//
				playerAV[g_Player]->Avatar.Scale.x = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
				playerAV[g_Player]->Avatar.Scale.y = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
				playerAV[g_Player]->Avatar.Scale.z = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

				Qpo->Avatar_GetWeaponTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->RFistPos);

				Qpo->Transform_GetIn(&player[g_Player]->RFistPos, &player[g_Player]->AimVec);
				Qpo->Vec3d_Inverse(&player[g_Player]->AimVec);
				Qpo->Transform_GetUp(&player[g_Player]->RFistPos, &player[g_Player]->AimVecUp);
				Qpo->Transform_GetLeft(&player[g_Player]->RFistPos, &player[g_Player]->InStore);

				Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPos.Translation, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].LaserLOC.z, &player[g_Player]->AimVec, &player[g_Player]->AttPos.Translation);			//1
				Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].LaserLOC.y, &player[g_Player]->AimVecUp, &player[g_Player]->AttPos.Translation);		//-4.5
				Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].LaserLOC.x, &player[g_Player]->InStore, &player[g_Player]->AttPos.Translation);		//-4.5
				Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 7, &player[g_Player]->AimVec, &player[g_Player]->AttPos.Translation);
				Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2000, &player[g_Player]->AimVec, &player[g_Player]->OAttPos.Translation);

#if 0 // QAGE_DESKTOP
				glEnable(GL_BLEND);									// Enable Blending
				glBlendFunc(GL_SRC_ALPHA,GL_ONE);					// Type Of Blending To Perform
				glHint(GL_PERSPECTIVE_CORRECTION_HINT,GL_NICEST);	// Really Nice Perspective Calculations
				glHint(GL_POINT_SMOOTH_HINT,GL_NICEST);				// Really Nice Point Smoothing
				glEnable(GL_TEXTURE_2D);
#endif
#if 0
				glLoadIdentity();
				glMultMatrixf((float *)&g_render->camera.mat_t);
				glTranslatef(-g_render->camera.pos.x,-g_render->camera.pos.y,-g_render->camera.pos.z);
				glColor3f(1.0f, 0.0f, 0.0f);	//RED
				//*glBegin(GL_LINES);
				glVertex3f(player[g_Player]->AttPos.Translation.x, player[g_Player]->AttPos.Translation.y, player[g_Player]->AttPos.Translation.z);
				glVertex3f(player[g_Player]->OAttPos.Translation.x, player[g_Player]->OAttPos.Translation.y, player[g_Player]->OAttPos.Translation.z);
				//*glEnd();
#endif

				if(Qpo->Collision_RayTest_Avatar(
					&playerAV[g_Player]->Mins,
					&playerAV[g_Player]->Maxs,
					&player[g_Player]->AttPos.Translation,
					&player[g_Player]->OAttPos.Translation,
					0xffffffff, NULL, NULL,
					&player[g_Player]->Collision, -1))
					{
					// Set the new pos to the point of collision
					player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);

					if(player[g_Player]->Collision.m_HitAvatar)
						{
						player[g_Player]->LaserLV.a = 55;
						player[g_Player]->LaserLV.r = 15;
						player[g_Player]->LaserLV.g = 15;			//alpha values and colour
						player[g_Player]->LaserLV.b = 255;
						}
					else
						{
						player[g_Player]->LaserLV.a = 130;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = 255;			//alpha values and colour
						player[g_Player]->LaserLV.b = 255;
						}

					player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
					player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
					player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].LaserTYPE >= 1) Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->spec, QPOLY_TYPE_PNT, QPOLY_REND_DEPTH_SORT, 0.04f);
					}

				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].LaserTYPE >= 1) Q.ShowLine(&player[g_Player]->AttPos.Translation, &player[g_Player]->OAttPos.Translation, &player[g_Player]->ViewXForm.Translation, 0.6, Medias->LaserSight, player[g_Player]->WepAlpha, 255, 0, 0, 0);
				}


			//### CONDITIONAL WEAPON ATTACH ###
			if((player[g_Player]->WeaponStatus > 1) && (player[g_Player]->WeaponStatus != 7) && (player[g_Player]->WeaponATTACHFLAG == 0))
				{
				player[g_Player]->WeaponATTACHFLAG = 1;

				Qpo->Vec3d_Copy(&player[g_Player]->OAttPos.Translation, &player[g_Player]->Weapon.Xform.Translation);
				player[g_Player]->WepAttach = player[g_Player]->Weapon.Xform;
				Qpo->Transform_SetTranslation(&player[g_Player]->WepAttach, 0, 0, 0);

				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3)
					{
					player[g_Player]->WepAttach.Translation.x -= 9;
					player[g_Player]->WepAttach.Translation.y -= 4.6;
					player[g_Player]->WepAttach.Translation.z -= 1;

					Qpo->Transform_RotateX(&player[g_Player]->WepAttach, PI/2);
					Qpo->Transform_RotateY(&player[g_Player]->WepAttach, -(PI/4)-0.8);
					}

				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4)
					{
					player[g_Player]->WepAttach.Translation.x -= 9;
					player[g_Player]->WepAttach.Translation.y -= 4.6;
					player[g_Player]->WepAttach.Translation.z -= 1;

					//Qpo->Transform_RotateX(&player[g_Player]->WepAttach, PI/2);
					Qpo->Transform_RotateY(&player[g_Player]->WepAttach, -(PI/4)-0.8);
					}

				if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF != 4 && player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF != 3)
					{
					player[g_Player]->WepAttach.Translation.x -= 0.5;
					player[g_Player]->WepAttach.Translation.y -= 3;
					player[g_Player]->WepAttach.Translation.z -= 1;

					Qpo->Transform_RotateX(&player[g_Player]->WepAttach, PI/2);
					Qpo->Transform_RotateY(&player[g_Player]->WepAttach, -(PI/4)-0.35);
					}

				////~##~Qpo->Avatar_Attach(&player[g_Player]->Weapon.Avatar, "BONE01", &playerAV[g_Player]->Avatar, "BIP01 R HAND", &player[g_Player]->WepAttach);
				}
			}


		//##### MAKE SURE TO RENDER WEAPON IN ALL CASES
		if(player[g_Player]->WeaponStatus != 0)
			{
			if(player[g_Player]->Mech.ACTIVE == 0)
				{
				Qpo->Mesh_SetScale(&player[g_Player]->Weapon, 1.2 + ((0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)) * 2.7907), 1.2 + ((0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)) * 2.7907), 1.2 + ((0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)) * 2.7907));
				}
			else
				{
				Qpo->Mesh_SetScale(&player[g_Player]->Weapon, 1.2 + ((0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)) * 2.7907), 1.2 + ((0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)) * 2.7907), 1.2 + ((0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)) * 2.7907));
				}

			// Qformation - Team Movement and flight formation

			// Build position
			Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->In);
			Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);

			Qpo->Vec3d_Inverse(&playerAV[g_Player]->In);

			player[g_Player]->QformTeamCount = 0;
			player[g_Player]->QformVecPos.clear();
			QpoVec3d f_QpoOrig, f_QpoVec3d;
			float f_InPos = 15;
			for(int f_count = 0; f_count < _->NomAI; f_count++)
				{
				if(Q_Forge->Forge[f_count].LIVE == 1 && Q_Forge->Forge[f_count].Team == player[g_Player]->Team)
					{
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, f_InPos, &playerAV[g_Player]->In, &f_QpoOrig);

					Qpo->Vec3d_AddScaled(&f_QpoOrig, -f_InPos, &playerAV[g_Player]->Left, &f_QpoVec3d);
					player[g_Player]->QformVecPos.push_back(f_QpoVec3d);

					Qpo->Vec3d_AddScaled(&f_QpoOrig, f_InPos, &playerAV[g_Player]->Left, &f_QpoVec3d);
					player[g_Player]->QformVecPos.push_back(f_QpoVec3d);

					f_InPos += 15;
					player[g_Player]->QformTeamCount++;
					}
				}

			player[g_Player]->QformChk = true;
			}


// Player Attacks PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
//PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP



		//#######  - THIRD ORDER ANIMATION -  BLOCK  #######

		if(player[g_Player]->Block == 1 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 8)	//High Block
			{
			if(player[g_Player]->BlockHit == 0)	//# Normal Block
				{
				if(player[g_Player]->CrouchInit == 0)
					{
					if(player[g_Player]->BlockHeight == 3)	Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 22, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[22]);
					if(player[g_Player]->BlockHeight == 1)	Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 82, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[22]);

					player[g_Player]->Blocking = 1;

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.15*_->TimeScale) < 0.67)
						{
						player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.15*_->TimeScale;
						player[g_Player]->FullBlock = 0;
						}
					else  
						{
						if(!KEY_DOWN_s() || (KEY_DOWN_s() && KEY_PRESS_DOWN(QIN_SPACE)))
							{
							player[g_Player]->FullBlock = 0;
							if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.3*_->TimeScale) < 1.33) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.3*_->TimeScale;
							else
								{
								player[g_Player]->Blocking = 0;
								player[g_Player]->Block = 0;
								player[g_Player]->attposecnt = 0;
								player[g_Player]->blendamount[0] = 0;
								player[g_Player]->blendamount[22] = 0;
								}
							}
						else
							{
							player[g_Player]->attposecnt = 0.67;
							player[g_Player]->FullBlock = 1;
							}
						}
					}
				}
			else	//# Block Hit
				{
				//## Check for Shock Block
				if(player[g_Player]->FullBlock == 0 && player[g_Player]->ShkBlkINIT == 0)
					{
					
					Qpo->Sound_Play(Medias->S_ShkBlock, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos
					Q_MeleeHit->MeleeHit[player[g_Player]->BlockHitID].HitTYPE = 2;
					}
				player[g_Player]->ShkBlkINIT = 1;

				if(player[g_Player]->BlockHeight == 3)	Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 56, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[22]);
				if(player[g_Player]->BlockHeight == 1)	Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 83, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[22]);

				if(player[g_Player]->attposecnt + (player[g_Player]->HitReactScale * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution/100) + (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.DefPower/100))/2)+1) * _->TimeScale) < 0.43) player[g_Player]->attposecnt += (player[g_Player]->HitReactScale * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Constitution/100) + (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.DefPower/100))/2)+1) * _->TimeScale);	//0.08
				else
					{
					player[g_Player]->attposecnt = 0.67;
					player[g_Player]->BlockHit = 0;
					player[g_Player]->ShkBlkINIT = 0;
					}
				}

			if(player[g_Player]->blendamount[22]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[22] += 0.5*_->TimeScale;
			}
		else
			{
			player[g_Player]->Blocking = 0;
			player[g_Player]->Block = 0;
			player[g_Player]->BlockHit = 0;
			}



	//#######  - THIRD ORDER ANIMATION -  MOVEMENT LIST  #######

	if((player[g_Player]->Aposestate != 26 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 30) && !(player[g_Player]->Block == 1 && player[g_Player]->BlockHeight == 1))
		{
#pragma message("Temporary")
		//if(TimeAlter) _->TimeScale = 0.065;
		if((player[g_Player]->attackon == 0 && player[g_Player]->CrouchInit == 0 && player[g_Player]->Block == 0) || (player[g_Player]->attackon == 1 && (player[g_Player]->Aposestate == 200 || player[g_Player]->Aposestate == 202 || player[g_Player]->Aposestate == 203 || player[g_Player]->Aposestate == 204 || player[g_Player]->Aposestate == 207 || player[g_Player]->Aposestate == 19)))
			{
			if(player[g_Player]->Mposestate == 0 && player[g_Player]->WeaponStatus == 0)	//Idle Motion
				{
				/*if((player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 8 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->Block == 1) && !(player[g_Player]->attackon == 1 && player[g_Player]->Aposestate != 20))	//Holding Weapon
					{
					if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
						{
						Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 37, player[g_Player]->runposecnt, NULL);	//14
						Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 37, player[g_Player]->runposecnt, NULL);	//15
						}
					else
						{
						Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 37, player[g_Player]->runposecnt, NULL);	//26
						Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 37, player[g_Player]->runposecnt, NULL);	//27
						}
					}
				else
					{*/
					if(player[g_Player]->AttackIdle < 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, player[g_Player]->idlemotion, player[g_Player]->idleposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[0]);
					else Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 37, player[g_Player]->idleposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[0]);
					//}

				player[g_Player]->AttackIdle--;

				if(player[g_Player]->AttackIdle < 0)
					{
					if(player[g_Player]->idleposecnt + (player[g_Player]->idlespeed*_->TimeScale) < 6)
						{
						player[g_Player]->idleposecnt += player[g_Player]->idlespeed*_->TimeScale;
						}
					else
						{
						player[g_Player]->idleposecnt=0;
						player[g_Player]->blendamount[0]=0;
						player[g_Player]->idlemotion=0;
						}
					}
				else
					{
					if(player[g_Player]->idleposecnt+(0.02*_->TimeScale)<1.5) player[g_Player]->idleposecnt += 0.02*_->TimeScale;
					else
						{
						player[g_Player]->idleposecnt=0;
						player[g_Player]->blendamount[0]=0;
						player[g_Player]->idlemotion=0;
						}
					}

				
				if(player[g_Player]->blendamount[0]+(0.1*_->TimeScale)<=1) player[g_Player]->blendamount[0] += 0.1*_->TimeScale;
				else
					{ player[g_Player]->blendamount[0] = 1; }
				}
			else 
				{
				player[g_Player]->blendamount[0] = 0;
				}
			}
		else player[g_Player]->blendamount[0] = 0;


		if(player[g_Player]->Mposestate == 1)	//Walk
			{
			if(player[g_Player]->attackon == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 1, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[1]);
			else
				{

				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);

				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 12, player[g_Player]->runposecnt, NULL);
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 13, player[g_Player]->runposecnt, NULL);
				}	//Make 'kicking' Flag

			if(player[g_Player]->runposecnt+(0.04*_->TimeScale)<2.13) player[g_Player]->runposecnt += 0.04*_->TimeScale;
			else
				{
				player[g_Player]->runposecnt=0;
				player[g_Player]->StepTimer = 0;
				}

			if(player[g_Player]->StepTimer == 0 && player[g_Player]->runposecnt > 0.5)
				{
				player[g_Player]->StepTimer = 1;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			if(player[g_Player]->StepTimer == 1 && player[g_Player]->runposecnt > 1.58)
				{
				player[g_Player]->StepTimer = 2;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}
			
			if(player[g_Player]->blendamount[1]+(0.08*_->TimeScale)<=1) player[g_Player]->blendamount[1] += 0.08*_->TimeScale;
			else
				{ player[g_Player]->blendamount[1] = 1; }
			}


		if(player[g_Player]->Mposestate == 2)	//Walk backwards
			{
			if(player[g_Player]->attackon == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 1, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[1]);
			else
				{
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 12, player[g_Player]->runposecnt, NULL);
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 13, player[g_Player]->runposecnt, NULL);
				}

			if(player[g_Player]->runposecnt-(0.04*_->TimeScale)>0) player[g_Player]->runposecnt -= 0.04*_->TimeScale;
			else
				{
				player[g_Player]->runposecnt=2.13;
				player[g_Player]->StepTimer = 0;
				}

			if(player[g_Player]->StepTimer == 0 && player[g_Player]->runposecnt < 1.58)
				{
				player[g_Player]->StepTimer = 1;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			if(player[g_Player]->StepTimer == 1 && player[g_Player]->runposecnt < 0.5)
				{
				player[g_Player]->StepTimer = 2;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}
			
			if(player[g_Player]->blendamount[1]+(0.1*_->TimeScale)<=1) player[g_Player]->blendamount[1] += 0.1*_->TimeScale;
			else
				{ player[g_Player]->blendamount[1] = 1; }
			}


		if(player[g_Player]->Mposestate == 3)	//Run
			{
			if((player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 8 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->Block == 1) && !(player[g_Player]->attackon == 1 && player[g_Player]->Aposestate != 20))	//Holding Weapon
				{
				if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
					{
					Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 14, player[g_Player]->runposecnt, NULL);
					Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 15, player[g_Player]->runposecnt, NULL);
					}
				else
					{
					Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 26, player[g_Player]->runposecnt, NULL);
					Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 27, player[g_Player]->runposecnt, NULL);
					}
				}
			else
				{
				if(player[g_Player]->attackon == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 2, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[2]);
				else
					{
					if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 14, player[g_Player]->runposecnt, NULL);
					if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 15, player[g_Player]->runposecnt, NULL);
					}
				}

			if(player[g_Player]->Ninja.SpeedACT == 0)
				{
				if(player[g_Player]->runposecnt+(0.07*_->TimeScale)<1.27) player[g_Player]->runposecnt += 0.07*_->TimeScale;
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->StepTimer = 0;
					}
				}
			else
				{
				if(player[g_Player]->runposecnt+(0.23*_->TimeScale)<1.27) player[g_Player]->runposecnt += 0.23*_->TimeScale;
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->StepTimer = 0;
					}
				}

			if(player[g_Player]->StepTimer == 0 && player[g_Player]->runposecnt > 0.2)
				{
				player[g_Player]->StepTimer = 1;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			if(player[g_Player]->StepTimer == 1 && player[g_Player]->runposecnt > 0.86)
				{
				player[g_Player]->StepTimer = 2;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			if(player[g_Player]->blendamount[2]+(0.2*_->TimeScale)<=1) player[g_Player]->blendamount[2] += 0.2*_->TimeScale;
			else
				{ player[g_Player]->blendamount[2] = 1; }

			if(player[g_Player]->WallRunDelay == 0)
				{
				if(player[g_Player]->blendamount[2]+(0.2*_->TimeScale)>=1)
					{
					player[g_Player]->blendamount[2] = 1;
					player[g_Player]->RunningCount++;
					if(player[g_Player]->RunningCount > 15) player[g_Player]->Running = 1;
					}
				else
					{
					player[g_Player]->RunningCount = 0;
					player[g_Player]->Running = 0;
					}
				}
			else
				{
				if(player[g_Player]->blendamount[2]+(0.035*_->TimeScale)>=1)
					{
					player[g_Player]->blendamount[2] = 1;
					player[g_Player]->RunningCount++;
					if(player[g_Player]->RunningCount > 15) player[g_Player]->Running = 1;
					}
				else
					{
					player[g_Player]->RunningCount = 0;
					player[g_Player]->Running = 0;
					}
				}


			if(player[g_Player]->Ninja.SpeedACT == 1)
				{
				//##### Activate Shadows
				helly = 0;
				while(helly <= 2)
					{
					helly++;
					Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					}
				player[g_Player]->ShadowsOn = 1;


				if((player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 8 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->Block == 1) && !(player[g_Player]->attackon == 1 && player[g_Player]->Aposestate != 20))	//Holding Weapon
					{
					if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
						if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[1].Avatar, 14, player[g_Player]->ShadowMeMPose[1], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[1].Avatar, 15, player[g_Player]->ShadowMeMPose[1], NULL);
							}
						else
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[1].Avatar, 26, player[g_Player]->ShadowMeMPose[1], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[1].Avatar, 27, player[g_Player]->ShadowMeMPose[1], NULL);
							}
						}
					if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 2, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[2].Xform, 1);
						if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[2].Avatar, 14, player[g_Player]->ShadowMeMPose[3], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[2].Avatar, 15, player[g_Player]->ShadowMeMPose[3], NULL);
							}
						else
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[2].Avatar, 26, player[g_Player]->ShadowMeMPose[3], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[2].Avatar, 27, player[g_Player]->ShadowMeMPose[3], NULL);
							}
						}
					if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[5].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 2, player[g_Player]->ShadowMeMPose[5], &player[g_Player]->Shadows[3].Xform, 1);
						if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[3].Avatar, 14, player[g_Player]->ShadowMeMPose[5], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[3].Avatar, 15, player[g_Player]->ShadowMeMPose[5], NULL);
							}
						else
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[3].Avatar, 26, player[g_Player]->ShadowMeMPose[5], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[3].Avatar, 27, player[g_Player]->ShadowMeMPose[5], NULL);
							}
						}
					}
				else
					{
					if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 2, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
						}
					if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 2, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
						}
					if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 2, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[3].Xform, 1);
						}
					}


				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}
			}


		if(player[g_Player]->Mposestate == 4)	//Run backwards
			{
			if((player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 8 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->Block == 1) && !(player[g_Player]->attackon == 1 && player[g_Player]->Aposestate != 20))	//Holding Weapon
				{
				if(!(player[g_Player]->Block == 1 && player[g_Player]->BlockHeight == 1))
					{
					if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
						{
						Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 14, player[g_Player]->runposecnt, NULL);
						Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 15, player[g_Player]->runposecnt, NULL);
						}
					else
						{
						Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 26, player[g_Player]->runposecnt, NULL);
						Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 27, player[g_Player]->runposecnt, NULL);
						}
					}
				
				if(player[g_Player]->Ninja.SpeedACT == 0)
					{
					if(player[g_Player]->Block == 0)
						{
						if(player[g_Player]->runposecnt - (0.07*_->TimeScale) > 0) player[g_Player]->runposecnt -= 0.07*_->TimeScale;
						else
							{
							player[g_Player]->runposecnt = 1.27;
							player[g_Player]->StepTimer = 0;
							}
						}
					else
						{
						if(player[g_Player]->runposecnt - (0.0175*_->TimeScale) > 0) player[g_Player]->runposecnt -= 0.0175*_->TimeScale;
						else
							{
							player[g_Player]->runposecnt = 1.27;
							player[g_Player]->StepTimer = 0;
							}
						}
					}
				else
					{
					if(player[g_Player]->Block == 0)
						{
						if(player[g_Player]->runposecnt - (0.23*_->TimeScale) > 0) player[g_Player]->runposecnt -= 0.23*_->TimeScale;
						else
							{
							player[g_Player]->runposecnt = 1.27;
							player[g_Player]->StepTimer = 0;
							}
						}
					else
						{
						if(player[g_Player]->runposecnt - (0.07*_->TimeScale) > 0) player[g_Player]->runposecnt -= 0.07*_->TimeScale;
						else
							{
							player[g_Player]->runposecnt = 1.27;
							player[g_Player]->StepTimer = 0;
							}
						}
					}

				if(player[g_Player]->StepTimer == 0 && player[g_Player]->runposecnt < 0.86)
					{
					player[g_Player]->StepTimer = 1;
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				if(player[g_Player]->StepTimer == 1 && player[g_Player]->runposecnt < 0.2)
					{
					player[g_Player]->StepTimer = 2;
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}
			else
				{
				if(player[g_Player]->attackon == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 49, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[49]);
				else
					{
					if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 14, player[g_Player]->runposecnt, NULL);
					if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 15, player[g_Player]->runposecnt, NULL);
					}

				if(player[g_Player]->Ninja.SpeedACT == 0)
					{
					if(player[g_Player]->runposecnt+(0.07*_->TimeScale)<=0.6) player[g_Player]->runposecnt += 0.07*_->TimeScale;
					else
						{
						player[g_Player]->runposecnt=0;
						player[g_Player]->StepTimer = 0;
						}
					}
				else
					{
					if(player[g_Player]->runposecnt+(0.23*_->TimeScale)<=0.6) player[g_Player]->runposecnt += 0.23*_->TimeScale;
					else
						{
						player[g_Player]->runposecnt=0;
						player[g_Player]->StepTimer = 0;
						}
					}

				if(player[g_Player]->StepTimer == 0 && player[g_Player]->runposecnt > 0)
					{
					player[g_Player]->StepTimer = 1;
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}

				if(player[g_Player]->StepTimer == 1 && player[g_Player]->runposecnt > 0.37)
					{
					player[g_Player]->StepTimer = 2;
					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}


			if(player[g_Player]->Ninja.SpeedACT == 1)
				{
				//##### Activate Shadows
				helly = 0;
				while(helly <= 2)
					{
					helly++;
					Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					}
				player[g_Player]->ShadowsOn = 1;

				if((player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 8 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->Block == 1) && !(player[g_Player]->attackon == 1 && player[g_Player]->Aposestate != 20))	//Holding Weapon
					{
					if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
						if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[1].Avatar, 14, player[g_Player]->ShadowMeMPose[1], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[1].Avatar, 15, player[g_Player]->ShadowMeMPose[1], NULL);
							}
						else
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[1].Avatar, 26, player[g_Player]->ShadowMeMPose[1], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[1].Avatar, 27, player[g_Player]->ShadowMeMPose[1], NULL);
							}
						}
					if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 2, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[2].Xform, 1);
						if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[2].Avatar, 14, player[g_Player]->ShadowMeMPose[3], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[2].Avatar, 15, player[g_Player]->ShadowMeMPose[3], NULL);
							}
						else
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[2].Avatar, 26, player[g_Player]->ShadowMeMPose[3], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[2].Avatar, 27, player[g_Player]->ShadowMeMPose[3], NULL);
							}
						}
					if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[5].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 2, player[g_Player]->ShadowMeMPose[5], &player[g_Player]->Shadows[3].Xform, 1);
						if((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 3 || player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].ItemDATA[player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CurrWEAPON].ItemREF == 4) && player[g_Player]->Block == 0)
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[3].Avatar, 14, player[g_Player]->ShadowMeMPose[5], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[3].Avatar, 15, player[g_Player]->ShadowMeMPose[5], NULL);
							}
						else
							{
							Qpo->Avatar_SetPose_LeftLeg(player[g_Player]->Shadows[3].Avatar, 26, player[g_Player]->ShadowMeMPose[5], NULL);
							Qpo->Avatar_SetPose_RightLeg(player[g_Player]->Shadows[3].Avatar, 27, player[g_Player]->ShadowMeMPose[5], NULL);
							}
						}
					}
				else
					{
					if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
						{
						player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
						player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 2, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
						}
					if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
						{
						player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
						player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 2, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
						}
					if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
						{
						player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
						player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
						Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 2, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[3].Xform, 1);
						}
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
			else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}

			if(player[g_Player]->blendamount[49]+(0.2*_->TimeScale)<=1) player[g_Player]->blendamount[49] += 0.2*_->TimeScale;
			else { player[g_Player]->blendamount[49] = 1; }
			}


		if(player[g_Player]->Mposestate == 5)	//Sidestep Left
			{
			if(player[g_Player]->attackon == 0 && player[g_Player]->WeaponStatus == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 3, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[3]);
			else
				{
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 16, player[g_Player]->runposecnt, NULL);
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 17, player[g_Player]->runposecnt, NULL);
				}

			if(player[g_Player]->Ninja.SpeedACT == 0)
				{
				if(player[g_Player]->runposecnt+(0.04*_->TimeScale)<=0.3) player[g_Player]->runposecnt += 0.04*_->TimeScale;
				else
					{
					player[g_Player]->runposecnt=0.08;
					player[g_Player]->blendamount[3] = 1;

					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}
			else
				{
				if(player[g_Player]->runposecnt+(0.16*_->TimeScale)<=0.3) player[g_Player]->runposecnt += 0.16*_->TimeScale;
				else
					{
					player[g_Player]->runposecnt=0.08;
					player[g_Player]->blendamount[3] = 1;

					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}


			if(player[g_Player]->blendamount[3]+(0.5*_->TimeScale)<=1) player[g_Player]->blendamount[3] += 0.5*_->TimeScale;
			else { player[g_Player]->blendamount[3] = 1; }

			if(player[g_Player]->Ninja.SpeedACT == 1)
				{
				//##### Activate Shadows
				helly = 0;
				while(helly <= 2)
					{
					helly++;
					Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					}
				player[g_Player]->ShadowsOn = 1;

				if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 3, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 3, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 3, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}
			}


		if(player[g_Player]->Mposestate == 6)	//Sidestep Right
			{
			if(player[g_Player]->attackon == 0 && player[g_Player]->WeaponStatus == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 3, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[3]);
			else
				{
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 16, player[g_Player]->runposecnt, NULL);
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 64 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 62 && player[g_Player]->Aposestate != 59 && player[g_Player]->Aposestate != 57 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 54 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 17, player[g_Player]->runposecnt, NULL);
				}

			if(player[g_Player]->Ninja.SpeedACT == 0)
				{
				if(player[g_Player]->runposecnt+(0.04*_->TimeScale)<=0.64) player[g_Player]->runposecnt += 0.04*_->TimeScale;	// 0.335 //0.67	//0.08
				else
					{
					player[g_Player]->runposecnt=0.4;
					player[g_Player]->blendamount[3] = 1;

					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}
			else
				{
				if(player[g_Player]->runposecnt+(0.16*_->TimeScale)<=0.64) player[g_Player]->runposecnt += 0.16*_->TimeScale;	// 0.335 //0.67	//0.08
				else
					{
					player[g_Player]->runposecnt=0.4;
					player[g_Player]->blendamount[3] = 1;

					//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}

			if(player[g_Player]->blendamount[3]+(0.2*_->TimeScale)<=1) player[g_Player]->blendamount[3] += 0.2*_->TimeScale;
			else { player[g_Player]->blendamount[3] = 1; }

			if(player[g_Player]->Ninja.SpeedACT == 1)
				{
				//##### Activate Shadows
				helly = 0;
				while(helly <= 2)
					{
					helly++;
					Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					}
				player[g_Player]->ShadowsOn = 1;

				if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 3, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 3, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 3, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->attposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}
			}


		if(player[g_Player]->Mposestate == 10)	//### Falling
			{
			if(player[g_Player]->WeaponStatus == 0)
				{
				if(player[g_Player]->attackon == 0 && player[g_Player]->Aposestate == 0)
					{
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 37, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[93]);

					Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 99, player[g_Player]->jumpposecnt, NULL);
					Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 100, player[g_Player]->jumpposecnt, NULL);

					player[g_Player]->AirBorn = 1;
					player[g_Player]->Running = 1;

					if(player[g_Player]->jumpposecnt < 0.8 || player[g_Player]->jumpposecnt > 1.2) player[g_Player]->jumpposecnt = 0.8;
					else player[g_Player]->jumpposecnt += 0.035*_->TimeScale;

					if(player[g_Player]->blendamount[93]+(0.2*_->TimeScale)<=1) player[g_Player]->blendamount[93] += 0.2*_->TimeScale;
					else player[g_Player]->blendamount[93] = 1;
					}
				}
			else
				{
				//if(player[g_Player]->attackon == 0/* && player[g_Player]->Aposestate == 0*/)
				//	{
					Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 99, player[g_Player]->jumpposecnt, NULL);
					Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 100, player[g_Player]->jumpposecnt, NULL);
					
					player[g_Player]->AirBorn = 1;
					player[g_Player]->Running = 1;

					if(player[g_Player]->jumpposecnt < 0.8 || player[g_Player]->jumpposecnt > 1.2) player[g_Player]->jumpposecnt = 0.8;
					else player[g_Player]->jumpposecnt += 0.035*_->TimeScale;

					if(player[g_Player]->blendamount[93]+(0.2*_->TimeScale)<=1) player[g_Player]->blendamount[93] += 0.2*_->TimeScale;
					else player[g_Player]->blendamount[93] = 1;
				//	}
				}
			}


		//#### WEAPON POSE IN AIRJINK
		if(player[g_Player]->Aposestate == 20 && (player[g_Player]->Mposestate == 14 || player[g_Player]->Mposestate == 16))
			{
			Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 99, player[g_Player]->jumpposecnt, NULL);
			Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 100, player[g_Player]->jumpposecnt, NULL);

			player[g_Player]->AirBorn = 1;
			player[g_Player]->Running = 1;

			if(player[g_Player]->jumpposecnt < 0.8 || player[g_Player]->jumpposecnt > 1.2) player[g_Player]->jumpposecnt = 0.8;
			else player[g_Player]->jumpposecnt += 0.035*_->TimeScale;

			if(player[g_Player]->blendamount[93]+(0.2*_->TimeScale)<=1) player[g_Player]->blendamount[93] += 0.2*_->TimeScale;
			else player[g_Player]->blendamount[93] = 1;
			}


		if(player[g_Player]->Mposestate == 11)	//### Air Born Status
			{						//### First Small Jump
			if(player[g_Player]->jumpposecnt < 0.3 && player[g_Player]->AJPushOffON == 0 && player[g_Player]->AJPushOff.Done == 0)
				{
				player[g_Player]->AJPushOffON = 1;
				player[g_Player]->AJPushOffType = 0;
				player[g_Player]->AJPushOff.Init = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 0.5 && player[g_Player]->jumpposecnt < 1)
				{
				player[g_Player]->AJPushOffON = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 1.5 && player[g_Player]->AJPushOffON == 0 && player[g_Player]->AJPushOff.Done == 0)
				{
				player[g_Player]->AJPushOffON = 1;
				player[g_Player]->AJPushOffType = 0;
				player[g_Player]->AJPushOff.Init = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->WeaponStatus > 0 || player[g_Player]->attackon == 1 || player[g_Player]->Block == 1)
				{
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 99, player[g_Player]->jumpposecnt, NULL);
				if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 77 && player[g_Player]->Aposestate != 76 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 100, player[g_Player]->jumpposecnt, NULL);
				}
			else Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 95, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[4]);

			player[g_Player]->AirBorn = 1;
			player[g_Player]->Running = 1;

			if(player[g_Player]->JumpDir != 0)
				{
				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;

				if(player[g_Player]->JumpDir == 1)	Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, 5*_->TimeScale, &player[g_Player]->JumpVec, &playerAV[g_Player]->NewPos);
				if(player[g_Player]->JumpDir == 2)	Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, -5*_->TimeScale, &player[g_Player]->JumpVec, &playerAV[g_Player]->NewPos);

				playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
					{ player[g_Player]->collide = 1; }
				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				}
			else
				{
				player[g_Player]->WindWakeJump = 0;
				}

					//\/---- Edit Orig Value 0.1
			if(player[g_Player]->jumpposecnt + (((0.05*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor) <= 1.67)	//0.051		//0.0934
				{
				player[g_Player]->jumpposecnt += (((0.05*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor);	//0.056		//0.0934	//4.33 - 0.2802
				if(player[g_Player]->JumpFG == 0)
					{
					player[g_Player]->JumpFG = 1;
					player[g_Player]->DownSpeed = 15;//*((8.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) * player[g_Player]->JumpFactor);
					}
				}
			else
				{
				player[g_Player]->JumpFG = 0;
				player[g_Player]->jumpposecnt=0;
				player[g_Player]->blendamount[4]=0;
				player[g_Player]->Mposestate = 0;
				player[g_Player]->Running = 0;
				player[g_Player]->AirBorn = 0;
				player[g_Player]->JumpState = 0;
				player[g_Player]->TimeHoleFLAG = 0;

				////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

				////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			if(player[g_Player]->blendamount[4]+(0.1*_->TimeScale)<=1) player[g_Player]->blendamount[4] += 0.1*_->TimeScale;
			if(player[g_Player]->blendamount[4]+(0.1*_->TimeScale)>=1)
				{ player[g_Player]->blendamount[4] = 1; }
			}


		if(player[g_Player]->Mposestate == 12)	//### Air Born Status
			{						//### Non Spiral Leap
			if(player[g_Player]->jumpposecnt < 0.3 && player[g_Player]->AJPushOffON == 0 && player[g_Player]->AJPushOff.Done == 0)
				{
				player[g_Player]->AJPushOffON = 1;
				player[g_Player]->AJPushOffType = 0;
				player[g_Player]->AJPushOff.Init = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 0.5 && player[g_Player]->jumpposecnt < 1)
				{
				player[g_Player]->AJPushOffON = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 4.3 && player[g_Player]->AJPushOffON == 0 && player[g_Player]->AJPushOff.Done == 0)
				{
				player[g_Player]->AJPushOffON = 1;
				player[g_Player]->AJPushOffType = 0;
				player[g_Player]->AJPushOff.Init = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->Aposestate == 50 || player[g_Player]->Aposestate == 53 || player[g_Player]->Aposestate == 24 || player[g_Player]->Aposestate == 83)
				{
				player[g_Player]->blendamount[4]=0;

										//\/0.091---- Edit Orig Value 0.1
				if(player[g_Player]->jumpposecnt + (((0.145*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor) <= 4.67)		//0.0934
					{
					player[g_Player]->jumpposecnt += (((0.145*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor);	//0.096		//0.0934	//4.33 - 0.2802
					if(player[g_Player]->JumpFG == 0)
						{
						player[g_Player]->JumpFG = 1;
						player[g_Player]->DownSpeed = ((11.2 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) * player[g_Player]->JumpFactor);	//5.6
						}
					}
				else
					{
					player[g_Player]->JumpFG = 0;
					player[g_Player]->jumpposecnt=0;
					player[g_Player]->blendamount[4]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->Running = 0;
					player[g_Player]->AirBorn = 0;
					player[g_Player]->JumpState = 0;
					player[g_Player]->TimeHoleFLAG = 0;

					////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}
			else
				{
				if(player[g_Player]->WeaponStatus > 0 || player[g_Player]->attackon == 1 || player[g_Player]->Block == 1)//== 4 || player[g_Player]->WeaponStatus == 5)	//# Holding Weapon
					{
					if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_LeftLeg(playerAV[g_Player]->Avatar, 31, player[g_Player]->jumpposecnt, NULL);
					if(player[g_Player]->Aposestate != 65 && player[g_Player]->Aposestate != 83 && player[g_Player]->Aposestate != 84 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 79 && player[g_Player]->Aposestate != 80 && player[g_Player]->Aposestate != 81 && player[g_Player]->Aposestate != 78 && player[g_Player]->Aposestate != 56 && player[g_Player]->Aposestate != 34 && player[g_Player]->Aposestate != 71 && player[g_Player]->Aposestate != 73 && player[g_Player]->Aposestate != 85 && player[g_Player]->Aposestate != 86 && player[g_Player]->Aposestate != 87 && player[g_Player]->Aposestate != 75 && player[g_Player]->Aposestate != 72 && player[g_Player]->Aposestate != 55 && player[g_Player]->Aposestate != 53 && player[g_Player]->Aposestate != 61 && player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPose_RightLeg(playerAV[g_Player]->Avatar, 32, player[g_Player]->jumpposecnt, NULL);
					}
				else Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 4, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[4]);

				player[g_Player]->AirBorn = 1;
				player[g_Player]->Running = 1;

				if(player[g_Player]->jumpposecnt > 1.25 && player[g_Player]->TimeHoleFLAG == 0 && player[g_Player]->JumpFG == 1)
					{
					player[g_Player]->TimeHoleFLAG = 1;
					_->TimeHole = 6;
					}


				if(player[g_Player]->JumpDir != 0 && (player[g_Player]->DownSpeed < -0.25 || player[g_Player]->DownSpeed > 0.25))
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;

					if(player[g_Player]->JumpDir == 1)	Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, 8*_->TimeScale, &player[g_Player]->JumpVec, &playerAV[g_Player]->NewPos);
					if(player[g_Player]->JumpDir == 2)	Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, -8*_->TimeScale, &player[g_Player]->JumpVec, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; player[g_Player]->WindWakeJump = 0; }
					else
						{
						player[g_Player]->WindWakeJump = 1;
						player[g_Player]->WindWake = 1;
						}
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				else
					{
					player[g_Player]->WindWake = 0;
					player[g_Player]->WindWakeJump = 0;
					}

									//\/0.096---- Edit Orig Value 0.1
				if(player[g_Player]->jumpposecnt + (((0.145*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor) <= 4.67)		//0.0934
					{
					player[g_Player]->jumpposecnt += (((0.145*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor);	//0.0934	//4.33 - 0.2802
					if(player[g_Player]->JumpFG == 0)
						{
						player[g_Player]->JumpFG = 1;
						player[g_Player]->DownSpeed = ((11.2 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) * player[g_Player]->JumpFactor); //5.6
						}
					}
				else
					{
					player[g_Player]->JumpFG = 0;
					player[g_Player]->jumpposecnt=0;
					player[g_Player]->blendamount[4]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->Running = 0;
					player[g_Player]->AirBorn = 0;
					player[g_Player]->JumpState = 0;
					player[g_Player]->TimeHoleFLAG = 0;

					////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

					////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
					//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
					}
				}

			if(player[g_Player]->blendamount[4]+(0.1*_->TimeScale)<=1) player[g_Player]->blendamount[4] += 0.1*_->TimeScale;

			if(player[g_Player]->blendamount[4]+(0.1*_->TimeScale)>=1)
				{ player[g_Player]->blendamount[4] = 1; }
			}

		if(player[g_Player]->Mposestate == 13)	//### Air Born Status
			{						//### Spiral Over Enemy
			if(player[g_Player]->jumpposecnt > 0.3 && player[g_Player]->jumpposecnt < 0.5 && player[g_Player]->AJPushOffON == 0 && player[g_Player]->AJPushOff.Done == 0)
				{
				player[g_Player]->AJPushOffON = 1;
				player[g_Player]->AJPushOffType = 0;
				player[g_Player]->AJPushOff.Init = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 0.5)
				{
				player[g_Player]->AJPushOffON = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 4.3 && player[g_Player]->AJPushOffON == 0 && player[g_Player]->AJPushOff.Done == 0)
				{
				player[g_Player]->AJPushOffON = 1;
				player[g_Player]->AJPushOffType = 0;
				player[g_Player]->AJPushOff.Init = 0;
				player[g_Player]->AJPushOff.Done = 0;
				}

			if(player[g_Player]->jumpposecnt > 0.55 && player[g_Player]->TimeHoleFLAG == 0 && player[g_Player]->JumpFG == 1)
				{
				player[g_Player]->TimeHoleFLAG = 1;
				_->TimeHole = 3;
				}

			if(player[g_Player]->JSpiralCAM == 0)
				{
				player[g_Player]->JSpiralCAM = 1;
				player[g_Player]->STRAngles = player[g_Player]->Angles;
				_->TimeReset = 1;
				_->TimePlayerLock = 1;

				//##### Activate Shadows
				helly = 0;
				while(helly <= 2)
					{
					helly++;
					Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
					Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
					Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
					}
				player[g_Player]->ShadowsOn = 1;
				}
			
			if(player[g_Player]->attackon == 0 || player[g_Player]->Aposestate == 73 || player[g_Player]->Aposestate == 19 || player[g_Player]->Aposestate == 202 || player[g_Player]->Aposestate == 200 || player[g_Player]->Aposestate == 203 || player[g_Player]->Aposestate == 204 || player[g_Player]->Aposestate == 207)
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 94, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[4]);
				}

			player[g_Player]->AirBorn = 1;
			player[g_Player]->Running = 1;

			if(player[g_Player]->DownSpeed < -0.25 || player[g_Player]->DownSpeed > 0.25)
				{
				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;

				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, 4*_->TimeScale, &player[g_Player]->JumpVec, &playerAV[g_Player]->NewPos);	//3.5 //6

				playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
					{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;

				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				}

					//\/---- Edit Orig Value 0.1
			if(player[g_Player]->jumpposecnt + (((0.02*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor) <= 1.67)	//0.018		//0.027		//0.0934
				{
				player[g_Player]->jumpposecnt += (((0.02*_->TimeScale) / ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) / player[g_Player]->JumpFactor);	//0.018		//0.027 //0.032		//0.0934	//4.33 - 0.2802
				if(player[g_Player]->JumpFG == 0)
					{
					player[g_Player]->JumpFG = 1;
					//player[g_Player]->DownSpeed = 14.4;	//7.2
					player[g_Player]->DownSpeed = ((19.2 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)))) * player[g_Player]->JumpFactor);
					}
				}
			else
				{
				player[g_Player]->JumpFG = 0;
				player[g_Player]->jumpposecnt=0;
				player[g_Player]->blendamount[4]=0;
				player[g_Player]->Mposestate = 0;
				player[g_Player]->Running = 0;
				player[g_Player]->AirBorn = 0;
				player[g_Player]->JumpState = 0;
				player[g_Player]->TimeHoleFLAG = 0;
				_->TimePlayerLock = 0;
				player[g_Player]->JSpiralCAM = 1;

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}

				////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);

				////QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				//Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			/*if(player[g_Player]->attackon == 0)
				{
				if(player[g_Player]->ShadowMeM[2].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[2];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 94, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[4].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[4];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[4].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 94, player[g_Player]->ShadowMeMPose[4], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[7].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[7];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[7].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 94, player[g_Player]->ShadowMeMPose[7], &player[g_Player]->Shadows[3].Xform, 1);
					}
				}

			//##### Shadow Memory Storage
			if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
			else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
			player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
			player[g_Player]->ShadowMeMPose[0] = player[g_Player]->jumpposecnt;

			SCRAM = 7;
			while(SCRAM >= 1)
				{
				player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
				player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
				player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
				SCRAM--;
				}*/

			if(player[g_Player]->blendamount[4]+(0.1*_->TimeScale)<=1) player[g_Player]->blendamount[4] += 0.1*_->TimeScale;

			if(player[g_Player]->blendamount[4]+(0.1*_->TimeScale)>=1)
				{ player[g_Player]->blendamount[4] = 1; }
			}


		if(player[g_Player]->Mposestate == 14)	//### Air JINK
			{
			player[g_Player]->JumpFG = 0;
			player[g_Player]->AirBorn = 1;
			if(player[g_Player]->DownSpeed + 2 < (0.5 *((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))))) player[g_Player]->DownSpeed += 2;
			else player[g_Player]->DownSpeed = (0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))));
			if(player[g_Player]->DownSpeed - 2 > (0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))))) player[g_Player]->DownSpeed -= 2;
			else player[g_Player]->DownSpeed = (0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))));

			if((player[g_Player]->attackon == 0 && player[g_Player]->Aposestate == 0) || (player[g_Player]->attackon == 1 && player[g_Player]->Aposestate == 19))
				{
				if(player[g_Player]->WeaponStatus > 0)
					{
					Qpo->Avatar_SetPivot(playerAV[g_Player]->Avatar, 48, player[g_Player]->jumpposecnt, true);
					}
				else
					{
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 48, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[48]);
					}

				if(player[g_Player]->jumpposecnt + (player[g_Player]->JumpPoseINC*_->TimeScale) <= 0.33)	player[g_Player]->jumpposecnt += player[g_Player]->JumpPoseINC*_->TimeScale;
				else
					{
					if(KEY_PRESS_DOWN(QIN_SPACE))
						{
						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&player[g_Player]->JumpVec);
						player[g_Player]->JumpDir = 1;	//Forward Jump
						player[g_Player]->JumpFG = 0;
						player[g_Player]->Mposestate = 11;		//# Switch to normal leap
						player[g_Player]->jumpposecnt = 0.35;
						player[g_Player]->blendamount[4] = 0;
						player[g_Player]->AirJinkRotFG = 0;
						player[g_Player]->GravityON = 0;
						}
					}

				if(player[g_Player]->blendamount[48]+(0.07*_->TimeScale)<=1) player[g_Player]->blendamount[48] += 0.07*_->TimeScale;		//0.3

				if(player[g_Player]->blendamount[48]+(0.07*_->TimeScale)>=1)
					{ player[g_Player]->blendamount[48] = 1; }
				}
			}


		if(player[g_Player]->Mposestate == 16)	//### Air JINK FIGHTER POWERUP POWER UP
			{
			player[g_Player]->JumpFG = 0;
			player[g_Player]->AirBorn = 1;
			if(player[g_Player]->DownSpeed + 2 < (0.5 *((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))))) player[g_Player]->DownSpeed += 2;
			else player[g_Player]->DownSpeed = (0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))));
			if(player[g_Player]->DownSpeed - 2 > (0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))))) player[g_Player]->DownSpeed -= 2;
			else player[g_Player]->DownSpeed = (0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500))));

			/*if(player[g_Player]->attackon == 0 && player[g_Player]->Aposestate == 0)
				{*/
				//#### First Jink Effects
				if(player[g_Player]->AirJinkInit == 0)
					{
					player[g_Player]->AirJinkInit = 1;

					helly = 0;
					while(helly < 50 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE2", &BoneMat);

						//#### Initialise One Particle ####//
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.135f;		//1.135//0.1//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = ((((float)rand() / 32767)*28)+16);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].InitPos = BoneMat.Translation;
						Q_PntSprite->PntSprite[_->NomPntSprite].Direction = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						helly++;
						}

					
							//'Jink'
					Qpo->Sound_Play(Medias->S_Jink, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos
					Qpo->Sound_Play(Medias->S_JINK3ChargeStart, 1.0f, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

					player[g_Player]->CNTR1 = 0;
					player[g_Player]->CNTR2 = 0;
					player[g_Player]->CNTR3 = 0;
					}

				//### Deactivate All player items
				if(_->NetworkOption != 1)
					{
					Q.DeactivateItems();

					//##### - FIGHTER  INCREMENT POWER - #####
					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 0)
					{ player[g_Player]->JINK3_PowerFactor += (0.00668 + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.JINKINC3intensity/5000) / 2)); }

					//##### - SOLDIER  INCREMENT POWER - #####
					if(player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].Class == 1)
					{ player[g_Player]->JINK3_WeaponFactor += ((0.00668 + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.JINKINC3intensity/5000) / 2)) / 5); }

					player[g_Player]->HB_Energy -= 2 / player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELEnergyEff;
					player[g_Player]->HB_EnergyTimer = TIME;
					if(player[g_Player]->HB_Energy < 0)
						{
						player[g_Player]->HB_Energy = 0;
						player[g_Player]->Mposestate = 14;
						}

					//### Activate All player items
					Q.ActivateItems();
					}

				//##### Camera Shake
				player[g_Player]->CameraShake = 3;
				player[g_Player]->CamShkTIME = 30;

				//#### -  Jink 3rd Level Power Up Effect  - ####
				player[g_Player]->CNTR1 += (1 * _->TimeScale);
				player[g_Player]->CNTR2 += (1 * _->TimeScale);
				if(player[g_Player]->CNTR3 > 0) player[g_Player]->CNTR3 += (1 * _->TimeScale);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 SPINE", &player[g_Player]->QA_EFF_BONEMATRIX);

				if(player[g_Player]->CNTR1 > 70 && (player[g_Player]->CNTR3 == 0)) player[g_Player]->CNTR3 = 1;

				if(player[g_Player]->CNTR1 > 70)
					{
					player[g_Player]->CNTR1 = 0;

					player[g_Player]->CNTR1 = ((float)rand() / 32767) * 40;
				
					Qpo->Sound_Play(Medias->S_JINK3Vocal, 1.0f, _->Pan, _->S_TimeScale, false, &player[g_Player]->QA_EFF_BONEMATRIX.Translation);
					}

				if(player[g_Player]->CNTR3 > 3)
					{
					player[g_Player]->CNTR3 = 1;
				
					Qpo->Sound_Play(Medias->S_JINK3Charge, 1.0f, _->Pan, _->S_TimeScale, false, &player[g_Player]->QA_EFF_BONEMATRIX.Translation);
					}

				TempVec1 = player[g_Player]->QA_EFF_BONEMATRIX.Translation;
				TempVec2 = player[g_Player]->QA_EFF_BONEMATRIX.Translation;

				TempVec2.y -= 10000;

				if(Qpo->Collision_RayTest_Avatar(NULL, NULL, &TempVec1, &TempVec2, /* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &player[g_Player]->Collision, -1))
					{
					TempVec2.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
					}

				if(player[g_Player]->CNTR2 > (8 - (13 * (player[g_Player]->JINK3_PowerFactor / 5))))
					{
					player[g_Player]->CNTR2 = 0;

					jet=0;
					while((jet < 1) && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_TRI;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;		//QPOLY_REND_DEPTH_SORT
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.0195f;		//0.025f//0.002f
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 56;

						Q_PntSprite->PntSprite[_->NomPntSprite].IR = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].IG = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].IB = 255;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 255;
						Q_PntSprite->PntSprite[_->NomPntSprite].AlphaSTR = Q_PntSprite->PntSprite[_->NomPntSprite].Alpha;
						Q_PntSprite->PntSprite[_->NomPntSprite].AlphaLOCK = 0;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 0.1;
						Q_PntSprite->PntSprite[_->NomPntSprite].SpeedDIR = 0;
						Q_PntSprite->PntSprite[_->NomPntSprite].AvID = 250;
						Q_PntSprite->PntSprite[_->NomPntSprite].QA_EFF_INTENSITY = player[g_Player]->JINK3_PowerFactor;

						SCRAM=0;
						while(SCRAM == 0)
							{
							Q_PntSprite->PntSprite[_->NomPntSprite].Pos = TempVec2;
							Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += ((((float)rand() / 32767)-0.5)*(800 * (player[g_Player]->JINK3_PowerFactor / 10)));
							Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += ((((float)rand() / 32767)-0.5)*(800 * (player[g_Player]->JINK3_PowerFactor / 10)));

							Tempfloat = Qpo->Vec3d_DistanceBetween(&TempVec2, &Q_PntSprite->PntSprite[_->NomPntSprite].Pos);

							if(Tempfloat < (400 * (player[g_Player]->JINK3_PowerFactor / 10))) SCRAM = 1;
							}

						Q_PntSprite->PntSprite[_->NomPntSprite].Vert1 = Q_PntSprite->PntSprite[_->NomPntSprite].Pos;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert2 = Q_PntSprite->PntSprite[_->NomPntSprite].Pos;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert3 = Q_PntSprite->PntSprite[_->NomPntSprite].Pos;

						Q_PntSprite->PntSprite[_->NomPntSprite].Vert1.x += (((float)rand() / 32767)-0.5)*5;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert1.y += (((float)rand() / 32767)-0.5)*5;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert1.z += (((float)rand() / 32767)-0.5)*5;

						Q_PntSprite->PntSprite[_->NomPntSprite].Vert2.x += (((float)rand() / 32767)-0.5)*5;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert2.y += (((float)rand() / 32767)-0.5)*5;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert2.z += (((float)rand() / 32767)-0.5)*5;

						Q_PntSprite->PntSprite[_->NomPntSprite].Vert3.x += (((float)rand() / 32767)-0.5)*5;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert3.y += (((float)rand() / 32767)-0.5)*5;
						Q_PntSprite->PntSprite[_->NomPntSprite].Vert3.z += (((float)rand() / 32767)-0.5)*5;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = 0;
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = 1;
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						jet++;
						}
					}


				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 48, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[48]);

				if(player[g_Player]->jumpposecnt + (player[g_Player]->JumpPoseINC*_->TimeScale) <= 0.33)	player[g_Player]->jumpposecnt += player[g_Player]->JumpPoseINC*_->TimeScale;

				if(player[g_Player]->blendamount[48]+(0.07*_->TimeScale)<=1) player[g_Player]->blendamount[48] += 0.07*_->TimeScale;		//0.3

				if(player[g_Player]->blendamount[48]+(0.07*_->TimeScale)>=1)
					{ player[g_Player]->blendamount[48] = 1; }
				//}
			}


		if(player[g_Player]->Mposestate == 15)	//### Air Rush Forward	airrushfront
			{
			player[g_Player]->AirBorn = 1;
			player[g_Player]->DownSpeed = 0.5 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

			if(TIME == player[g_Player]->TrailsCount + 2 || player[g_Player]->TrailsCount == 0)
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->TempXForm1);
				Qpo->Transform_GetIn(&player[g_Player]->TempXForm1, &player[g_Player]->TempVec1);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm3);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->OAttPos);
				}

			if(player[g_Player]->attackon == 0 || (player[g_Player]->attackon == 1 && player[g_Player]->Aposestate == 73)) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 50, player[g_Player]->jumpposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[50]);
			
			if(TIME == player[g_Player]->TrailsCount + 2 || player[g_Player]->TrailsCount == 0)
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->jumpposecnt > 0.1)
					{
					if(player[g_Player]->TrailINIT == 0)
						{
						player[g_Player]->TrailINIT = 1;
						player[g_Player]->TrailLINK = 1;
						}
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 L HAND", &player[g_Player]->TempXForm2);
					Q.TrailLineCreate(250, 10, player[g_Player]->TempXForm3.Translation, player[g_Player]->TempXForm2.Translation, 0, 200, 200, 255, 1);
					player[g_Player]->TrailsOn = 1;
					}

				player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF = player[g_Player]->TempXForm1;
				player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart = player[g_Player]->TempVec1;

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOREARM", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);

				if(player[g_Player]->TrailINIT == 0)
					{
					player[g_Player]->TrailINIT = 1;
					player[g_Player]->TrailLINK = 1;
					}

				Q.TrailLineCreate(250, 10, player[g_Player]->OAttPos.Translation, player[g_Player]->AttPos.Translation, 0, 200, 200, 255, 0);
				player[g_Player]->TrailsOn = 1;

					//# Set Trail Timer
				player[g_Player]->TrailsCount = TIME;
				}

			if(player[g_Player]->Aposestate == 73)
				{
#pragma message("WARNING:::Change if shadows a invisible")
#if 0
				player[g_Player]->ShadowsOn = 1;
#endif
				if(player[g_Player]->ShadowMeM[1].Translation.x != 0)
					{
					player[g_Player]->Shadows[1].Xform = player[g_Player]->ShadowMeM[1];
					player[g_Player]->Shadows[1].Xform.Translation = player[g_Player]->ShadowMeM[1].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[1].Avatar, 50, player[g_Player]->ShadowMeMPose[1], &player[g_Player]->Shadows[1].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[3].Translation.x != 0)
					{
					player[g_Player]->Shadows[2].Xform = player[g_Player]->ShadowMeM[3];
					player[g_Player]->Shadows[2].Xform.Translation = player[g_Player]->ShadowMeM[2].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[2].Avatar, 50, player[g_Player]->ShadowMeMPose[2], &player[g_Player]->Shadows[2].Xform, 1);
					}
				if(player[g_Player]->ShadowMeM[5].Translation.x != 0)
					{
					player[g_Player]->Shadows[3].Xform = player[g_Player]->ShadowMeM[5];
					player[g_Player]->Shadows[3].Xform.Translation = player[g_Player]->ShadowMeM[3].Translation;
					Qpo->Avatar_BlendPose(player[g_Player]->Shadows[3].Avatar, 50, player[g_Player]->ShadowMeMPose[3], &player[g_Player]->Shadows[3].Xform, 1);
					}

				//##### Shadow Memory Storage
				if(player[g_Player]->AirJinkRotFG == 1) player[g_Player]->ShadowMeM[0].Matrix = playerAV[g_Player]->Viewform;
				else player[g_Player]->ShadowMeM[0] = playerAV[g_Player]->Xform;
				player[g_Player]->ShadowMeM[0].Translation = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->ShadowMeMPose[0] = player[g_Player]->jumpposecnt;

				SCRAM = 7;
				while(SCRAM >= 1)
					{
					player[g_Player]->ShadowMeM[SCRAM] = player[g_Player]->ShadowMeM[SCRAM - 1];
					player[g_Player]->ShadowMeM[SCRAM].Translation = player[g_Player]->ShadowMeM[SCRAM - 1].Translation;
					player[g_Player]->ShadowMeMPose[SCRAM] = player[g_Player]->ShadowMeMPose[SCRAM - 1];
					SCRAM--;
					}
				}

			if(player[g_Player]->jumpposecnt >= 0.2 && _->mwheelroll[g_Player] == 1)
				{ player[g_Player]->jumpposecnt = 0.2; }


			if(player[g_Player]->jumpposecnt > 0.20)	//# Fly Forwards
				{
				//###Move Forwards
				player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

				playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, 22.5*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

				//if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
				//	{ playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact; player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
				//else { player[g_Player]->collide=0; player[g_Player]->WindWake = 0; }

				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				/*if(player[g_Player]->collide == 0)*/ playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				
				player[g_Player]->AirJinkRotFG = 1;
				}

									//0.115
			if(player[g_Player]->jumpposecnt + ( 0.15 * _->TimeScale ) <= 1.17 ) player[g_Player]->jumpposecnt += 0.15 * _->TimeScale;	//0.04
			else
				{
				if(!player[g_Player]->attackon || (player[g_Player]->attackon && player[g_Player]->Aposestate == 73))
					{
					//##### - Switch to Air Jink - #####
					player[g_Player]->JumpPoseINC = 0.06;
					player[g_Player]->jumpposecnt = 0.33;
					player[g_Player]->blendamount[48] = 0.1;
					player[g_Player]->AirJinkRotFG = 0;
					player[g_Player]->AirJinkInit = 0;

					//player[g_Player]->attposecnt = 0;
					//player[g_Player]->Aposestate = 0;
					//player[g_Player]->blendamount[0] = 0;
					//player[g_Player]->blendamount[45] = 0;
					//player[g_Player]->attackon = 0;
					//player[g_Player]->astackcnt = 0;
					//player[g_Player]->astackrun = 0;
					//player[g_Player]->astackcntdir[0] = 0;
					//player[g_Player]->AttackPos = 0;
					//player[g_Player]->TimeHoleFLAG = 0;
					//player[g_Player]->JinkSpecialON = 0;
					//player[g_Player]->JinkInit = 0;
					//player[g_Player]->Q_Jink.ON = 0;
					player[g_Player]->DownSpeed = 2;

						//# Spin Player Back
					player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
					player[g_Player]->AJAngles.y = (player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y) + PI;
					//if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
					//if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
					Qpo->Transform_New_YRotation(&AIfriendly, player[g_Player]->AJAngles.y - PI);	/// Originaly -
					Qpo->Transform_Multiply(&player[g_Player]->ROTATEMatrix, &AIfriendly, &player[g_Player]->ROTATEMatrix);
					QpoVec3d i_Vector = playerAV[g_Player]->Xform.Translation;
					Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
					playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
					playerAV[g_Player]->Xform.Translation = i_Vector;
					player[g_Player]->AvatarRotation = player[g_Player]->trueAngles.y;

					player[g_Player]->Mposestate = 14;
					}

				if(player[g_Player]->ShadowsOn == 1)
					{
					player[g_Player]->ShadowsOn = 0;
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
					Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
					Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
					}
				}

			if(player[g_Player]->blendamount[50]+(0.5*_->TimeScale)<=1) player[g_Player]->blendamount[50] += 0.5*_->TimeScale;
			else player[g_Player]->blendamount[50] = 1;
			}


		if(player[g_Player]->Mposestate == 23)	//Cartwheel Left
			{
			//### Set Flip Mode
			player[g_Player]->Flip = 1;

			if(player[g_Player]->ShadowsOn == 1)
				{
				player[g_Player]->ShadowsOn = 0;
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
				}

			if(player[g_Player]->WeaponStatus != 0)
				{
				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 36, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[33]);
#if 0
				if(player[g_Player]->WeaponStatus != 5)
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					}
				else
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					}
#endif
				
				//_->TimeScale = 0.1;

				/*if(player[g_Player]->runposecnt+(0.08*_->TimeScale)<1.67) //0.08
					{
					player[g_Player]->runposecnt += 0.08*_->TimeScale;
					if(player[g_Player]->runposecnt < 0.8)
						{
						player[g_Player]->SideSpeed += 4*_->TimeScale;
						}
					else
						{
						player[g_Player]->SideSpeed -= 4*_->TimeScale;
						}
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*//* &player[g_Player]->Left);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, -player[g_Player]->SideSpeed*_->TimeScale, &player[g_Player]->Left, &playerAV[g_Player]->Xform.Translation);
					}
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[33]=0;
					player[g_Player]->blendamount[0]=0;
					player[g_Player]->Mposestate = 0;
					_->TimeScale = 1;
					player[g_Player]->Flip = 0;
					}*/

				if(player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 5)
					{
					playerAV[g_Player]->Avatar.Scale.x = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
					playerAV[g_Player]->Avatar.Scale.y = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
					playerAV[g_Player]->Avatar.Scale.z = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

					Qpo->Avatar_GetWeaponTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->RFistPos);

					Qpo->Transform_GetIn(&player[g_Player]->RFistPos, &player[g_Player]->AimVec);

					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 7, &player[g_Player]->AimVec, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2000, &player[g_Player]->AimVec, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest_Avatar(
						&playerAV[g_Player]->Mins,
						&playerAV[g_Player]->Maxs,
						&player[g_Player]->AttPos.Translation,
						&player[g_Player]->OAttPos.Translation,
						0xffffffff, NULL, NULL,
						&player[g_Player]->Collision, -1))
						{
						// Set the new pos to the point of collision
						player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);

						player[g_Player]->LaserLV.a = 130;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = 255;			//alpha values and colour
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
						player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
						player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

						Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->spec, QPOLY_TYPE_PNT, QPOLY_REND_DEPTH_SORT, 0.04f);
						}


					Q.ShowLine(&player[g_Player]->AttPos.Translation, &player[g_Player]->OAttPos.Translation, &player[g_Player]->ViewXForm.Translation, 0.6, Medias->LaserSight, player[g_Player]->WepAlpha, 255, 0, 0, 0);
					}
				}
			else
				{
				if(player[g_Player]->attackon == 0 || player[g_Player]->Aposestate == 73 || player[g_Player]->Aposestate == 19 || player[g_Player]->Aposestate == 200 || player[g_Player]->Aposestate == 202 || player[g_Player]->Aposestate == 203 || player[g_Player]->Aposestate == 204 || player[g_Player]->Aposestate == 207)
					{
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 33, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[33]);
					}
				

				if(player[g_Player]->runposecnt < 0.3)
					{
					if(player[g_Player]->runposecnt+(0.12*_->TimeScale)<1.67) player[g_Player]->runposecnt += 0.12*_->TimeScale;
					else
						{
						player[g_Player]->runposecnt=0;
						player[g_Player]->blendamount[33]=0;
						player[g_Player]->blendamount[0]=0;
						player[g_Player]->Mposestate = 0;
						player[g_Player]->Flip = 0;
						}
					}
				else
					{
					if(player[g_Player]->runposecnt+(0.08*_->TimeScale)<1.67) player[g_Player]->runposecnt += 0.08*_->TimeScale;
					else
						{
						player[g_Player]->runposecnt=0;
						player[g_Player]->blendamount[33]=0;
						player[g_Player]->blendamount[0]=0;
						player[g_Player]->Mposestate = 0;
						player[g_Player]->Flip = 0;
						}
					}


				if((player[g_Player]->runposecnt > 0.2 && player[g_Player]->runposecnt < 1.3) || 1)
					{
					//###Move Sideways
					if(player[g_Player]->Aposestate != 73)	player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed * 1.3;
					else player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed * 7;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, player[g_Player]->ForwardSpeed*_->TimeScale, &playerAV[g_Player]->Left, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
					{
					player[g_Player]->WindWake = 0;
					player[g_Player]->collide=0;
					}
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				}

			if(player[g_Player]->blendamount[33]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[33] += 0.3*_->TimeScale;
			}


		if(player[g_Player]->Mposestate == 24)	//Cartwheel Right
			{
			if(player[g_Player]->ShadowsOn == 1)
				{
				player[g_Player]->ShadowsOn = 0;
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
				}

			//### Set Flip Mode
			player[g_Player]->Flip = 1;

			if(player[g_Player]->WeaponStatus != 0 && 0)
				{
				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 36, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[33]);
				if(player[g_Player]->WeaponStatus != 5)
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					}
				else
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					}

				_->TimeScale = 0.1;
				
				if(player[g_Player]->runposecnt-(0.08*_->TimeScale)>0) 
					{
					player[g_Player]->runposecnt -= 0.08*_->TimeScale;
					if(player[g_Player]->runposecnt < 0.8)
						{
						player[g_Player]->SideSpeed += 4*_->TimeScale;
						}
					else
						{
						player[g_Player]->SideSpeed -= 4*_->TimeScale;
						}
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &player[g_Player]->Left);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, -player[g_Player]->SideSpeed*_->TimeScale, &player[g_Player]->Left, &playerAV[g_Player]->Xform.Translation);
					}
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[33]=0;
					player[g_Player]->blendamount[0]=0;
					player[g_Player]->Mposestate = 0;
					_->TimeScale = 1;
					player[g_Player]->Flip = 0;
					}

				if(player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 5)
					{
					playerAV[g_Player]->Avatar.Scale.x = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
					playerAV[g_Player]->Avatar.Scale.y = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
					playerAV[g_Player]->Avatar.Scale.z = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

					Qpo->Avatar_GetWeaponTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->RFistPos);

					Qpo->Transform_GetIn(&player[g_Player]->RFistPos, &player[g_Player]->AimVec);

					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 7, &player[g_Player]->AimVec, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2000, &player[g_Player]->AimVec, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest_Avatar(
						&playerAV[g_Player]->Mins,
						&playerAV[g_Player]->Maxs,
						&player[g_Player]->AttPos.Translation,
						&player[g_Player]->OAttPos.Translation,
						0xffffffff, NULL, NULL,
						&player[g_Player]->Collision, -1))
						{
						// Set the new pos to the point of collision
						player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);

						player[g_Player]->LaserLV.a = 130;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = 255;			//alpha values and colour
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
						player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
						player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

						Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->spec, QPOLY_TYPE_PNT, QPOLY_REND_DEPTH_SORT, 0.04f);
						}

					Q.ShowLine(&player[g_Player]->AttPos.Translation, &player[g_Player]->OAttPos.Translation, &player[g_Player]->ViewXForm.Translation, 0.6, Medias->LaserSight, player[g_Player]->WepAlpha, 255, 0, 0, 0);
					}
				}
			else
				{
				if(player[g_Player]->attackon == 0 || player[g_Player]->Aposestate == 73 || player[g_Player]->Aposestate == 19 || player[g_Player]->Aposestate == 200 || player[g_Player]->Aposestate == 202 || player[g_Player]->Aposestate == 203 || player[g_Player]->Aposestate == 204 || player[g_Player]->Aposestate == 207)
					{
					Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 33, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[33]);
					}
				
				if(player[g_Player]->runposecnt < 0.3)
					{
					if(player[g_Player]->runposecnt-(0.12*_->TimeScale)>0) player[g_Player]->runposecnt -= 0.12*_->TimeScale;
					else
						{
						player[g_Player]->runposecnt=0;
						player[g_Player]->blendamount[33]=0;
						player[g_Player]->blendamount[0]=0;
						player[g_Player]->Mposestate = 0;
						player[g_Player]->Flip = 0;
						}
					}
				else
					{
					if(player[g_Player]->runposecnt-(0.08*_->TimeScale)>0) player[g_Player]->runposecnt -= 0.08*_->TimeScale;
					else
						{
						player[g_Player]->runposecnt=0;
						player[g_Player]->blendamount[33]=0;
						player[g_Player]->blendamount[0]=0;
						player[g_Player]->Mposestate = 0;
						player[g_Player]->Flip = 0;
						}
					}

				if((player[g_Player]->runposecnt > 0.2 && player[g_Player]->runposecnt < 1.3) || 1)
					{
					//###Move Forwards
					if(player[g_Player]->Aposestate != 73)	player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed * 1.3;
					else player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed * 7;

					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, -player[g_Player]->ForwardSpeed*_->TimeScale, &playerAV[g_Player]->Left, &playerAV[g_Player]->NewPos);

					playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
					else 
						{
						player[g_Player]->WindWake = 0;
						player[g_Player]->collide=0;
						}

					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}
				}

			if(player[g_Player]->blendamount[33]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[33] += 0.3*_->TimeScale;
			}


		if(player[g_Player]->Mposestate == 8)	//BackFlip
			{
			//### Set Flip Mode
			player[g_Player]->Flip = 1;

			if(player[g_Player]->WeaponStatus != 0)
				{
#if 0
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 57, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[57]);
				if(player[g_Player]->WeaponStatus != 5) Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				else Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
#endif

				if(player[g_Player]->WeaponStatus != 5)
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					}
				else
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					}
				
				if(player[g_Player]->runposecnt + (0.06*_->TimeScale) <= 1.13)	player[g_Player]->runposecnt += 0.06*_->TimeScale;
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[57]=0;
					player[g_Player]->Mposestate = 0;
					_->TimeScale = 1;
					player[g_Player]->JumpOff = 0;
					player[g_Player]->Flip = 0;
					}

				if(player[g_Player]->runposecnt >= 0.14 && player[g_Player]->JumpOff == 0)
					{
					player[g_Player]->DownSpeed = 2;
					player[g_Player]->JumpOff = 1;
					}
				}
			else
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 57, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[57]);
				if(player[g_Player]->runposecnt + (0.06*_->TimeScale) <= 1.13)	player[g_Player]->runposecnt += 0.06*_->TimeScale;
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[57]=0;
					player[g_Player]->Mposestate = 0;
					_->TimeScale = 1;
					player[g_Player]->JumpOff = 0;
					player[g_Player]->Flip = 0;
					}

				if(player[g_Player]->runposecnt >= 0.14 && player[g_Player]->JumpOff == 0)
					{
					player[g_Player]->DownSpeed = 2;
					player[g_Player]->JumpOff = 1;
					}
				}

			if(player[g_Player]->runposecnt >= 0.14 && player[g_Player]->runposecnt < 1.04)
				{
				//###Move Forwards
				//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, -20*_->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);	//20

				playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos, /*GE_CONTENTS_SOLID_CLIP, /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
					{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
				else 
					{
					player[g_Player]->WindWake = 1;
					player[g_Player]->collide=0;
					}
				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0)	playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				}

			if(player[g_Player]->blendamount[57]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[57] += 0.3*_->TimeScale;
			}

		}


		if(player[g_Player]->Mposestate == 9)	//Wall Running
			{
			if(player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 8 || player[g_Player]->WeaponStatus == 5 || player[g_Player]->Block == 1)	//Holding Weapon
				{
				Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 26, player[g_Player]->runposecnt, NULL);
				Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 27, player[g_Player]->runposecnt, NULL);
				}
			else
				{
				if(player[g_Player]->attackon == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 2, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[9]);
				else
					{
					if(player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 14, player[g_Player]->runposecnt, NULL);
					if(player[g_Player]->Aposestate != 47 && player[g_Player]->Aposestate != 48 && player[g_Player]->Aposestate != 28 && player[g_Player]->Aposestate != 35 && player[g_Player]->Aposestate != 42 && player[g_Player]->Aposestate != 43 && player[g_Player]->Aposestate != 44 && player[g_Player]->Aposestate != 37 && player[g_Player]->Aposestate != 38 && player[g_Player]->Aposestate != 39 && player[g_Player]->Aposestate != 40 && player[g_Player]->Aposestate != 11 && player[g_Player]->Aposestate != 33 && player[g_Player]->Aposestate != 32 && player[g_Player]->Aposestate != 21 && player[g_Player]->Aposestate != 22 && player[g_Player]->Aposestate != 24 && player[g_Player]->Aposestate != 25 && player[g_Player]->Aposestate != 27 && player[g_Player]->Aposestate != 29 && player[g_Player]->Aposestate != 31) Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 15, player[g_Player]->runposecnt, NULL);
					}
				}

			if(player[g_Player]->AirJinkRotFG == 1)
				{
				player[g_Player]->AirJinkRotFG = 0;
				player[g_Player]->ROTATEMatrix = player[g_Player]->STOREMatrix;
				player[g_Player]->AJAngles.y = player[g_Player]->trueAngles.y - player[g_Player]->STOREAngles.y;
				if(player[g_Player]->AJAngles.y > (2*PI)) player[g_Player]->AJAngles.y = player[g_Player]->AJAngles.y-(PI*2);
				if(player[g_Player]->AJAngles.y < 0) player[g_Player]->AJAngles.y = (PI*2) + player[g_Player]->AJAngles.y;
				Qpo->Transform_RotateY(&player[g_Player]->ROTATEMatrix, player[g_Player]->AJAngles.y);
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Xform.Translation, &player[g_Player]->ROTATEMatrix.Translation);
				playerAV[g_Player]->Xform = player[g_Player]->ROTATEMatrix;
				}

			player[g_Player]->RunningCount = 0;
			player[g_Player]->Running = 0;
			player[g_Player]->DownSpeed = 0;

			if(player[g_Player]->WallRunInit == 0)
				{
				player[g_Player]->WallRunInit = 1;

				//### Check Distance between Pure Left and Right to work out direction of Turn
				Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &playerAV[g_Player]->Left);
				Qpo->Vec3d_Copy(&playerAV[g_Player]->Left, &playerAV[g_Player]->Right);
				Qpo->Vec3d_Inverse(&playerAV[g_Player]->Right);
				player[g_Player]->ScanDistL = Qpo->Vec3d_DistanceBetween(&player[g_Player]->WallRunCollision.Plane.Normal, &playerAV[g_Player]->Left);
				player[g_Player]->ScanDistR = Qpo->Vec3d_DistanceBetween(&player[g_Player]->WallRunCollision.Plane.Normal, &playerAV[g_Player]->Right);
				if(player[g_Player]->ScanDistL < player[g_Player]->ScanDistR) player[g_Player]->WallRunDir = 1;
				else  player[g_Player]->WallRunDir = 2;


				player[g_Player]->SurfaceIn = player[g_Player]->WallRunCollision.Plane.Normal;

				player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->Xform.Translation = Origin;

				if(player[g_Player]->WallRunACTIV == 0)
					{
					//#### Z Running walls
					if(player[g_Player]->SurfaceIn.x == 1 && player[g_Player]->SurfaceIn.z == 0)	//Wall On Left Facing Positive Z
						{
						if(player[g_Player]->WallRunDir == 1)	//Facing Left
							{
							player[g_Player]->WallRunForward.x = 0;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = 1;

							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
							player[g_Player]->WallRunTilt = 1;
							}
						else						//Facing Right
							{
							player[g_Player]->WallRunForward.x = 0;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = -1;

							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
							player[g_Player]->WallRunTilt = 2;
							}
						}


					if(player[g_Player]->SurfaceIn.x == -1 && player[g_Player]->SurfaceIn.z == 0)  //Wall On Right Facing Negative Z
						{
						if(player[g_Player]->WallRunDir == 1)
							{
							player[g_Player]->WallRunForward.x = 0;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = -1;

							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
							player[g_Player]->WallRunTilt = 3;
							}
						else
							{
							player[g_Player]->WallRunForward.x = 0;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = 1;

							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
							player[g_Player]->WallRunTilt = 4;
							}
						}


					//#### X Running walls
					if(player[g_Player]->SurfaceIn.x == 0 && player[g_Player]->SurfaceIn.z == 1)	//Wall On Forward Facing Positive X
						{
						if(player[g_Player]->WallRunDir == 1)
							{
							player[g_Player]->WallRunForward.x = -1;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = 0;

							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
							player[g_Player]->WallRunTilt = 5;
							}
						else
							{
							player[g_Player]->WallRunForward.x = 1;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = 0;

							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
							player[g_Player]->WallRunTilt = 6;
							}
						}


					if(player[g_Player]->SurfaceIn.x == 0 && player[g_Player]->SurfaceIn.z == -1)  //Wall On Back Facing Negative X
						{
						if(player[g_Player]->WallRunDir == 1)
							{
							player[g_Player]->WallRunForward.x = 1;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = 0;

							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
							player[g_Player]->WallRunTilt = 7;
							}
						else
							{
							player[g_Player]->WallRunForward.x = -1;
							player[g_Player]->WallRunForward.y = 0;
							player[g_Player]->WallRunForward.z = 0;

							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
							player[g_Player]->WallRunTilt = 8;
							}
						}

					player[g_Player]->WallRunACTIV = 1;
					}

				player[g_Player]->WallRunSavePos.y += 8;
				
				playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;

				Qpo->Vec3d_AddScaled(&player[g_Player]->WallRunSavePos, 40, &player[g_Player]->WallRunCollision.Plane.Normal, &player[g_Player]->WallRunSavePos);

				player[g_Player]->WallRunOldPos = playerAV[g_Player]->Xform.Translation;
				player[g_Player]->WallRunNewPos = playerAV[g_Player]->Xform.Translation;
				}

			player[g_Player]->WallRunOldPos = player[g_Player]->WallRunNewPos;
				
			Qpo->Vec3d_AddScaled(&player[g_Player]->WallRunNewPos, -8 * _->TimeScale, &player[g_Player]->WallRunForward, &player[g_Player]->WallRunNewPos);
			Qpo->Vec3d_AddScaled(&player[g_Player]->WallRunSavePos, -8 * _->TimeScale, &player[g_Player]->WallRunForward, &player[g_Player]->WallRunSavePos);


			//### Height Adjust
			if(player[g_Player]->WallRunHeightDir == 0)
				{
				if(player[g_Player]->WallRunHeight < 200)
					{
					player[g_Player]->WallRunHeight += 4 * _->TimeScale;

					player[g_Player]->WallRunOldPos.y += 80;
					player[g_Player]->WallRunNewPos.y += 80;

					if(!0 && Qpo->Collision_RayTest(
								 NULL,
								 NULL,
								 &player[g_Player]->WallRunOldPos,
								 &player[g_Player]->WallRunNewPos,
								 // GE_CONTENTS_CANNOT_OCCUPY						//GE_CONTENTS_SOLID_CLIP, //// GE_CONTENTS_CANNOT_OCCUPY 
								 ////GE_COLLIDE_MODELS,			////GE_COLLIDE_ALL, //// GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS 
								 0xffffffff, NULL, NULL,
								 &playerAV[g_Player]->Collision))
						{
						player[g_Player]->WallRunNewPos.y += 4 * _->TimeScale;
						player[g_Player]->WallRunSavePos.y += 4 * _->TimeScale;
						}
					else
						{
						if(player[g_Player]->WallRunSaveInit == 0)
							{
							player[g_Player]->WallRunSaveInit = 1;
							player[g_Player]->WallRunSave = player[g_Player]->WallRunHeight;
							}
						}

					player[g_Player]->WallRunOldPos.y -= 80;
					player[g_Player]->WallRunNewPos.y -= 80;
					}
				else player[g_Player]->WallRunHeightDir = 1;
				}
			else
				{
				if(player[g_Player]->WallRunHeight > 0)
					{
					player[g_Player]->WallRunHeight -= 6 * _->TimeScale;
					
					player[g_Player]->WallRunOldPos.y += 80;
					player[g_Player]->WallRunNewPos.y += 80;

					if(!0 && Qpo->Collision_RayTest(
								 NULL,
								 NULL,
								 &player[g_Player]->WallRunOldPos,
								 &player[g_Player]->WallRunNewPos,
								 // GE_CONTENTS_CANNOT_OCCUPY						//GE_CONTENTS_SOLID_CLIP, //// GE_CONTENTS_CANNOT_OCCUPY 
								 ////GE_COLLIDE_MODELS,			////GE_COLLIDE_ALL, //// GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS 
								 0xffffffff, NULL, NULL, 
								 &playerAV[g_Player]->Collision) || player[g_Player]->WallRunHeight < player[g_Player]->WallRunSave )
						{
						player[g_Player]->WallRunNewPos.y -= 6 * _->TimeScale;
						player[g_Player]->WallRunSavePos.y -= 6 * _->TimeScale;
						}
					else
						{
						if(player[g_Player]->WallRunSaveInit == 0)
							{
							player[g_Player]->WallRunSaveInit = 1;
							player[g_Player]->WallRunSave = player[g_Player]->WallRunHeight;
							}
						}

					player[g_Player]->WallRunOldPos.y -= 80;
					player[g_Player]->WallRunNewPos.y -= 80;
					}
				else player[g_Player]->WallRunInit = 2;
				}


					//### Detect Wall In Front And if So end with ability to run New Wall
				player[g_Player]->OldPos = player[g_Player]->WallRunSavePos;
				Qpo->Vec3d_AddScaled(&player[g_Player]->OldPos, -2, &player[g_Player]->WallRunCollision.Plane.Normal, &player[g_Player]->NewPos);

				if(player[g_Player]->WallRunACTIV == 1 && 0 && Qpo->Collision_RayTest(
								 NULL,
								 NULL,
								 &player[g_Player]->OldPos,
								 &player[g_Player]->NewPos,
								 // GE_CONTENTS_CANNOT_OCCUPY
								 ////GE_COLLIDE_MODELS,
								 0xffffffff, NULL, NULL,
								 &playerAV[g_Player]->Collision))
						{
						player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->Xform.Translation = Origin;

						if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
							}

						if(player[g_Player]->WallRunTilt == 3 || player[g_Player]->WallRunTilt == 4)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 7 || player[g_Player]->WallRunTilt == 8)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
							}

						player[g_Player]->WallRunACTIV = 0;

						playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;

						player[g_Player]->runposecnt=0;
						player[g_Player]->blendamount[9]=0;
						player[g_Player]->Mposestate = 0;
						player[g_Player]->WallRunHeight = 0;
						player[g_Player]->WallRunHeightDir = 0;
						player[g_Player]->WallRunDir = 0;
						player[g_Player]->WallRunInit = 0;
						player[g_Player]->WallRun = 0;
						player[g_Player]->WallRunSaveInit = 0;
						player[g_Player]->WallRunSave = 0;

						player[g_Player]->blendamount[1] = 0;
						player[g_Player]->blendamount[2] = 0;
						player[g_Player]->blendamount[3] = 0;
						player[g_Player]->blendamount[4] = 0;
						player[g_Player]->blendamount[5] = 0;
						}
			/*	}
			else
				{
				player[g_Player]->OldPos = player[g_Player]->WallRunSavePos;
				Qpo->Vec3d_AddScaled(&player[g_Player]->OldPos, 2, &player[g_Player]->WallRunCollision.Plane.Normal, &player[g_Player]->NewPos);

				if(Qpo->Collision_RayTest(
								 NULL,//&playerAV[g_Player]->Mins,
								 NULL,//&playerAV[g_Player]->Maxs,
								 &player[g_Player]->OldPos,
								 &player[g_Player]->NewPos,
								 // GE_CONTENTS_CANNOT_OCCUPY                //GE_CONTENTS_SOLID_CLIP, //// GE_CONTENTS_CANNOT_OCCUPY 
								 //GE_COLLIDE_MODELS,      ////GE_COLLIDE_ALL, //// GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS 
								 0xffffffff, NULL, NULL,
								 &playerAV[g_Player]->Collision))
						{
						player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->Xform.Translation = Origin;

						if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
							}

						if(player[g_Player]->WallRunTilt == 3 || player[g_Player]->WallRunTilt == 4)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 7 || player[g_Player]->WallRunTilt == 8)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
							}

						playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;

						player[g_Player]->runposecnt=0;
						player[g_Player]->blendamount[9]=0;
						player[g_Player]->Mposestate = 0;
						player[g_Player]->WallRunHeight = 0;
						player[g_Player]->WallRunHeightDir = 0;
						player[g_Player]->WallRunDir = 0;
						player[g_Player]->WallRunInit = 0;
						player[g_Player]->WallRun = 0;
						player[g_Player]->WallRunSaveInit = 0;
						player[g_Player]->WallRunSave = 0;
						}
				}*/


			//### Place Feet on Wall
			Qpo->Vec3d_AddScaled(&player[g_Player]->WallRunSavePos, -100, &player[g_Player]->WallRunCollision.Plane.Normal, &player[g_Player]->WallRunOldPos);

			if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2 || player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
				{
				if(Qpo->Collision_RayTest(
									 NULL,
									 NULL,
									 &player[g_Player]->WallRunSavePos,
									 &player[g_Player]->WallRunOldPos,
									 // GE_CONTENTS_CANNOT_OCCUPY
									 ////GE_COLLIDE_MODELS,
									 0xffffffff, NULL, NULL,
									 &playerAV[g_Player]->Collision))
					{
					player[g_Player]->WallRunNewPos.acSet(playerAV[g_Player]->Collision.Impact.m_X, playerAV[g_Player]->Collision.Impact.m_Y, playerAV[g_Player]->Collision.Impact.m_Z);
					}
				else
					{
					if(player[g_Player]->WallRunACTIV == 1)
						{
						player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->Xform.Translation = Origin;

						if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
							}

						if(player[g_Player]->WallRunTilt == 3 || player[g_Player]->WallRunTilt == 4)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 7 || player[g_Player]->WallRunTilt == 8)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
							}

						player[g_Player]->WallRunACTIV = 0;

						playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;
						}

					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[9]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->WallRunHeight = 0;
					player[g_Player]->WallRunHeightDir = 0;
					player[g_Player]->WallRunDir = 0;
					player[g_Player]->WallRunInit = 0;
					player[g_Player]->WallRun = 0;
					player[g_Player]->WallRunSaveInit = 0;
					player[g_Player]->WallRunSave = 0;

					player[g_Player]->blendamount[1] = 0;
					player[g_Player]->blendamount[2] = 0;
					player[g_Player]->blendamount[3] = 0;
					player[g_Player]->blendamount[4] = 0;
					player[g_Player]->blendamount[5] = 0;
					}
				}
			else
				{
				if(Qpo->Collision_RayTest(
									 NULL,
									 NULL,
									 &player[g_Player]->WallRunSavePos,
									 &player[g_Player]->WallRunOldPos,
									 // GE_CONTENTS_CANNOT_OCCUPY
									 //GE_COLLIDE_MODELS,
									 0xffffffff, NULL, NULL,
									 &playerAV[g_Player]->Collision))
					{
					player[g_Player]->WallRunNewPos.acSet(playerAV[g_Player]->Collision.Impact.m_X, playerAV[g_Player]->Collision.Impact.m_Y, playerAV[g_Player]->Collision.Impact.m_Z);

					Qpo->Vec3d_AddScaled(&player[g_Player]->WallRunNewPos, 8, &player[g_Player]->WallRunCollision.Plane.Normal, &player[g_Player]->WallRunNewPos);
					}
				else
					{
					if(player[g_Player]->WallRunACTIV == 1)
						{
						player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
						playerAV[g_Player]->Xform.Translation = Origin;

						if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
							}

						if(player[g_Player]->WallRunTilt == 3 || player[g_Player]->WallRunTilt == 4)
							{
							Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
							}

						if(player[g_Player]->WallRunTilt == 7 || player[g_Player]->WallRunTilt == 8)
							{
							Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
							}

						player[g_Player]->WallRunACTIV = 0;

						playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;
						}

					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[9]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->WallRunHeight = 0;
					player[g_Player]->WallRunHeightDir = 0;
					player[g_Player]->WallRunDir = 0;
					player[g_Player]->WallRunInit = 0;
					player[g_Player]->WallRun = 0;
					player[g_Player]->WallRunSaveInit = 0;
					player[g_Player]->WallRunSave = 0;

					player[g_Player]->blendamount[1] = 0;
					player[g_Player]->blendamount[2] = 0;
					player[g_Player]->blendamount[3] = 0;
					player[g_Player]->blendamount[4] = 0;
					player[g_Player]->blendamount[5] = 0;
					}
				}

			playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunNewPos;


			if(player[g_Player]->WallRunInit == 2 || player[g_Player]->JinkSPECEFF == 1 || player[g_Player]->WallRunSWITCH == 1 || player[g_Player]->Aposestate == 45 || player[g_Player]->Aposestate == 93 || player[g_Player]->Aposestate == 83 || player[g_Player]->Aposestate == 79 || player[g_Player]->Aposestate == 40 || player[g_Player]->Aposestate == 24)
				{
				player[g_Player]->WallRunSWITCH = 0;
				player[g_Player]->WallRunDelay = 20;

				if(player[g_Player]->WallRunACTIV == 1)
					{
					player[g_Player]->WallRunSavePos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->Xform.Translation = Origin;

					if(player[g_Player]->WallRunTilt == 1 || player[g_Player]->WallRunTilt == 2)
						{
						Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, 0.79);
						}

					if(player[g_Player]->WallRunTilt == 3 || player[g_Player]->WallRunTilt == 4)
						{
						Qpo->Transform_RotateZ(&playerAV[g_Player]->Xform, -0.79);
						}

					if(player[g_Player]->WallRunTilt == 5 || player[g_Player]->WallRunTilt == 6)
						{
						Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, -0.79);
						}

					if(player[g_Player]->WallRunTilt == 7 || player[g_Player]->WallRunTilt == 8)
						{
						Qpo->Transform_RotateX(&playerAV[g_Player]->Xform, 0.79);
						}

					player[g_Player]->WallRunACTIV = 0;

					playerAV[g_Player]->Xform.Translation = player[g_Player]->WallRunSavePos;
					}

				player[g_Player]->runposecnt=0;
				player[g_Player]->blendamount[9] = 0;
				player[g_Player]->Mposestate = 0;
				player[g_Player]->WallRunHeight = 0;
				player[g_Player]->WallRunHeightDir = 0;
				player[g_Player]->WallRunDir = 0;
				player[g_Player]->WallRunInit = 0;
				player[g_Player]->WallRun = 0;
				player[g_Player]->WallRunSaveInit = 0;
				player[g_Player]->WallRunSave = 0;

				player[g_Player]->blendamount[1] = 0;
				player[g_Player]->blendamount[2] = 0;
				player[g_Player]->blendamount[3] = 0;
				player[g_Player]->blendamount[4] = 0;
				player[g_Player]->blendamount[5] = 0;
				}


			if(player[g_Player]->runposecnt+(0.05*_->TimeScale)<1.27) player[g_Player]->runposecnt += 0.05*_->TimeScale;
			else
				{
				player[g_Player]->runposecnt=0;
				player[g_Player]->StepTimer = 0;
				}

			if(player[g_Player]->StepTimer == 0 && player[g_Player]->runposecnt > 0.2)
				{
				player[g_Player]->StepTimer = 1;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}

			if(player[g_Player]->StepTimer == 1 && player[g_Player]->runposecnt > 0.86)
				{
				player[g_Player]->StepTimer = 2;
				//QpoSound3D_GetConfig(World, &player[g_Player]->ViewXForm, &player[g_Player]->RFistPos.Translation, 600.0f, 2.0f, &Volume, &Pan, &Frequency);
				Qpo->Sound_Play(Medias->S_Footsteps, _->Volume / 2.5f, _->Pan, _->S_TimeScale, false, &player[g_Player]->RFistPosV.Translation);
				}
			
			if(player[g_Player]->blendamount[9] + (0.05*_->TimeScale) <= 1) player[g_Player]->blendamount[9] += 0.05*_->TimeScale;
			else { player[g_Player]->blendamount[9] = 1; }
			}


		if(player[g_Player]->Mposestate == 25)	//Dodge Left
			{
			if(player[g_Player]->WeaponStatus != 0)
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 46, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[46]);
				if(player[g_Player]->WeaponStatus != 5) Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				else Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);

				_->TimeScale = 0.1;

				if(player[g_Player]->runposecnt+(0.09*(_->TimeScale*3))<0.60)
					{
					player[g_Player]->runposecnt += 0.09*(_->TimeScale*3);
					if(player[g_Player]->runposecnt > 0.33 && player[g_Player]->runposecnt < 0.6)
						{
						player[g_Player]->SideSpeed += 20*(_->TimeScale*2);

						Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &player[g_Player]->Left);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, -player[g_Player]->SideSpeed*(_->TimeScale*2), &player[g_Player]->Left, &playerAV[g_Player]->Xform.Translation);
						}
					}
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[46]=0;
					player[g_Player]->Mposestate = 0;
					_->TimeScale = 1;
					}

				if(player[g_Player]->WeaponStatus == 4 || player[g_Player]->WeaponStatus == 5)
					{
					playerAV[g_Player]->Avatar.Scale.x = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));
					playerAV[g_Player]->Avatar.Scale.y = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2));
					playerAV[g_Player]->Avatar.Scale.z = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (AVSCALEINC*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2));

					Qpo->Avatar_GetWeaponTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->RFistPos);

					Qpo->Transform_GetIn(&player[g_Player]->RFistPos, &player[g_Player]->AimVec);

					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 7, &player[g_Player]->AimVec, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2000, &player[g_Player]->AimVec, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest_Avatar(
						&playerAV[g_Player]->Mins,
						&playerAV[g_Player]->Maxs,
						&player[g_Player]->AttPos.Translation,
						&player[g_Player]->OAttPos.Translation,
						0xffffffff, NULL, NULL,
						&player[g_Player]->Collision, -1))
						{
						// Set the new pos to the point of collision
						player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);

						player[g_Player]->LaserLV.a = 130;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = 255;			//alpha values and colour
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
						player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
						player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

						Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->spec, QPOLY_TYPE_PNT, QPOLY_REND_DEPTH_SORT, 0.04f);
						}

					Q.ShowLine(&player[g_Player]->AttPos.Translation, &player[g_Player]->OAttPos.Translation, &player[g_Player]->ViewXForm.Translation, 0.6, Medias->LaserSight, player[g_Player]->WepAlpha, 255, 0, 0, 0);
					}
				}
			else
				{
				_->TimeScale = 0.1;

				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 46, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[46]);
				if(player[g_Player]->runposecnt+(0.08*(_->TimeScale*2))<0.60)
					{
					player[g_Player]->runposecnt += 0.08*(_->TimeScale*2);
					if(player[g_Player]->runposecnt > 0.33 && player[g_Player]->runposecnt < 0.6)
						{
						player[g_Player]->SideSpeed += 20*(_->TimeScale*2);

						Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/ &player[g_Player]->Left);
						Qpo->Vec3d_AddScaled(&playerAV[g_Player]->Xform.Translation, -player[g_Player]->SideSpeed*(_->TimeScale*2), &player[g_Player]->Left, &playerAV[g_Player]->Xform.Translation);
						}
					}
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[46]=0;
					player[g_Player]->Mposestate = 0;
					_->TimeScale = 1;
					}
				}


			if(player[g_Player]->blendamount[46]+(0.3*(_->TimeScale*2))<=1) player[g_Player]->blendamount[46] += 0.3*(_->TimeScale*2);
			}


		if(player[g_Player]->Mposestate == 26)	//Roll Forward
			{
			if(player[g_Player]->ShadowsOn == 1)
				{
				player[g_Player]->ShadowsOn = 0;
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
				}

			//### Set Crouch Mode
			player[g_Player]->CrouchInit = 1;
			player[g_Player]->crohposecnt = 0.335;

			Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 88, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[88]);
			if(player[g_Player]->WeaponStatus != 0)
				{
				if(player[g_Player]->WeaponStatus != 5)
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
					}
				else
					{
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
					}
				}

			if(!KEY_PRESS_DOWN(QIN_z))
				{
				//if(player[g_Player]->runposecnt+(0.034*_->TimeScale)</*1.47*/0.735) player[g_Player]->runposecnt += 0.034*(_->TimeScale*2);	//0.028	//0.035
					if(player[g_Player]->runposecnt+(0.034*_->TimeScale)</*1.47*/0.3675) player[g_Player]->runposecnt += 0.034*(_->TimeScale*2);	//0.028	//0.035
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[88]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->WindWake = 0;

					player[g_Player]->Crouch = 0;
					player[g_Player]->CrouchInit = 0;
					player[g_Player]->crohposecnt = 0;
					}
				}
			else
				{
				//if(player[g_Player]->runposecnt+(0.034*_->TimeScale)<1.26) player[g_Player]->runposecnt += 0.034*(_->TimeScale*2);	//0.028	//0.035
				if(player[g_Player]->runposecnt+(0.034*_->TimeScale)<0.63) player[g_Player]->runposecnt += 0.034*(_->TimeScale*2);	//0.028	//0.035
				else
					{
					player[g_Player]->runposecnt=0;
					player[g_Player]->blendamount[88]=0;
					player[g_Player]->Mposestate = 0;
					player[g_Player]->TimeHoleFLAG = 0;
					player[g_Player]->WindWake = 0;
					}
				}

			if(player[g_Player]->runposecnt >= 0.1 && player[g_Player]->runposecnt < 0.53)
				{
				//###Move Forwards
				//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, 6*(_->TimeScale*2), &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

				playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision) && playerAV[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
					{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; player[g_Player]->WindWake = 0; }
				else 
					{
					player[g_Player]->collide=0;
					}

				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				}
			else player[g_Player]->WindWake = 0;

			if(player[g_Player]->blendamount[88]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[88] += 0.3*_->TimeScale;
			}


		if(player[g_Player]->Mposestate == 51)	//Taunt 1
			{
			Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 89, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[89]);

			if(player[g_Player]->runposecnt+(0.05*_->TimeScale)<1.1) player[g_Player]->runposecnt += 0.05*(_->TimeScale);	//0.035
			else
				{
				player[g_Player]->runposecnt=0;
				player[g_Player]->blendamount[89]=0;
				player[g_Player]->Mposestate = 0;
				}

			if(player[g_Player]->blendamount[89]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[89] += 0.3*_->TimeScale;
			}


		if(player[g_Player]->Mposestate == 28)	//Roll Low Left
			{
			if(player[g_Player]->ShadowsOn == 1)
				{
				player[g_Player]->ShadowsOn = 0;
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
				}

			//### Set Crouch Mode
			player[g_Player]->CrouchInit = 1;
			player[g_Player]->crohposecnt = 0.335;

			//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 108, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[108]);
			if(player[g_Player]->WeaponStatus != 5)
				{
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				}
			else
				{
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
				}

			if(player[g_Player]->runposecnt+(0.055*_->TimeScale)<1) player[g_Player]->runposecnt += 0.055*(_->TimeScale);	//0.028
			else
				{
				player[g_Player]->runposecnt=0;
				player[g_Player]->blendamount[108]=0;
				player[g_Player]->Mposestate = 0;

				if(!KEY_PRESS_DOWN(QIN_z))
					{
					player[g_Player]->CrouchInit = 0;
					player[g_Player]->crohposecnt = 0;
					}
				}

			if(player[g_Player]->runposecnt >= 0.05 && player[g_Player]->runposecnt < 0.9)
				{
				//###Move Forwards
				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, 7*(_->TimeScale), &playerAV[g_Player]->Left, &playerAV[g_Player]->NewPos);

				playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision) && playerAV[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
					{ player[g_Player]->collide=1; }
				else 
					{
					player[g_Player]->collide=0;
					}

				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				}

			if(player[g_Player]->blendamount[108]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[108] += 0.3*_->TimeScale;
			}


		if(player[g_Player]->Mposestate == 29)	//Roll Low Right
			{
			if(player[g_Player]->ShadowsOn == 1)
				{
				player[g_Player]->ShadowsOn = 0;
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
				Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
				Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);
				}

			//### Set Crouch Mode
			player[g_Player]->CrouchInit = 1;
			player[g_Player]->crohposecnt = 0.335;

			//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 109, player[g_Player]->runposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[109]);
			if(player[g_Player]->WeaponStatus != 5)
				{
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 34, player[g_Player]->attposecnt, NULL);
				}
			else
				{
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 35, player[g_Player]->attposecnt, NULL);
				}

			if(player[g_Player]->runposecnt+(0.055*_->TimeScale)<1) player[g_Player]->runposecnt += 0.055*(_->TimeScale);	//0.035
			else
				{
				player[g_Player]->runposecnt=0;
				player[g_Player]->blendamount[109]=0;
				player[g_Player]->Mposestate = 0;

				if(!KEY_PRESS_DOWN(QIN_z))
					{
					player[g_Player]->CrouchInit = 0;
					player[g_Player]->crohposecnt = 0;
					}
				}

			if(player[g_Player]->runposecnt >= 0.05 && player[g_Player]->runposecnt < 0.9)
				{
				//###Move Forwards
				//player[g_Player]->ForwardSpeed = player[g_Player]->PlayerSpeed;

				playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
				playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
				Qpo->Transform_AvatarGetLeft(&playerAV[g_Player]->Xform, /*ORIG GetUp*/&playerAV[g_Player]->Left);
				Qpo->Vec3d_AddScaled(&playerAV[g_Player]->OldPos, -7*(_->TimeScale), &playerAV[g_Player]->Left, &playerAV[g_Player]->NewPos);

				playerAV[g_Player]->OldPos.y += 60;playerAV[g_Player]->NewPos.y += 60;
				if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision) && playerAV[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
					{ /*playerAV[g_Player]->NewPos = playerAV[g_Player]->Collision.Impact;*/ player[g_Player]->collide=1; /*player[g_Player]->WindWake = 0;*/ }
				else 
					{
					player[g_Player]->collide=0;
					}

				playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

				if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
				}

			if(player[g_Player]->blendamount[109]+(0.3*_->TimeScale)<=1) player[g_Player]->blendamount[109] += 0.3*_->TimeScale;
			}


		//#######  - FOURTH ORDER ANIMATION -  CROUCH  #######

		//Crouch Hard Coded
		/*if(KEY_PRESS_DOWN(QIN_z))
			{
			
			Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 61, player[g_Player]->crohposecnt, NULL);
			Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 62, player[g_Player]->crohposecnt, NULL);
			//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 61, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
			//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 62, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
			//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 60, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
			}
		else
			{*/
			if(player[g_Player]->CrouchInit == 1 && player[g_Player]->attackon == 0 && player[g_Player]->Mposestate != 26 && player[g_Player]->Mposestate != 28 && player[g_Player]->Mposestate != 29 && player[g_Player]->Mposestate != 8 && player[g_Player]->Mposestate != 9)
				{
				//#### Set player Blocking flags
				player[g_Player]->Block = 1;
				player[g_Player]->Blocking = 1;
				player[g_Player]->BlockHeight = 1;

				//Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 61, player[g_Player]->crohposecnt, NULL);
				//Qpo->Avatar_SetPosePM(playerAV[g_Player]->Avatar, 62, player[g_Player]->crohposecnt, NULL);
				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 61, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 62, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);
				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 60, player[g_Player]->crohposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);

#if 0
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 61, player[g_Player]->crohposecnt, NULL);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 62, player[g_Player]->crohposecnt, NULL);
#endif
				}
			//}


		//#######  - FIFTH ORDER ANIMATION -  ENERGY ATTACKS  #######

	if(player[g_Player]->attackon == 1)
		{
		switch(player[g_Player]->Aposestate)
			{
			case 19:	//Renzou Real   <-- sort out renzou fake
				{
				/*if(player[g_Player]->attposecnt > 0 && player[g_Player]->attposecnt >= 0.1)
					{
					_->TimeHole = 1;
					_->TimeRotate = 1;
					_->TimeFactor = 400;
					}*/

				if(player[g_Player]->WeaponStatus == 0 && player[g_Player]->EnergyHand >= 0)
					{
					//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 24, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[24]);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 24, player[g_Player]->attposecnt, false);

					if(player[g_Player]->attposecnt >= 0.30 && player[g_Player]->EnergyReleased == 0 && _->NomSEnergy < _->MaxNomSEnergy && _->NetworkOption != 1) //4
						{
						player[g_Player]->EnergyReleased = 1;					//20 70
						//if(_->NomSEnergy < 1) _->NomSEnergy = 1;
						//if(_->NomSEnergy >= _->MaxNomSEnergy) _->NomSEnergy = 1;
						Q_SEnergy->SEnergy[_->NomSEnergy].AvID = 250;
						Q_SEnergy->SEnergy[_->NomSEnergy].ScaleInc = 0.15 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)+ 0.015);
						Q_SEnergy->SEnergy[_->NomSEnergy].ScaleMax = 0.35 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)*0.4) + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Damage/5000)*0.4)) + 0.2);
						Q_SEnergy->SEnergy[_->NomSEnergy].SpeedInc = 2 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*0.8)+0.2);
						Q_SEnergy->SEnergy[_->NomSEnergy].SpeedMax = 25 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*1.5)+0.2);
						Q_SEnergy->SEnergy[_->NomSEnergy].Accuracy = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Accuracy/5000) * 0.3) + 0.025;
						Q_SEnergy->SEnergy[_->NomSEnergy].LightPos = player[g_Player]->RFistPos.Translation;
						Q_SEnergy->SEnergy[_->NomSEnergy].LightPos.y = player[g_Player]->RFistPos.Translation.y + 2;
						Q_SEnergy->SEnergy[_->NomSEnergy].Live = 1;
						Q_SEnergy->SEnergy[_->NomSEnergy].Init = 0;

	#if 0
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 HEAD", &Q_SEnergy->SEnergy[_->NomSEnergy].Matrix);
	#endif

						Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Matrix = playerAV[g_Player]->Xform.Matrix;
						Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Translation = playerAV[g_Player]->Xform.Translation;
						Q_SEnergy->SEnergy[_->NomSEnergy].AvatarFlag[0].Xform = playerAV[g_Player]->Xform;

						Q_SEnergy->SEnergy[_->NomSEnergy].AngleY = player[g_Player]->Angles.y;
						Q_SEnergy->SEnergy[_->NomSEnergy].AngleX = 0;
						Q_SEnergy->SEnergy[_->NomSEnergy].AngleZ = 0;

	#if 0
						//Qpo->Transform_GetIn(&Q_SEnergy->SEnergy[_->NomSEnergy].Matrix, &Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);
						Q_SEnergy->SEnergy[_->NomSEnergy].TraVec.y += 0.25;	//*-1.6  +1.3
	#else
						Q_SEnergy->SEnergy[_->NomSEnergy].TraVec = player[g_Player]->InStore;
	#endif
						//Qpo->Vec3d_Inverse(&Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);

						/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

						Qpo->Sound_Play(Medias->S_RenzouFireRight, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

						if(player[g_Player]->EnergyTargetLock == 1)
							{
							Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = player[g_Player]->EnergyTargetLock;
							Q_SEnergy->SEnergy[_->NomSEnergy].TargetID = player[g_Player]->EnergyLockID;

							player[g_Player]->EnergyDisplayLock = 1;
							Q_SEnergy->SEnergy[_->NomSEnergy].DisplayAlpha = 150;
							Q_SEnergy->SEnergy[_->NomSEnergy].DisplayColor = 255;
							Q_SEnergy->SEnergy[_->NomSEnergy].DisplayScale = 0.22;
							}
						else Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = 0;

						_->NomSEnergy++;

						/*Q_ValidPointer->ValidPointer[NomValidPointer].AvID = -1;
						Q_ValidPointer->ValidPointer[NomValidPointer].Scale = 250;
						Q_ValidPointer->ValidPointer[NomValidPointer].Alpha = 255;
						Q_ValidPointer->ValidPointer[NomValidPointer].Type = VP_TYPE_VECTOR;
						Q_ValidPointer->ValidPointer[NomValidPointer].Live = 1;

						Q_ValidPointer->ValidPointer[NomValidPointer].Pos = Q_SEnergy->SEnergy[_->NomSEnergy - 1].LightPos;						//Position of the light and the energy in world space
						Q_ValidPointer->ValidPointer[NomValidPointer].TraVec = Q_SEnergy->SEnergy[_->NomSEnergy - 1].TraVec;

						if(NomValidPointer + 1 < MaxNomValidPointer) NomValidPointer++;*/

#if 0
						Q_ValidPointer->ValidPointer[NomValidPointer].LeftVec;
						Q_ValidPointer->ValidPointer[NomValidPointer].UpVec;
						Q_ValidPointer->ValidPointer[NomValidPointer].InVec;

						Q_ValidPointer->ValidPointer[NomValidPointer].Transform;

						Q_ValidPointer->ValidPointer[NomValidPointer].Light;					//Dynamic Light
						Q_ValidPointer->ValidPointer[NomValidPointer].Color;					//Color of the light
#endif
						//NomValidPointer++;
						}

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.165*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.165*_->TimeScale;	//0.1	//0.08
					else
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[24] = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->attackon = 0;
						player[g_Player]->EnergyReleased = 0;
						player[g_Player]->EnergyDisplayLock = 0;
						player[g_Player]->EnergyDisplayAlpha = 80;
						player[g_Player]->EnergyDisplayColor = 255;
						player[g_Player]->EnergyDisplayScale = 0.22;
						player[g_Player]->EnergyTargetLock = 0;
						player[g_Player]->EnergyLockID = 0;
						if(player[g_Player]->EnergyHand == 0) player[g_Player]->EnergyHand = 1;
						else player[g_Player]->EnergyHand = -1;
						player[g_Player]->EnergyCloseDist = 0;
						player[g_Player]->EnergyCloseID = 0;
						player[g_Player]->EnergyTargetLaserAlpha = 0;
						}


					//#####  - Targeting System -  #####

					//### Paint Laser
					if(player[g_Player]->EnergyDisplayLock == 0)
						{
						player[g_Player]->In = player[g_Player]->InStore;
						//player[g_Player]->In.y += 0.25;

						Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPosV.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
						Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

						if(Qpo->Collision_RayTest_Avatar(
							 NULL,
							 NULL,
							 &player[g_Player]->AttPos.Translation,
							 &player[g_Player]->OAttPos.Translation,
							 0xffffffff, NULL, NULL,
							 &player[g_Player]->Collision, -1))
							{
							// Set the new pos to the point of collision
							player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
							}

	#if 0
						player[g_Player]->LaserLV.a = 255;
						player[g_Player]->LaserLV.r = 145;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 145;
						player[g_Player]->LaserLV.x = player[g_Player]->OAttPos.Translation.x;
						player[g_Player]->LaserLV.y = player[g_Player]->OAttPos.Translation.y;
						player[g_Player]->LaserLV.z = player[g_Player]->OAttPos.Translation.z;

						Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
	#endif

						player[g_Player]->EnergyCloseDist = 0;
						player[g_Player]->NomEnergyTargets = 0;
						
						helly = 0;	//#####-- Verify Team Status to get Possible Targets 'ENEMY' --#####
						while(helly < _->NomAI)
							{
							if(Q_Forge->Forge[helly].LIVE == 1)
								{
								if(Q_Forge->Forge[helly].Team != player[g_Player]->Team)
									{
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
									Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
									if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
										{
										player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
										player[g_Player]->EnergyCloseID = helly;
										}
									player[g_Player]->NomEnergyTargets++;
									}
								}
							helly++;
							}
						}


					//##### Show Target Laser End
					if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 170;

					player[g_Player]->LaserLV.a = 255; //player[g_Player]->EnergyTargetLaserAlpha;
					player[g_Player]->LaserLV.r = 255;
					player[g_Player]->LaserLV.g = 255;
					player[g_Player]->LaserLV.b = 0;
					player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
					player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
					player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

					//Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 1.22f);	//0.22
					
					/*if(player[g_Player]->EnergyDisplayLock == 1)
						{
						if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
						else player[g_Player]->EnergyTargetLaserAlpha = 0;
						}

					//#### Show Target Locks
					if(player[g_Player]->EnergyCloseDist != 0 && player[g_Player]->EnergyDisplayLock == 0)
						{
						player[g_Player]->EnergyTargetLock = 1;
						player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
						
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = player[g_Player]->EnergyDisplayColor;
						player[g_Player]->LaserLV.b = 0;
						player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
						player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;

						Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
						}*/
					}
				else	//WEAPON THROW
					{
					//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 38, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[24]);
					Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 38, player[g_Player]->attposecnt, false);

					if(player[g_Player]->attposecnt >= 0.30 && player[g_Player]->EnergyReleased == 0 && _->NomSEnergy < _->MaxNomSEnergy && _->NetworkOption != 1) //4
						{
						player[g_Player]->EnergyReleased = 1;
						//if(_->NomSEnergy < 1) _->NomSEnergy = 1;
						//if(_->NomSEnergy >= _->MaxNomSEnergy) _->NomSEnergy = 1;
						Q_SEnergy->SEnergy[_->NomSEnergy].AvID = 250;
						Q_SEnergy->SEnergy[_->NomSEnergy].ScaleInc = 0.15 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)+ 0.015);
						Q_SEnergy->SEnergy[_->NomSEnergy].ScaleMax = 0.35 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)*0.4) + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Damage/5000)*0.4)) + 0.2);
						Q_SEnergy->SEnergy[_->NomSEnergy].SpeedInc = 2 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*0.8)+0.2);
						Q_SEnergy->SEnergy[_->NomSEnergy].SpeedMax = 25 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*1.5)+0.2);
						Q_SEnergy->SEnergy[_->NomSEnergy].Accuracy = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Accuracy/5000) * 0.3) + 0.025;
						Q_SEnergy->SEnergy[_->NomSEnergy].LightPos = player[g_Player]->LFistPos.Translation;
						Q_SEnergy->SEnergy[_->NomSEnergy].LightPos.y = player[g_Player]->LFistPos.Translation.y + 2;
						Q_SEnergy->SEnergy[_->NomSEnergy].Live = 1;
						Q_SEnergy->SEnergy[_->NomSEnergy].Init = 0;

	#if 0
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 HEAD", &Q_SEnergy->SEnergy[_->NomSEnergy].Matrix);
	#endif

						Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Matrix = playerAV[g_Player]->Xform.Matrix;
						Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Translation = playerAV[g_Player]->Xform.Translation;
						Q_SEnergy->SEnergy[_->NomSEnergy].AvatarFlag[0].Xform = playerAV[g_Player]->Xform;
						Q_SEnergy->SEnergy[_->NomSEnergy].AngleY = player[g_Player]->Angles.y;
						Q_SEnergy->SEnergy[_->NomSEnergy].AngleX = 0;
						Q_SEnergy->SEnergy[_->NomSEnergy].AngleZ = 0;

	#if 0
						Qpo->Transform_GetIn(&Q_SEnergy->SEnergy[_->NomSEnergy].Matrix, &Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);
						Q_SEnergy->SEnergy[_->NomSEnergy].TraVec.y += 0.25;
	#else
						Q_SEnergy->SEnergy[_->NomSEnergy].TraVec = player[g_Player]->InStore;
	#endif
						
						/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

						Qpo->Sound_Play(Medias->S_RenzouFireLeft, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

						if(player[g_Player]->EnergyTargetLock == 1)
							{
							Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = player[g_Player]->EnergyTargetLock;
							Q_SEnergy->SEnergy[_->NomSEnergy].TargetID = player[g_Player]->EnergyLockID;

							player[g_Player]->EnergyDisplayLock = 1;
							Q_SEnergy->SEnergy[_->NomSEnergy].DisplayAlpha = 150;
							Q_SEnergy->SEnergy[_->NomSEnergy].DisplayColor = 255;
							Q_SEnergy->SEnergy[_->NomSEnergy].DisplayScale = 0.22;
							}
						else Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = 0;


						_->NomSEnergy++;

						/*Q_ValidPointer->ValidPointer[NomValidPointer].AvID = -1;
						Q_ValidPointer->ValidPointer[NomValidPointer].Scale = 250;
						Q_ValidPointer->ValidPointer[NomValidPointer].Alpha = 255;
						Q_ValidPointer->ValidPointer[NomValidPointer].Type = VP_TYPE_VECTOR;
						Q_ValidPointer->ValidPointer[NomValidPointer].Live = 1;

						Q_ValidPointer->ValidPointer[NomValidPointer].Pos = Q_SEnergy->SEnergy[_->NomSEnergy - 1].LightPos;						//Position of the light and the energy in world space
						Q_ValidPointer->ValidPointer[NomValidPointer].TraVec = Q_SEnergy->SEnergy[_->NomSEnergy - 1].TraVec;

						if(NomValidPointer + 1 < MaxNomValidPointer) NomValidPointer++;*/
						}

					if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.165*_->TimeScale) < 0.83) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.165*_->TimeScale;	//0.1 //0.08
					else
						{
						if(player[g_Player]->WeaponStatus != 0)
							{
							player[g_Player]->attposecnt = player[g_Player]->wepposecnt;
							player[g_Player]->Aposestate = 20;
							player[g_Player]->blendamount[24] = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->EnergyReleased = 0;
							player[g_Player]->EnergyDisplayLock = 0;
							player[g_Player]->EnergyDisplayAlpha = 80;
							player[g_Player]->EnergyDisplayColor = 255;
							player[g_Player]->EnergyDisplayScale = 0.22;
							player[g_Player]->EnergyTargetLock = 0;
							player[g_Player]->EnergyLockID = 0;
							if(player[g_Player]->EnergyHand == 0) player[g_Player]->EnergyHand = 1;
							else player[g_Player]->EnergyHand *= -1;
							player[g_Player]->EnergyCloseDist = 0;
							player[g_Player]->EnergyCloseID = 0;
							player[g_Player]->EnergyTargetLaserAlpha = 0;
							}
						else
							{
							player[g_Player]->attposecnt = 0;
							player[g_Player]->Aposestate = 0;
							player[g_Player]->blendamount[24] = 0;
							player[g_Player]->blendamount[0] = 0;
							player[g_Player]->attackon = 0;
							player[g_Player]->EnergyReleased = 0;
							player[g_Player]->EnergyDisplayLock = 0;
							player[g_Player]->EnergyDisplayAlpha = 80;
							player[g_Player]->EnergyDisplayColor = 255;
							player[g_Player]->EnergyDisplayScale = 0.22;
							player[g_Player]->EnergyTargetLock = 0;
							player[g_Player]->EnergyLockID = 0;
							if(player[g_Player]->EnergyHand == 0) player[g_Player]->EnergyHand = 1;
							else player[g_Player]->EnergyHand *= -1;
							player[g_Player]->EnergyCloseDist = 0;
							player[g_Player]->EnergyCloseID = 0;
							player[g_Player]->EnergyTargetLaserAlpha = 0;
							}
						}
					
					//#####  - Targeting System -  #####

					//### Paint Laser
					if(player[g_Player]->EnergyDisplayLock == 0)
						{
						player[g_Player]->In = player[g_Player]->InStore;
						//player[g_Player]->In.y += 0.25;

						Qpo->Vec3d_AddScaled(&player[g_Player]->LFistPos.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
						Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

						if(Qpo->Collision_RayTest_Avatar(
							 NULL,
							 NULL,
							 &player[g_Player]->AttPos.Translation,
							 &player[g_Player]->OAttPos.Translation,
							 // GE_CONTENTS_CANNOT_OCCUPY
							 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
							 0xffffffff, NULL, NULL,
							 &player[g_Player]->Collision, -1))
							{
							// Set the new pos to the point of collision
							player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
							}


						player[g_Player]->EnergyCloseDist = 0;
						player[g_Player]->NomEnergyTargets = 0;

						helly = 0;	//#####-- Verify Team Status to get Possible Targets 'ENEMY' --#####
						while(helly < _->NomAI)
							{
							if(Q_Forge->Forge[helly].LIVE == 1)
								{
								if(Q_Forge->Forge[helly].Team != player[g_Player]->Team)
									{
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
									Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
									player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
									if((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
										{
										player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
										player[g_Player]->EnergyCloseID = helly;
										}
									player[g_Player]->NomEnergyTargets++;
									}
								}
							helly++;
							}
						}


					//##### Show Target Laser End
					if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 170;

					player[g_Player]->LaserLV.a = player[g_Player]->EnergyTargetLaserAlpha;
					player[g_Player]->LaserLV.r = 255;
					player[g_Player]->LaserLV.g = 255;
					player[g_Player]->LaserLV.b = 0;
					player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
					player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
					player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

					//Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
					
					if(player[g_Player]->EnergyDisplayLock == 1)
						{
						if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
						else player[g_Player]->EnergyTargetLaserAlpha = 0;
						}

					//#### Show Target Locks
					if(player[g_Player]->EnergyCloseDist != 0 && player[g_Player]->EnergyDisplayLock == 0)
						{
						player[g_Player]->EnergyTargetLock = 1;
						player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
						
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = player[g_Player]->EnergyDisplayColor;
						player[g_Player]->LaserLV.b = 0;
						if(player[g_Player]->EnergyCloseID < _->NomAI)
							{
							player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
							player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
							player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;
							}

						Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
						}
				
					}

				if(player[g_Player]->blendamount[24]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[24] += 0.5*_->TimeScale;
				}break;


			case 45:	//Attack Flip
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 78, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[78]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
				

				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 1.6) player[g_Player]->AirBorn = 1;
				else { player[g_Player]->AirBorn = 0; player[g_Player]->JumpState = 0; }

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;

				if(player[g_Player]->attposecnt >= 0.27 && player[g_Player]->attposecnt <= 0.5)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);

					player[g_Player]->DownSpeed = -20 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{  player[g_Player]->collide=1; } else player[g_Player]->collide=0;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 0.97)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
			
					player[g_Player]->DownSpeed = 6 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.025*_->TimeScale) < 1.67 && !(player[g_Player]->attposecnt >= 0.5 && player[g_Player]->attackhits == 0)) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.025*_->TimeScale;	//0.025		//0.15
				else
					{
					player[g_Player]->attposecnt = 0.5;
					if(player[g_Player]->collide == 1 || player[g_Player]->attackhits >= 1)
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[78] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);

						player[g_Player]->EnergyDisplayLock = 0;
						player[g_Player]->EnergyDisplayAlpha = 80;
						player[g_Player]->EnergyDisplayColor = 255;
						player[g_Player]->EnergyDisplayScale = 0.22;
						player[g_Player]->EnergyTargetLock = 0;
						player[g_Player]->EnergyLockID = 0;
						}
					}


				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 78, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[78]);
					}

				if(player[g_Player]->attposecnt >= 0.9 && player[g_Player]->attposecnt <= 1)
					{
					_->TimeHole = 1;
					}

				if(player[g_Player]->blendamount[78]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[78] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.43 && player[g_Player]->attposecnt<=0.51)
					{
					Q.ColldetMelee(12,0.43,0.51,0.51,2,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 93:	//Attack Flip
				{
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineStartXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecStart);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->OAttPos);
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 116, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[78]);
				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R FOOT", &player[g_Player]->AttPos);

				Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R CALF", &player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF);
				Qpo->Transform_GetIn(&player[g_Player]->Trail[player[g_Player]->NomTrailL].LineEndXF, &player[g_Player]->Trail[player[g_Player]->NomTrailL].VecEnd);
				

				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 1.6) player[g_Player]->AirBorn = 1;
				else { player[g_Player]->AirBorn = 0; player[g_Player]->JumpState = 0; }

				if(player[g_Player]->JinkInit == 0)
					{
					player[g_Player]->JinkInit = 1;

					//##### Activate Shadows
					helly = 0;
					while(helly <= 2)
						{
						helly++;
						Qpo->Avatar_SetLighting(&player[g_Player]->Shadows[helly].Avatar,true,&goup,255,255,255,255,255,255,false,0,NULL,true);
						Qpo->Avatar_SetAlpha(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->ShadowALPHA/(helly+1));
						Qpo->Avatar_SetScale(&player[g_Player]->Shadows[helly].Avatar, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Height/100)-0.5)*2)), player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)),player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AvatarSCALE + (0.16*(((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight/100)-0.5)*2)));
						}
					player[g_Player]->ShadowsOn = 1;
					}

				player[g_Player]->Shadows[1].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[2].Xform = playerAV[g_Player]->Xform;
				player[g_Player]->Shadows[3].Xform = playerAV[g_Player]->Xform;

				if(player[g_Player]->attposecnt >= 0.27 && player[g_Player]->attposecnt <= 0.5)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
			
					player[g_Player]->DownSpeed = -20 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * 5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->attposecnt > 0.5 && player[g_Player]->attposecnt < 0.97)
					{
					playerAV[g_Player]->OldPos = playerAV[g_Player]->Xform.Translation;
					playerAV[g_Player]->NewPos = playerAV[g_Player]->Xform.Translation;
					Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/&playerAV[g_Player]->Up);
				
					player[g_Player]->DownSpeed = 6 * ((0.5 * player[g_Player]->GravityAlter) + (0.8 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.Weight / 500)));

					playerAV[g_Player]->OldPos.y += 60; playerAV[g_Player]->NewPos.y += 60;
					Qpo->Vec3d_AddScaled(&playerAV[g_Player]->NewPos, player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELMoveSpeed * -5 * _->TimeScale, &playerAV[g_Player]->Up, &playerAV[g_Player]->NewPos);

					if(Qpo->Collision_RayTest(NULL, NULL, &playerAV[g_Player]->OldPos, &playerAV[g_Player]->NewPos,/* GE_CONTENTS_CANNOT_OCCUPY //GE_COLLIDE_MODELS, */ 0xffffffff, NULL, NULL, &playerAV[g_Player]->Collision))
						{ player[g_Player]->collide=1; } else player[g_Player]->collide=0;
					playerAV[g_Player]->OldPos.y -= 60;playerAV[g_Player]->NewPos.y -= 60;

					if(player[g_Player]->collide == 0) playerAV[g_Player]->Xform.Translation = playerAV[g_Player]->NewPos;
					}


				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.017*_->TimeScale) < 1.67 && !(player[g_Player]->attposecnt >= 0.5 && player[g_Player]->attackhits == 0)) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness * 0.017*_->TimeScale;	//0.025		//0.15
				else
					{
					player[g_Player]->attposecnt = 0.5;
					if(player[g_Player]->collide == 1 || player[g_Player]->attackhits >= 1)
						{
						player[g_Player]->attposecnt = 0;
						player[g_Player]->Aposestate = 0;
						player[g_Player]->blendamount[0] = 0;
						player[g_Player]->blendamount[78] = 0;
						player[g_Player]->TrailsOn = 0;
						player[g_Player]->attackon = 0;

						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[1].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[2].Xform.Translation);
						Qpo->Vec3d_Copy(&_->Origon, &player[g_Player]->Shadows[3].Xform.Translation);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[1].Avatar, &player[g_Player]->Shadows[1].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[2].Avatar, &player[g_Player]->Shadows[2].Xform);
						Qpo->Avatar_ClearPose(player[g_Player]->Shadows[3].Avatar, &player[g_Player]->Shadows[3].Xform);

						player[g_Player]->EnergyDisplayLock = 0;
						player[g_Player]->EnergyDisplayAlpha = 80;
						player[g_Player]->EnergyDisplayColor = 255;
						player[g_Player]->EnergyDisplayScale = 0.22;
						player[g_Player]->EnergyTargetLock = 0;
						player[g_Player]->EnergyLockID = 0;
						}
					}


				helly = 0;
				while(helly <= 2)
					{
					helly++;
					if(player[g_Player]->attposecnt - (0.06*helly) >= 0) Qpo->Avatar_BlendPose(player[g_Player]->Shadows[helly].Avatar, 78, player[g_Player]->attposecnt - (0.06*helly), &player[g_Player]->Shadows[helly].Xform, player[g_Player]->blendamount[78]);
					}

				if(player[g_Player]->attposecnt >= 0.9 && player[g_Player]->attposecnt <= 1)
					{
					_->TimeHole = 1;
					}

				//##### Right Hand Renzou
				if(((player[g_Player]->attposecnt >= 1.17 && player[g_Player]->attposecnt <= 1.19) || (player[g_Player]->attposecnt >= 1.42 && player[g_Player]->attposecnt <= 1.44)) && (player[g_Player]->EnergyReleased == 0 && _->NomSEnergy < _->MaxNomSEnergy) && _->NetworkOption != 1)
					{
					_->TimeHole = 1;
					_->TimeHoleDir = 0;

					player[g_Player]->EnergyReleased = 1;
					//if(_->NomSEnergy < 1) _->NomSEnergy = 1;
					//if(_->NomSEnergy >= _->MaxNomSEnergy) _->NomSEnergy = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvID = 250;
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleInc = 0.15 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)+ 0.015);
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleMax = 0.35 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)*0.4) + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Damage/5000)*0.4)) + 0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedInc = 2 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*0.8)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedMax = 25 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*1.5)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].Accuracy = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Accuracy/5000) * 0.3) + 0.025;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos = player[g_Player]->RFistPos.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos.y = player[g_Player]->RFistPos.Translation.y + 2;
					Q_SEnergy->SEnergy[_->NomSEnergy].Live = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].Init = 0;

#if 0
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 HEAD", &Q_SEnergy->SEnergy[_->NomSEnergy].Matrix);
#endif

					Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Matrix = playerAV[g_Player]->Xform.Matrix;
					Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Translation = playerAV[g_Player]->Xform.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvatarFlag[0].Xform = playerAV[g_Player]->Xform;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleY = player[g_Player]->Angles.y;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleX = 0;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleZ = 0;

					Qpo->Transform_GetIn(&Q_SEnergy->SEnergy[_->NomSEnergy].Matrix, &Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);
					//Q_SEnergy->SEnergy[_->NomSEnergy].TraVec.y += 0.25;

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

					Qpo->Sound_Play(Medias->S_RenzouFireRight, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = player[g_Player]->EnergyTargetLock;
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetID = player[g_Player]->EnergyLockID;
						if(player[g_Player]->EnergyTargetLock == 1)
							{
							player[g_Player]->EnergyDisplayLock = 1;
							player[g_Player]->EnergyDisplayAlpha = 80;
							player[g_Player]->EnergyDisplayColor = 255;
							player[g_Player]->EnergyDisplayScale = 0.22;
							}
						}
					else Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = 0;

					_->NomSEnergy++;

					/*Q_ValidPointer->ValidPointer[NomValidPointer].AvID = -1;
					Q_ValidPointer->ValidPointer[NomValidPointer].Scale = 250;
					Q_ValidPointer->ValidPointer[NomValidPointer].Alpha = 255;
					Q_ValidPointer->ValidPointer[NomValidPointer].Type = VP_TYPE_VECTOR;
					Q_ValidPointer->ValidPointer[NomValidPointer].Live = 1;

					Q_ValidPointer->ValidPointer[NomValidPointer].Pos = Q_SEnergy->SEnergy[_->NomSEnergy - 1].LightPos;						//Position of the light and the energy in world space
					Q_ValidPointer->ValidPointer[NomValidPointer].TraVec = Q_SEnergy->SEnergy[_->NomSEnergy - 1].TraVec;

					if(NomValidPointer + 1 < MaxNomValidPointer) NomValidPointer++;*/
					}


				//### Reset Release
				if((player[g_Player]->attposecnt > 1.19 && player[g_Player]->attposecnt < 1.30) || (player[g_Player]->attposecnt > 1.32 && player[g_Player]->attposecnt < 1.40) || (player[g_Player]->attposecnt > 1.42 && player[g_Player]->attposecnt < 1.54)) player[g_Player]->EnergyReleased = 0;


				//##### Left Hand Renzou
				if((player[g_Player]->attposecnt >= 1.30 && player[g_Player]->attposecnt <= 1.32) && (player[g_Player]->EnergyReleased == 0 && _->NomSEnergy < _->MaxNomSEnergy) && _->NetworkOption != 1)
					{
					player[g_Player]->EnergyReleased = 1;
					//if(_->NomSEnergy < 1) _->NomSEnergy = 1;
					//if(_->NomSEnergy >= _->MaxNomSEnergy) _->NomSEnergy = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvID = 250;
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleInc = 0.15 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)+ 0.015);
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleMax = 0.35 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)*0.4) + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Damage/5000)*0.4)) + 0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedInc = 2 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*0.8)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedMax = 25 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*1.5)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].Accuracy = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Accuracy/5000) * 0.3) + 0.025;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos = player[g_Player]->LFistPos.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos.y = player[g_Player]->LFistPos.Translation.y + 2;
					Q_SEnergy->SEnergy[_->NomSEnergy].NomActors = 5;
					Q_SEnergy->SEnergy[_->NomSEnergy].Live = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].Init = 0;

#if 0
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 HEAD", &Q_SEnergy->SEnergy[_->NomSEnergy].Matrix);
#endif

#if 0
					Qpo->Transform_GetIn(&Q_SEnergy->SEnergy[_->NomSEnergy].Matrix, &Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);
					Q_SEnergy->SEnergy[_->NomSEnergy].TraVec.y += 0.25;	//*-1.6  +1.3
#else
					Q_SEnergy->SEnergy[_->NomSEnergy].TraVec = player[g_Player]->InStore;
#endif

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

					Qpo->Sound_Play(Medias->S_RenzouFireLeft, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = player[g_Player]->EnergyTargetLock;
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetID = player[g_Player]->EnergyLockID;
						if(player[g_Player]->EnergyTargetLock == 1)
							{
							player[g_Player]->EnergyDisplayLock = 1;
							player[g_Player]->EnergyDisplayAlpha = 80;
							player[g_Player]->EnergyDisplayColor = 255;
							player[g_Player]->EnergyDisplayScale = 0.22;
							}
						}
					else Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = 0;

					_->NomSEnergy++;

					/*Q_ValidPointer->ValidPointer[NomValidPointer].AvID = -1;
					Q_ValidPointer->ValidPointer[NomValidPointer].Scale = 250;
					Q_ValidPointer->ValidPointer[NomValidPointer].Alpha = 255;
					Q_ValidPointer->ValidPointer[NomValidPointer].Type = VP_TYPE_VECTOR;
					Q_ValidPointer->ValidPointer[NomValidPointer].Live = 1;

					Q_ValidPointer->ValidPointer[NomValidPointer].Pos = Q_SEnergy->SEnergy[_->NomSEnergy - 1].LightPos;						//Position of the light and the energy in world space
					Q_ValidPointer->ValidPointer[NomValidPointer].TraVec = Q_SEnergy->SEnergy[_->NomSEnergy - 1].TraVec;

					if(NomValidPointer + 1 < MaxNomValidPointer) NomValidPointer++;*/
					}


				//##### Both Hand Renzou
				if((player[g_Player]->attposecnt >= 1.54 && player[g_Player]->attposecnt <= 1.56) && (player[g_Player]->EnergyReleased == 0 && _->NomSEnergy < _->MaxNomSEnergy) && _->NetworkOption != 1)
					{
					player[g_Player]->EnergyReleased = 1;
					//if(_->NomSEnergy < 1) _->NomSEnergy = 1;
					//if(_->NomSEnergy >= _->MaxNomSEnergy) _->NomSEnergy = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvID = 250;
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleInc = 0.15 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)+ 0.015);
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleMax = 0.35 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)*0.4) + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Damage/5000)*0.4)) + 0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedInc = 2 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*0.8)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedMax = 25 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*1.5)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].Accuracy = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Accuracy/5000) * 0.3) + 0.025;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos = player[g_Player]->RFistPos.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos.y = player[g_Player]->RFistPos.Translation.y + 2;
					Q_SEnergy->SEnergy[_->NomSEnergy].NomActors = 5;
					Q_SEnergy->SEnergy[_->NomSEnergy].Live = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].Init = 0;

#if 0
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 HEAD", &Q_SEnergy->SEnergy[_->NomSEnergy].Matrix);
#endif

					Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Matrix = playerAV[g_Player]->Xform.Matrix;
					Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Translation = playerAV[g_Player]->Xform.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvatarFlag[0].Xform = playerAV[g_Player]->Xform;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleY = player[g_Player]->Angles.y;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleX = 0;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleZ = 0;

#if 0
					Qpo->Transform_GetIn(&Q_SEnergy->SEnergy[_->NomSEnergy].Matrix, &Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);
					Q_SEnergy->SEnergy[_->NomSEnergy].TraVec.y += 0.25;
#else
					Q_SEnergy->SEnergy[_->NomSEnergy].TraVec = player[g_Player]->InStore;
#endif

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

					Qpo->Sound_Play(Medias->S_RenzouFireDouble, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = player[g_Player]->EnergyTargetLock;
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetID = player[g_Player]->EnergyLockID;
						if(player[g_Player]->EnergyTargetLock == 1)
							{
							player[g_Player]->EnergyDisplayLock = 1;
							player[g_Player]->EnergyDisplayAlpha = 80;
							player[g_Player]->EnergyDisplayColor = 255;
							player[g_Player]->EnergyDisplayScale = 0.22;
							}
						}
					else Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = 0;

					_->NomSEnergy++;

					/*Q_ValidPointer->ValidPointer[NomValidPointer].AvID = -1;
					Q_ValidPointer->ValidPointer[NomValidPointer].Scale = 250;
					Q_ValidPointer->ValidPointer[NomValidPointer].Alpha = 255;
					Q_ValidPointer->ValidPointer[NomValidPointer].Type = VP_TYPE_VECTOR;
					Q_ValidPointer->ValidPointer[NomValidPointer].Live = 1;

					Q_ValidPointer->ValidPointer[NomValidPointer].Pos = Q_SEnergy->SEnergy[_->NomSEnergy - 1].LightPos;						//Position of the light and the energy in world space
					Q_ValidPointer->ValidPointer[NomValidPointer].TraVec = Q_SEnergy->SEnergy[_->NomSEnergy - 1].TraVec;

					if(NomValidPointer + 1 < MaxNomValidPointer) NomValidPointer++;*/
					//if(_->NomSEnergy < 1) _->NomSEnergy = 1;
					//if(_->NomSEnergy >= _->MaxNomSEnergy) _->NomSEnergy = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvID = 250;
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleInc = 0.15 * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)+ 0.015);
					Q_SEnergy->SEnergy[_->NomSEnergy].ScaleMax = 0.35 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Power/5000)*0.4) + ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Damage/5000)*0.4)) + 0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedInc = 2 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*0.8)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].SpeedMax = 25 * (((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].MoveSpeed/5000)*1.5)+0.2);
					Q_SEnergy->SEnergy[_->NomSEnergy].Accuracy = ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].AttackSKILL[28].Accuracy/5000) * 0.3) + 0.025;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos = player[g_Player]->LFistPos.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].LightPos.y = player[g_Player]->LFistPos.Translation.y + 2;
					Q_SEnergy->SEnergy[_->NomSEnergy].NomActors = 5;
					Q_SEnergy->SEnergy[_->NomSEnergy].Live = 1;
					Q_SEnergy->SEnergy[_->NomSEnergy].Init = 0;

#if 0
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 HEAD", &Q_SEnergy->SEnergy[_->NomSEnergy].Matrix);
#endif

					Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Matrix = playerAV[g_Player]->Xform.Matrix;
					Q_SEnergy->SEnergy[_->NomSEnergy].Matrix.Translation = playerAV[g_Player]->Xform.Translation;
					Q_SEnergy->SEnergy[_->NomSEnergy].AvatarFlag[0].Xform = playerAV[g_Player]->Xform;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleY = player[g_Player]->Angles.y;				
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleX = 0;
					Q_SEnergy->SEnergy[_->NomSEnergy].AngleZ = 0;

#if 0
					Qpo->Transform_GetIn(&Q_SEnergy->SEnergy[_->NomSEnergy].Matrix, &Q_SEnergy->SEnergy[_->NomSEnergy].TraVec);
					Q_SEnergy->SEnergy[_->NomSEnergy].TraVec.y += 0.25;	//*-1.6  +1.3
#else
					Q_SEnergy->SEnergy[_->NomSEnergy].TraVec = player[g_Player]->InStore;
#endif

					/*QpoSound3D_GetConfig(World,
							&player[g_Player]->ViewXForm,
							&player[g_Player]->ViewXForm.Translation,
							600.0f,
							2.0f,
							&Volume,
							&Pan,
							&Frequency);*/

					Qpo->Sound_Play(Medias->S_RenzouFireDouble, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = player[g_Player]->EnergyTargetLock;
						Q_SEnergy->SEnergy[_->NomSEnergy].TargetID = player[g_Player]->EnergyLockID;
						if(player[g_Player]->EnergyTargetLock == 1)
							{
							player[g_Player]->EnergyDisplayLock = 1;
							player[g_Player]->EnergyDisplayAlpha = 80;
							player[g_Player]->EnergyDisplayColor = 255;
							player[g_Player]->EnergyDisplayScale = 0.22;
							}
						}
					else Q_SEnergy->SEnergy[_->NomSEnergy].TargetLock = 0;

					_->NomSEnergy++;

					/*Q_ValidPointer->ValidPointer[NomValidPointer].AvID = -1;
					Q_ValidPointer->ValidPointer[NomValidPointer].Scale = 250;
					Q_ValidPointer->ValidPointer[NomValidPointer].Alpha = 255;
					Q_ValidPointer->ValidPointer[NomValidPointer].Type = VP_TYPE_VECTOR;
					Q_ValidPointer->ValidPointer[NomValidPointer].Live = 1;

					Q_ValidPointer->ValidPointer[NomValidPointer].Pos = Q_SEnergy->SEnergy[_->NomSEnergy - 1].LightPos;						//Position of the light and the energy in world space
					Q_ValidPointer->ValidPointer[NomValidPointer].TraVec = Q_SEnergy->SEnergy[_->NomSEnergy - 1].TraVec;

					if(NomValidPointer + 1 < MaxNomValidPointer) NomValidPointer++;*/
					}

				//#####  - Targeting System -  #####

				//### Paint Laser
				if(player[g_Player]->EnergyDisplayLock == 0)
					{
					player[g_Player]->In = player[g_Player]->InStore;
					//player[g_Player]->In.y += 0.25;

					Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPos.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest_Avatar(
						 NULL,
						 NULL,
						 &player[g_Player]->AttPos.Translation,
						 &player[g_Player]->OAttPos.Translation,
						 // GE_CONTENTS_CANNOT_OCCUPY
						 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
						 0xffffffff, NULL, NULL,
						 &player[g_Player]->Collision, -1) && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
						{
						// Set the new pos to the point of collision
						player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
						}


					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->NomEnergyTargets = 0;
					
					helly = 0;	//#####-- Verify Team Status to get Possible Targets 'ENEMY' --#####
					while(helly < _->NomAI)
						{
						if(Q_Forge->Forge[helly].LIVE == 1)
							{
							if(Q_Forge->Forge[helly].Team != player[g_Player]->Team)
								{
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
									{
									player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
									player[g_Player]->EnergyCloseID = helly;
									}
								player[g_Player]->NomEnergyTargets++;
								}
							}
						helly++;
						}
					}


				//##### Show Target Laser End
				if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
				else player[g_Player]->EnergyTargetLaserAlpha = 170;

				player[g_Player]->LaserLV.a = player[g_Player]->EnergyTargetLaserAlpha;
				player[g_Player]->LaserLV.r = 255;
				player[g_Player]->LaserLV.g = 255;
				player[g_Player]->LaserLV.b = 0;
				player[g_Player]->LaserLV.x = player[g_Player]->Collision.Impact.m_X;
				player[g_Player]->LaserLV.y = player[g_Player]->Collision.Impact.m_Y;
				player[g_Player]->LaserLV.z = player[g_Player]->Collision.Impact.m_Z;

				Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
				
				if(player[g_Player]->EnergyDisplayLock == 1)
					{
					if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				//#### Show Target Locks
				/*if(player[g_Player]->EnergyCloseDist != 0 && player[g_Player]->EnergyDisplayLock == 0)
					{
					player[g_Player]->EnergyTargetLock = 1;
					player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
					
					player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
					player[g_Player]->LaserLV.r = 255;
					player[g_Player]->LaserLV.g = player[g_Player]->EnergyDisplayColor;
					player[g_Player]->LaserLV.b = 0;
					player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
					player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
					player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;

					Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
					}*/


				if(player[g_Player]->blendamount[78]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[78] += 0.5*_->TimeScale;

				if(player[g_Player]->attposecnt>=0.43 && player[g_Player]->attposecnt<=0.51)
					{
					Q.ColldetMelee(12,0.43,0.51,0.51,2,3,1);
					player[g_Player]->HitLethal = 1;
					player[g_Player]->BlowHeight = 3;
					}
				else player[g_Player]->HitLethal = 0;
				}break;


			case 200:	//Cleric Heal
				{
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, false);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, false);
				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);

				if(player[g_Player]->attposecnt > 0.70 && player[g_Player]->attposecnt < 1.635)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
					Qpo->Transform_GetUp(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneIn);
					Qpo->Transform_GetLeft(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneLeft);
					Qpo->Vec3d_Inverse(&player[g_Player]->Cleric.BoneLeft);

					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.BoneMatrix.Translation, 2.25, &player[g_Player]->Cleric.BoneLeft, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 1.5, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, -25, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameEndPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 25*((player[g_Player]->attposecnt-0.7)/0.63), &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.EffectPos);

					//## Charge The Heal
					//player[g_Player]->Cleric.EffChargeTimer++;
					//if(player[g_Player]->attposecnt >= 1.33 && player[g_Player]->Cleric.EffChargeTimer < 45) player[g_Player]->attposecnt = 1.33;

					Q.ShowLine(&player[g_Player]->Cleric.FlameStartPos, &player[g_Player]->Cleric.FlameEndPos, &player[g_Player]->ViewXForm.Translation, 30, Medias->flame[player[g_Player]->Cleric.MatCount], 255, 255, 255, 255, 0);

					if(player[g_Player]->attposecnt <= 1.375)
						{
						if(player[g_Player]->Cleric.MatCount + 1 > 15) player[g_Player]->Cleric.MatCount = 6;
						else player[g_Player]->Cleric.MatCount += 1;
						}
					else
						{
						if(player[g_Player]->Cleric.MatCount > 5) player[g_Player]->Cleric.MatCount = 5;
						if(player[g_Player]->Cleric.MatCount - 1 > 0) player[g_Player]->Cleric.MatCount -= 1;
						else player[g_Player]->Cleric.MatCount = 0;
						}

					if(player[g_Player]->Cleric.HSparkInit == 0 && _->NetworkOption != 1)
						{
						player[g_Player]->Cleric.HSparkInit = 1;

						//## Heal Sparks
						helly = 0;
						player[g_Player]->Cleric.HSparkNOM = 0;
						while(helly < (1 + (50 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[1].Amount/5000))))
							{
							Q_HealSpark->HealSpark[_->NomHSpark].Pos = player[g_Player]->Cleric.FlameStartPos;
							Q_HealSpark->HealSpark[_->NomHSpark].OldPos = Q_HealSpark->HealSpark[_->NomHSpark].Pos;	//EDIT

							Q_HealSpark->HealSpark[_->NomHSpark].Light = Qpo->Light_AddtoWorld(_->GenericLightPos);
							Q_HealSpark->HealSpark[_->NomHSpark].LightColor.red = 255;
							Q_HealSpark->HealSpark[_->NomHSpark].LightColor.green = 255;
							Q_HealSpark->HealSpark[_->NomHSpark].LightColor.blue = 255;
							Q_HealSpark->HealSpark[_->NomHSpark].LightON = 1;

							Q_HealSpark->HealSpark[_->NomHSpark].AlpFade = 255;

							Q_HealSpark->HealSpark[_->NomHSpark].TimerGoal = 1000;

							Qpo->Vec3d_New(&Q_HealSpark->HealSpark[_->NomHSpark].TraVec);

							Q_HealSpark->HealSpark[_->NomHSpark].TraVec.x = 0;
							Q_HealSpark->HealSpark[_->NomHSpark].TraVec.y = -1;
							Q_HealSpark->HealSpark[_->NomHSpark].TraVec.z = 0;

							Q_HealSpark->HealSpark[_->NomHSpark].Speed = 5 + (200 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[1].Speed / 5000));
							Q_HealSpark->HealSpark[_->NomHSpark].Scale = 5;
							Q_HealSpark->HealSpark[_->NomHSpark].ScaleSTR = 5;

							//EDIT
							Qpo->Vec3d_AddScaled(&Q_HealSpark->HealSpark[_->NomHSpark].Pos, Q_HealSpark->HealSpark[_->NomHSpark].Speed*_->TimeScale, &Q_HealSpark->HealSpark[_->NomHSpark].TraVec, &Q_HealSpark->HealSpark[_->NomHSpark].Pos);

							Q_HealSpark->HealSpark[_->NomHSpark].Gravity = 0.001;

							Q_HealSpark->HealSpark[_->NomHSpark].Bounce = 0;
							Q_HealSpark->HealSpark[_->NomHSpark].Live = 1;

							Q_HealSpark->HealSpark[_->NomHSpark].Released = 0;
							Q_HealSpark->HealSpark[_->NomHSpark].Absorbed = 0;

							Q_HealSpark->HealSpark[_->NomHSpark].HTYPE = 0;
							Q_HealSpark->HealSpark[_->NomHSpark].AvID = 250;

							player[g_Player]->Cleric.HSparkID[helly] = _->NomHSpark;
							player[g_Player]->Cleric.HSparkNOM++;

							SCRAM=0;
							while(SCRAM < 15 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
								{
								Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
								Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;
								Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.032f;
								Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 57;

								Q_PntSprite->PntSprite[_->NomPntSprite].IR = 255;
								Q_PntSprite->PntSprite[_->NomPntSprite].IG = 255;
								Q_PntSprite->PntSprite[_->NomPntSprite].IB = 255;

								Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 75;
								Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 0.1;
								Q_PntSprite->PntSprite[_->NomPntSprite].Pos = Q_HealSpark->HealSpark[_->NomHSpark].Pos;

								Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
								Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
								Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

								Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += (((float)rand() / 32767)-0.5)*1;
								Q_PntSprite->PntSprite[_->NomPntSprite].Pos.y += (((float)rand() / 32767)-0.5)*1;
								Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += (((float)rand() / 32767)-0.5)*1;

								Q_PntSprite->PntSprite[_->NomPntSprite].AvID = Q_HealSpark->HealSpark[_->NomHSpark].AvID;

								Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

								_->NomPntSprite++;
								SCRAM++;
								}

							_->NomHSpark++;
							helly++;
							}
						}

					if(_->NetworkOption != 1)
						{
						SHADOW = 0;
						while(SHADOW < player[g_Player]->Cleric.HSparkNOM)
							{
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos = player[g_Player]->Cleric.FlameStartPos;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].OldPos = Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].AlpFade = 255;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TimerGoal = 1000;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec.x = 0;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec.y = -1;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec.z = 0;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Speed = 10;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Scale = 5;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].ScaleSTR = 5;

							Qpo->Vec3d_AddScaled(&Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos, Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Speed*_->TimeScale, &Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec, &Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos);
							SHADOW++;
							}
						}
					}

				if(player[g_Player]->attposecnt > 1.635 && player[g_Player]->Cleric.HSparkInit == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
					Qpo->Transform_GetUp(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneIn);
					Qpo->Transform_GetLeft(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneLeft);
					Qpo->Vec3d_Inverse(&player[g_Player]->Cleric.BoneLeft);

					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.BoneMatrix.Translation, 2.25, &player[g_Player]->Cleric.BoneLeft, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 1.5, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, -25, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameEndPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 25*((player[g_Player]->attposecnt-0.7)/0.63), &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.EffectPos);

					SHADOW = 0;
					while(SHADOW < player[g_Player]->Cleric.HSparkNOM)
						{
						Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Released = 1;
						Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec = player[g_Player]->Cleric.BoneIn;
						Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos = player[g_Player]->Cleric.FlameStartPos;
						SHADOW++;
						}

					player[g_Player]->Cleric.HSparkInit = 2;

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						SHADOW = 0;
						while(SHADOW < player[g_Player]->Cleric.HSparkNOM)
							{
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].HealTarget = player[g_Player]->EnergyLockID;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].DisplayAlpha = 100;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].DisplayColor = 255;
							SHADOW++;
							}

						player[g_Player]->EnergyDisplayLock = 1;
						}
					else
						{
						//Live to Zero need to reorder array here
						/*if(_->NetworkOption != 1)
							{
							SCRAM=0;
							while(SCRAM < 3)
								{
								Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SCRAM]].Live = 0;
								if(Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SCRAM]].LightON == 1) Qpo->Light_Remove(Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SCRAM]].Light);

								//### Array Reorder
								K = player[g_Player]->Cleric.HSparkID[SCRAM];
								while(K < _->NomHSpark - 1)
									{
									Q_HealSpark->HealSpark[K] = Q_HealSpark->HealSpark[K+1];
									K++;
									}

								_->NomHSpark--;

								SCRAM++;
								}
							}*/
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.045*_->TimeScale) < 2.10) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.045*_->TimeScale;	//0.15
				else
					{
					player[g_Player]->HealInit = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[66] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->Cleric.HSparkInit = 0;

					player[g_Player]->EnergyDisplayLock = 0;
					player[g_Player]->EnergyDisplayAlpha = 80;
					player[g_Player]->EnergyDisplayColor = 255;
					player[g_Player]->EnergyDisplayScale = 0.37;
					player[g_Player]->EnergyTargetLock = 0;
					player[g_Player]->EnergyLockID = 0;
					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->EnergyCloseID = 0;
					player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				if(player[g_Player]->EnergyDisplayLock == 0)
					{
					player[g_Player]->In = player[g_Player]->InStore;
					//player[g_Player]->In.y += 0.25;

					Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPos.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest(
						 NULL,
						 NULL,
						 &player[g_Player]->AttPos.Translation,
						 &player[g_Player]->OAttPos.Translation,
						 // GE_CONTENTS_CANNOT_OCCUPY
						 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
						 0xffffffff, NULL, NULL,
						 &player[g_Player]->Collision))
						{
						if(player[g_Player]->Collision.Avatar != 0)
							{
							if(player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
								{
								// Set the new pos to the point of collision
								player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
								}
							}
						}

					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->NomEnergyTargets = 0;

					//## Store Target ID
					player[g_Player]->EnergyTARGETIDSTR = player[g_Player]->EnergyCloseID;
					
					helly = 0;	//#####-- Verify Team Status to get Possible Targets 'FRIENDLY' --#####
					while(helly < _->NomAI)
						{
						if(Q_Forge->Forge[helly].LIVE == 1)
							{
							if(Q_Forge->Forge[helly].Team == player[g_Player]->Team)
								{
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
									{
									player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
									player[g_Player]->EnergyCloseID = helly;
									}
								player[g_Player]->NomEnergyTargets++;
								}
							}
						helly++;
						}

					//#### Check for Self HEAL
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = 250;
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = playerAV[g_Player]->Xform.Translation;
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
					if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
						{
						player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
						player[g_Player]->EnergyCloseID = 250;
						}
					player[g_Player]->NomEnergyTargets++;

					//### New or old Target
					if(player[g_Player]->EnergyCloseID == player[g_Player]->EnergyTARGETIDSTR) player[g_Player]->EnergyDisplayScale = 0.22;
					}

				//##### Show Target Laser End
				if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
				else player[g_Player]->EnergyTargetLaserAlpha = 170;

				player[g_Player]->LaserLV.a = player[g_Player]->EnergyTargetLaserAlpha;
				player[g_Player]->LaserLV.r = 255;
				player[g_Player]->LaserLV.g = 255;
				player[g_Player]->LaserLV.b = 0;
				player[g_Player]->LaserLV.x = player[g_Player]->OAttPos.Translation.x;
				player[g_Player]->LaserLV.y = player[g_Player]->OAttPos.Translation.y;
				player[g_Player]->LaserLV.z = player[g_Player]->OAttPos.Translation.z;

				Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
				
				if(player[g_Player]->EnergyDisplayLock == 1)
					{
					if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				//#### Show Target Locks
				if(player[g_Player]->EnergyCloseDist != 0 /*&& player[g_Player]->EnergyDisplayLock == 0*/)
					{
					if(player[g_Player]->EnergyDisplayScale + 0.015 < 0.37) player[g_Player]->EnergyDisplayScale += 0.015;
					else player[g_Player]->EnergyDisplayScale = 0.37;

					player[g_Player]->EnergyTargetLock = 1;
					player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
					
					if(player[g_Player]->EnergyCloseID == 250)
						{
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 0;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = playerAV[g_Player]->Xform.Translation.x;
						player[g_Player]->LaserLV.y = playerAV[g_Player]->Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = playerAV[g_Player]->Xform.Translation.z;
						}
					else
						{
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 0;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
						player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;
						}

					Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
					}

				if(player[g_Player]->blendamount[66]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[66] += 0.5*_->TimeScale;	//0.055
				}break;


			case 202:	//### Energy Grab
				{
				Qpo->Avatar_SetPose_LeftArm(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, false);
				Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, false);

				//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);

				if(player[g_Player]->attposecnt > 0.70 && player[g_Player]->attposecnt < 1.635)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
					Qpo->Transform_GetUp(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneIn);
					Qpo->Transform_GetLeft(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneLeft);
					Qpo->Vec3d_Inverse(&player[g_Player]->Cleric.BoneLeft);

					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.BoneMatrix.Translation, 2.25, &player[g_Player]->Cleric.BoneLeft, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 1.5, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, -25, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameEndPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 25*((player[g_Player]->attposecnt-0.7)/0.63), &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.EffectPos);

					//## Charge The Heal
					//player[g_Player]->Cleric.EffChargeTimer++;
					//if(player[g_Player]->attposecnt >= 1.33 && player[g_Player]->Cleric.EffChargeTimer < 45) player[g_Player]->attposecnt = 1.33;

					Q.ShowLine(&player[g_Player]->Cleric.FlameStartPos, &player[g_Player]->Cleric.FlameEndPos, &player[g_Player]->ViewXForm.Translation, 30, Medias->flame[player[g_Player]->Cleric.MatCount], 255, 255, 255, 255, 0);

					if(player[g_Player]->attposecnt <= 1.375)
						{
						if(player[g_Player]->Cleric.MatCount + 1 > 15) player[g_Player]->Cleric.MatCount = 6;
						else player[g_Player]->Cleric.MatCount += 1;
						}
					else
						{
						if(player[g_Player]->Cleric.MatCount > 5) player[g_Player]->Cleric.MatCount = 5;
						if(player[g_Player]->Cleric.MatCount - 1 > 0) player[g_Player]->Cleric.MatCount -= 1;
						else player[g_Player]->Cleric.MatCount = 0;
						}

					if(player[g_Player]->Cleric.HSparkInit == 0)
						{
						player[g_Player]->Cleric.HSparkInit = 1;

						//## Heal Sparks
						helly = 0;
						player[g_Player]->Cleric.HSparkNOM = 0;
						while(helly < (1 + (50 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[0].Amount/5000))))
							{
							Q_HealSpark->HealSpark[_->NomHSpark].Pos = player[g_Player]->Cleric.FlameStartPos;
							Q_HealSpark->HealSpark[_->NomHSpark].OldPos = Q_HealSpark->HealSpark[_->NomHSpark].Pos;	//EDIT
							
							Q_HealSpark->HealSpark[_->NomHSpark].Light = Qpo->Light_AddtoWorld(_->GenericLightPos);
							Q_HealSpark->HealSpark[_->NomHSpark].LightColor.red = 255;
							Q_HealSpark->HealSpark[_->NomHSpark].LightColor.green = 255;
							Q_HealSpark->HealSpark[_->NomHSpark].LightColor.blue = 255;
							Q_HealSpark->HealSpark[_->NomHSpark].LightON = 1;

							Q_HealSpark->HealSpark[_->NomHSpark].AlpFade = 255;

							Q_HealSpark->HealSpark[_->NomHSpark].TimerGoal = 1000;
											
							Qpo->Vec3d_New(&Q_HealSpark->HealSpark[_->NomHSpark].TraVec);

							Q_HealSpark->HealSpark[_->NomHSpark].Speed = 5 + (200 * (player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[0].Speed / 5000));
							Q_HealSpark->HealSpark[_->NomHSpark].Scale = 5;	//33
							Q_HealSpark->HealSpark[_->NomHSpark].ScaleSTR = 5;	//33

							//EDIT
							Qpo->Vec3d_AddScaled(&Q_HealSpark->HealSpark[_->NomHSpark].Pos, Q_HealSpark->HealSpark[_->NomHSpark].Speed*_->TimeScale, &Q_HealSpark->HealSpark[_->NomHSpark].TraVec, &Q_HealSpark->HealSpark[_->NomHSpark].Pos);

							Q_HealSpark->HealSpark[_->NomHSpark].Gravity = 0.001;	//0.035

							Q_HealSpark->HealSpark[_->NomHSpark].Bounce = 0;
							Q_HealSpark->HealSpark[_->NomHSpark].Live = 1;

							Q_HealSpark->HealSpark[_->NomHSpark].Released = 0;
							Q_HealSpark->HealSpark[_->NomHSpark].Absorbed = 0;

							Q_HealSpark->HealSpark[_->NomHSpark].HTYPE = 1;
							Q_HealSpark->HealSpark[_->NomHSpark].AvID = 250;

							player[g_Player]->Cleric.HSparkID[helly] = _->NomHSpark;
							player[g_Player]->Cleric.HSparkNOM++;

							SCRAM=0;
							while(SCRAM < 15 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
								{
								Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
								Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;
								Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.032f;
								Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 57;

								Q_PntSprite->PntSprite[_->NomPntSprite].IR = 0;
								Q_PntSprite->PntSprite[_->NomPntSprite].IG = 0;
								Q_PntSprite->PntSprite[_->NomPntSprite].IB = 0;

								Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 75;
								Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 0.1;
								Q_PntSprite->PntSprite[_->NomPntSprite].Pos = Q_HealSpark->HealSpark[_->NomHSpark].Pos;

								Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x = (((float)rand() / 32767)-0.5);
								Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y = (((float)rand() / 32767)-0.5);
								Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z = (((float)rand() / 32767)-0.5);

								Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += (((float)rand() / 32767)-0.5)*1;
								Q_PntSprite->PntSprite[_->NomPntSprite].Pos.y += (((float)rand() / 32767)-0.5)*1;
								Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += (((float)rand() / 32767)-0.5)*1;

								Q_PntSprite->PntSprite[_->NomPntSprite].AvID = Q_HealSpark->HealSpark[_->NomHSpark].AvID;

								Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

								_->NomPntSprite++;
								SCRAM++;
								}

							_->NomHSpark++;
							helly++;
							}
						}

					if(_->NetworkOption != 1)
						{
						SHADOW = 0;
						while(SHADOW < player[g_Player]->Cleric.HSparkNOM)
							{
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos = player[g_Player]->Cleric.FlameStartPos;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].OldPos = Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].AlpFade = 255;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TimerGoal = 1000;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec.x = 0;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec.y = -1;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec.z = 0;

							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Speed = 10;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Scale = 5;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].ScaleSTR = 5;

							Qpo->Vec3d_AddScaled(&Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos, Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Speed*_->TimeScale, &Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec, &Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos);
							SHADOW++;
							}
						}
					}

				if(player[g_Player]->attposecnt > 1.635 && player[g_Player]->Cleric.HSparkInit == 1)
					{
					Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
					Qpo->Transform_GetUp(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneIn);
					Qpo->Transform_GetLeft(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneLeft);
					Qpo->Vec3d_Inverse(&player[g_Player]->Cleric.BoneLeft);

					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.BoneMatrix.Translation, 2.25, &player[g_Player]->Cleric.BoneLeft, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 1.5, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameStartPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, -25, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameEndPos);
					Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 25*((player[g_Player]->attposecnt-0.7)/0.63), &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.EffectPos);

					SHADOW = 0;
					while(SHADOW < player[g_Player]->Cleric.HSparkNOM)
						{
						Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Released = 1;
						Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].TraVec = player[g_Player]->Cleric.BoneIn;
						Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].Pos = player[g_Player]->Cleric.FlameStartPos;
						SHADOW++;
						}

					player[g_Player]->Cleric.HSparkInit = 2;

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						SHADOW = 0;
						while(SHADOW < player[g_Player]->Cleric.HSparkNOM)
							{
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].HealTarget = player[g_Player]->EnergyLockID;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].DisplayAlpha = 100;
							Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SHADOW]].DisplayColor = 255;
							SHADOW++;
							}

						player[g_Player]->EnergyDisplayLock = 1;
						}
					else
						{
						//Live to Zero need to reorder array here
						/*if(_->NetworkOption != 1)
							{
							SCRAM=0;
							while(SCRAM < 3)
								{
								Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SCRAM]].Live = 0;
								if(Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SCRAM]].LightON == 1) Qpo->Light_Remove(Q_HealSpark->HealSpark[player[g_Player]->Cleric.HSparkID[SCRAM]].Light);

								//### Array Reorder
								K = player[g_Player]->Cleric.HSparkID[SCRAM];
								while(K < _->NomHSpark - 1)
									{
									Q_HealSpark->HealSpark[K] = Q_HealSpark->HealSpark[K+1];
									K++;
									}

								_->NomHSpark--;

								SCRAM++;
								}
							}*/
						}
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.045*_->TimeScale) < 2.10) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.045*_->TimeScale;	//0.15
				else
					{
					player[g_Player]->HealInit = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[66] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->Cleric.HSparkInit = 0;

					player[g_Player]->EnergyDisplayLock = 0;
					player[g_Player]->EnergyDisplayAlpha = 80;
					player[g_Player]->EnergyDisplayColor = 255;
					player[g_Player]->EnergyDisplayScale = 0.37;
					player[g_Player]->EnergyTargetLock = 0;
					player[g_Player]->EnergyLockID = 0;
					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->EnergyCloseID = 0;
					player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				if(player[g_Player]->EnergyDisplayLock == 0)
					{
					player[g_Player]->In = player[g_Player]->InStore;
					//player[g_Player]->In.y += 0.25;

					Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPos.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest(
						 NULL,
						 NULL,
						 &player[g_Player]->AttPos.Translation,
						 &player[g_Player]->OAttPos.Translation,
						 // GE_CONTENTS_CANNOT_OCCUPY
						 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
						 0xffffffff, NULL, NULL,
						 &player[g_Player]->Collision))
						{
						if(player[g_Player]->Collision.Avatar != 0)
							{
							if(player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
								{
								// Set the new pos to the point of collision
								player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
								}
							}
						}

					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->NomEnergyTargets = 0;

					//## Store Target ID
					player[g_Player]->EnergyTARGETIDSTR = player[g_Player]->EnergyCloseID;
					
					helly = 0;	//#####-- Verify Team Status to get Possible Targets 'FRIENDLY' --#####
					while(helly < _->NomAI)
						{
						if(Q_Forge->Forge[helly].LIVE == 1)
							{
							if(Q_Forge->Forge[helly].Team != player[g_Player]->Team)
								{
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
									{
									player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
									player[g_Player]->EnergyCloseID = helly;
									}
								player[g_Player]->NomEnergyTargets++;
								}
							}
						helly++;
						}

					//### New or old Target
					if(player[g_Player]->EnergyCloseID == player[g_Player]->EnergyTARGETIDSTR) player[g_Player]->EnergyDisplayScale = 0.22;
					}

				//##### Show Target Laser End
				if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
				else player[g_Player]->EnergyTargetLaserAlpha = 170;

				player[g_Player]->LaserLV.a = player[g_Player]->EnergyTargetLaserAlpha;
				player[g_Player]->LaserLV.r = 255;
				player[g_Player]->LaserLV.g = 255;
				player[g_Player]->LaserLV.b = 0;
				player[g_Player]->LaserLV.x = player[g_Player]->OAttPos.Translation.x;
				player[g_Player]->LaserLV.y = player[g_Player]->OAttPos.Translation.y;
				player[g_Player]->LaserLV.z = player[g_Player]->OAttPos.Translation.z;

				Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
				
				if(player[g_Player]->EnergyDisplayLock == 1)
					{
					if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				//#### Show Target Locks
				if(player[g_Player]->EnergyCloseDist != 0 /*&& player[g_Player]->EnergyDisplayLock == 0*/)
					{
					if(player[g_Player]->EnergyDisplayScale + 0.015 < 0.37) player[g_Player]->EnergyDisplayScale += 0.015;
					else player[g_Player]->EnergyDisplayScale = 0.37;

					player[g_Player]->EnergyTargetLock = 1;
					player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
					
					if(player[g_Player]->EnergyCloseID == 250)
						{
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 0;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = playerAV[g_Player]->Xform.Translation.x;
						player[g_Player]->LaserLV.y = playerAV[g_Player]->Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = playerAV[g_Player]->Xform.Translation.z;
						}
					else
						{
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 0;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
						player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;
						}


					Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
					}

				if(player[g_Player]->blendamount[66]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[66] += 0.5*_->TimeScale;	//0.055
				}break;


			case 203:	//Cleric Spells
				{
				Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[60]);

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.045*_->TimeScale) < 2.10) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.045*_->TimeScale;	//0.15
				else
					{
					player[g_Player]->HealInit = 0;
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[60] = 0;
					player[g_Player]->attackon = 0;

					player[g_Player]->EnergyDisplayLock = 0;
					player[g_Player]->EnergyDisplayAlpha = 80;
					player[g_Player]->EnergyDisplayColor = 255;
					player[g_Player]->EnergyDisplayScale = 0.37;
					player[g_Player]->EnergyTargetLock = 0;
					player[g_Player]->EnergyLockID = 0;
					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->EnergyCloseID = 0;
					player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				if(player[g_Player]->attposecnt > 0.70 && player[g_Player]->attposecnt < 1.65)
					{
					if(player[g_Player]->HealInit == 0 && _->NetworkOption != 1)
						{
						player[g_Player]->HealInit = 1;

						Q_ClericSpell->ClericSpell[_->NomSpell].HealTarget = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].HSparkInit = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].ChargeTimer = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].Live = 1;
						Q_ClericSpell->ClericSpell[_->NomSpell].LightInit = 1;
						Q_ClericSpell->ClericSpell[_->NomSpell].Light = Qpo->Light_AddtoWorld(_->GenericLightPos);
						Q_ClericSpell->ClericSpell[_->NomSpell].LightON = 1;
						Q_ClericSpell->ClericSpell[_->NomSpell].Absorbed = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].Released = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].MatCount = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].LightSpeed = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].LightRedFULL = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].LightGreenFULL = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].LightBlueFULL = 0;
						Q_ClericSpell->ClericSpell[_->NomSpell].NumSpheres = 4;
						Q_ClericSpell->ClericSpell[_->NomSpell].AvID = 250;
						Q_ClericSpell->ClericSpell[_->NomSpell].TimerCNT = player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[8 + player[g_Player]->Cleric.SpellPNTR].Duration;

						helly = 0;
						while(helly < Q_ClericSpell->ClericSpell[_->NomSpell].NumSpheres)
							{
							Q_ClericSpell->ClericSpell[_->NomSpell].Sphere[helly].Live = 1;
							Q_ClericSpell->ClericSpell[_->NomSpell].Sphere[helly].MaxRadius = 30;
							Q_ClericSpell->ClericSpell[_->NomSpell].Sphere[helly].Radius = 0;
							Q_ClericSpell->ClericSpell[_->NomSpell].Sphere[helly].StartFade = 0;
							helly++;
							}

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &Q_ClericSpell->ClericSpell[_->NomSpell].BoneMatrix);
						Q_ClericSpell->ClericSpell[_->NomSpell].SphereMatrix = Q_ClericSpell->ClericSpell[_->NomSpell].BoneMatrix;

						player[g_Player]->Cleric.SpellID[0] = _->NomSpell;
						_->NomSpell++;
						}

					//## Charge The Heal
					Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].ChargeTimer++;
					if(player[g_Player]->attposecnt >= 1.33 && Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].ChargeTimer < 85) player[g_Player]->attposecnt = 1.33;

					if(_->NetworkOption != 1)
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneMatrix);
						Qpo->Transform_GetUp(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneMatrix,  &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneIn);
						Qpo->Transform_GetLeft(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneMatrix,  &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneLeft);
						Qpo->Vec3d_Inverse(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneLeft);

						Qpo->Vec3d_AddScaled(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneMatrix.Translation, 2.25, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneLeft, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].StartPos);
						Qpo->Vec3d_AddScaled(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].StartPos, 1.5, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneIn, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].StartPos);
						Qpo->Vec3d_AddScaled(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].StartPos, -25, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneIn, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].EndPos);
						if(player[g_Player]->attposecnt <= 1.375) Qpo->Vec3d_AddScaled(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].StartPos, 25*((player[g_Player]->attposecnt-0.7)/0.63), &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].BoneIn, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightPos);

						Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightColor.red = 200.0f;
						Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightColor.green = 200.0f;
						Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightColor.blue = 255.0f;
						Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightColor.alpha = 255.0f;
						Qpo->Light_SetAttr(Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].Light, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightPos, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightColor, 150, true);

						Q.ShowLine(&Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].StartPos, &Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].EndPos, &player[g_Player]->ViewXForm.Translation, 30, Medias->flame[player[g_Player]->Cleric.MatCount], 255, 255, 255, 255, 0);
						}
					else
						{
						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
						Qpo->Transform_GetUp(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneIn);
						Qpo->Transform_GetLeft(&player[g_Player]->Cleric.BoneMatrix,  &player[g_Player]->Cleric.BoneLeft);
						Qpo->Vec3d_Inverse(&player[g_Player]->Cleric.BoneLeft);

						Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.BoneMatrix.Translation, 2.25, &player[g_Player]->Cleric.BoneLeft, &player[g_Player]->Cleric.FlameStartPos);
						Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 1.5, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameStartPos);
						Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, -25, &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.FlameEndPos);
						Qpo->Vec3d_AddScaled(&player[g_Player]->Cleric.FlameStartPos, 25*((player[g_Player]->attposecnt-0.7)/0.63), &player[g_Player]->Cleric.BoneIn, &player[g_Player]->Cleric.EffectPos);

						Q.ShowLine(&player[g_Player]->Cleric.FlameStartPos, &player[g_Player]->Cleric.FlameEndPos, &player[g_Player]->ViewXForm.Translation, 30, Medias->flame[player[g_Player]->Cleric.MatCount], 255, 255, 255, 255, 0);
						}


					if(player[g_Player]->attposecnt <= 1.375)
						{
						if(player[g_Player]->Cleric.MatCount + 1 > 15) player[g_Player]->Cleric.MatCount = 6;
						else player[g_Player]->Cleric.MatCount += 1;
						}
					else
						{
						if(player[g_Player]->Cleric.MatCount > 5) player[g_Player]->Cleric.MatCount = 5;
						if(player[g_Player]->Cleric.MatCount - 1 > 0) player[g_Player]->Cleric.MatCount -= 1;
						else player[g_Player]->Cleric.MatCount = 0;
						}
					}

				if(player[g_Player]->attposecnt > 1.65)
					{
					if(_->NetworkOption != 1) Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].Released = 1;

					if(player[g_Player]->EnergyTargetLock == 1)
						{
						Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].HealTarget = player[g_Player]->EnergyLockID;
						player[g_Player]->EnergyDisplayLock = 1;
						}
					else
						{
						Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].Live = 0;
						if(Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].LightON == 1) Qpo->Light_Remove(Q_ClericSpell->ClericSpell[player[g_Player]->Cleric.SpellID[0]].Light);

						//### Array Reorder
						int K = aero;
						while(K < _->NomSpell - 1)
							{
							Q_ClericSpell->ClericSpell[K] = Q_ClericSpell->ClericSpell[K+1];
							K++;
							}

						_->NomSpell--;
						}
					}

				if(player[g_Player]->EnergyDisplayLock == 0)
					{
					player[g_Player]->In = player[g_Player]->InStore;
					//player[g_Player]->In.y += 0.25;

					Qpo->Vec3d_AddScaled(&player[g_Player]->RFistPos.Translation, 35, &player[g_Player]->In, &player[g_Player]->AttPos.Translation);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, 2500, &player[g_Player]->In, &player[g_Player]->OAttPos.Translation);

					if(Qpo->Collision_RayTest(
						 NULL,
						 NULL,
						 &player[g_Player]->AttPos.Translation,
						 &player[g_Player]->OAttPos.Translation,
						 // GE_CONTENTS_CANNOT_OCCUPY
						 /* GE_COLLIDE_MODELS | GE_COLLIDE_ACTORS */
						 0xffffffff, NULL, NULL,
						 &player[g_Player]->Collision))
						{
						if(player[g_Player]->Collision.Avatar != 0)
							{
							if(player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[1].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[2].Avatar && player[g_Player]->Collision.Avatar != player[g_Player]->Shadows[3].Avatar && player[g_Player]->Collision.Avatar != playerAV[g_Player]->Avatar)
								{
								// Set the new pos to the point of collision
								player[g_Player]->OAttPos.Translation.acSet(player[g_Player]->Collision.Impact.m_X, player[g_Player]->Collision.Impact.m_Y, player[g_Player]->Collision.Impact.m_Z);
								}
							}
						}

					player[g_Player]->EnergyCloseDist = 0;
					player[g_Player]->NomEnergyTargets = 0;

					//## Store Target ID
					player[g_Player]->EnergyTARGETIDSTR = player[g_Player]->EnergyCloseID;
					
					helly = 0;	//#####-- Verify Team Status to get Possible Targets 'FRIENDLY' --#####
					while(helly < _->NomAI)
						{
						if(Q_Forge->Forge[helly].LIVE == 1)
							{
							if(Q_Forge->Forge[helly].Team == player[g_Player]->Team)
								{
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = Q_Forge->Forge[helly].AV.Avatar.IDflag;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = Q_Forge->Forge[helly].AV.Xform.Translation;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
								player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
								if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
									{
									player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
									player[g_Player]->EnergyCloseID = helly;
									}
								player[g_Player]->NomEnergyTargets++;
								}
							}
						helly++;
						}

					//#### Check for Self HEAL
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].AV_ID = 250;
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position = playerAV[g_Player]->Xform.Translation;
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position.y += 65;
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance = Qpo->Vec3d_DistanceBetween( &player[g_Player]->AttPos.Translation, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
					Qpo->Vec3d_AddScaled(&player[g_Player]->AttPos.Translation, player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Distance, &player[g_Player]->InStore, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos);
					player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser = Qpo->Vec3d_DistanceBetween( &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].TargetLaserPos, &player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].Position);
					if(((player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < player[g_Player]->EnergyCloseDist) || player[g_Player]->EnergyCloseDist == 0) && player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser < 800)
						{
						player[g_Player]->EnergyCloseDist = player[g_Player]->PossEnergyTargets[player[g_Player]->NomEnergyTargets].DistFromLaser;
						player[g_Player]->EnergyCloseID = 250;
						}
					player[g_Player]->NomEnergyTargets++;

					//### New or old Target
					if(player[g_Player]->EnergyCloseID == player[g_Player]->EnergyTARGETIDSTR) player[g_Player]->EnergyDisplayScale = 0.22;
					}

				//##### Show Target Laser End
				if(player[g_Player]->EnergyTargetLaserAlpha + 40 <= 170) player[g_Player]->EnergyTargetLaserAlpha += 40;
				else player[g_Player]->EnergyTargetLaserAlpha = 170;

				player[g_Player]->LaserLV.a = player[g_Player]->EnergyTargetLaserAlpha;
				player[g_Player]->LaserLV.r = 255;
				player[g_Player]->LaserLV.g = 255;
				player[g_Player]->LaserLV.b = 0;
				player[g_Player]->LaserLV.x = player[g_Player]->OAttPos.Translation.x;
				player[g_Player]->LaserLV.y = player[g_Player]->OAttPos.Translation.y;
				player[g_Player]->LaserLV.z = player[g_Player]->OAttPos.Translation.z;

				Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, 0.22f);
				
				if(player[g_Player]->EnergyDisplayLock == 1)
					{
					if(player[g_Player]->EnergyTargetLaserAlpha - 40 >= 0) player[g_Player]->EnergyTargetLaserAlpha -= 40;
					else player[g_Player]->EnergyTargetLaserAlpha = 0;
					}

				//#### Show Target Locks
				if(player[g_Player]->EnergyCloseDist != 0 /*&& player[g_Player]->EnergyDisplayLock == 0*/)
					{
					if(player[g_Player]->EnergyDisplayScale + 0.015 < 0.55) player[g_Player]->EnergyDisplayScale += 0.015;
					else player[g_Player]->EnergyDisplayScale = 0.55;

					player[g_Player]->EnergyTargetLock = 1;
					player[g_Player]->EnergyLockID = player[g_Player]->EnergyCloseID;
					
					if(player[g_Player]->EnergyCloseID == 250)
						{
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = playerAV[g_Player]->Xform.Translation.x;
						player[g_Player]->LaserLV.y = playerAV[g_Player]->Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = playerAV[g_Player]->Xform.Translation.z;
						}
					else
						{
						player[g_Player]->LaserLV.a = player[g_Player]->EnergyDisplayAlpha;
						player[g_Player]->LaserLV.r = 255;
						player[g_Player]->LaserLV.g = 255;
						player[g_Player]->LaserLV.b = 255;
						player[g_Player]->LaserLV.x = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.x;
						player[g_Player]->LaserLV.y = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.y + 65;
						player[g_Player]->LaserLV.z = Q_Forge->Forge[player[g_Player]->EnergyCloseID].Xform.Translation.z;
						}

					Qpo->Poly_AddOnce(&player[g_Player]->LaserLV, 1, Medias->reticuleE, QPOLY_TYPE_PNT, QPOLY_REND_NO_OCCLUDE, player[g_Player]->EnergyDisplayScale);
					}

				if(player[g_Player]->blendamount[60]+ (0.5*_->TimeScale) <=1) player[g_Player]->blendamount[60] += 0.5*_->TimeScale;	//0.055
				}break;


			case 204:	//Cleric Plasma Ejector
				{
				if(player[g_Player]->Mposestate == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 66, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);
				else
					{
					//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, false);
					}

				if(player[g_Player]->attposecnt > 1.70 && player[g_Player]->EnergyInitialise == 0)
					{
					player[g_Player]->EnergyInitialise = 1;

					if(_->NetworkOption != 1)
						{
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Alpha = 115;
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Speed = 0.7 + (100 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[2].Speed / 5000) + 1) * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[2].Speed / 5000) + 1)) - 1));
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].AvID = 250;
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].PartType = 0;
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].CNTR = 0;

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Pos = player[g_Player]->Cleric.BoneMatrix.Translation;

						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &Q_ClericPlasma->ClericPlasma[_->NomPlasma].TraVec);
						//Q_ClericPlasma->ClericPlasma[_->NomPlasma].TraVec.y += 0.25;

						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Light = Qpo->Light_AddtoWorld(_->GenericLightPos);
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].LightON = 1;

						Q_ClericPlasma->ClericPlasma[_->NomPlasma].TIMER = 0;

						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Live = 1;
						}

					SCRAM=0;
					while(SCRAM < 15 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.052f;
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 58;

						Q_PntSprite->PntSprite[_->NomPntSprite].IR = 80;
						Q_PntSprite->PntSprite[_->NomPntSprite].IG = 0;
						Q_PntSprite->PntSprite[_->NomPntSprite].IB = 180;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 75;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 5 * (SCRAM/15);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = Q_ClericPlasma->ClericPlasma[_->NomPlasma].Pos;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec = Q_ClericPlasma->ClericPlasma[_->NomPlasma].TraVec;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x += ((((float)rand() / 32767)-0.5)*0.1);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y += ((((float)rand() / 32767)-0.5)*0.1);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z += ((((float)rand() / 32767)-0.5)*0.1);

						Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += (((float)rand() / 32767)-0.5)*1;
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos.y += (((float)rand() / 32767)-0.5)*1;
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += (((float)rand() / 32767)-0.5)*1;

						Q_PntSprite->PntSprite[_->NomPntSprite].AvID = Q_ClericPlasma->ClericPlasma[_->NomPlasma].AvID;

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						SCRAM++;
						}

					_->NomPlasma++;

					

					Qpo->Sound_Play(Medias->S_CPlasma, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.03*_->TimeScale) < 1.88) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.03*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[66] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->EnergyInitialise = 0;
					}

				if(player[g_Player]->blendamount[66]+ (0.2*_->TimeScale) <=1) player[g_Player]->blendamount[66] += 0.2*_->TimeScale;
				}break;


			case 208:	//Cleric Offensive Plasma Ejector
				{
				if(player[g_Player]->Mposestate == 0) Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 66, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);
				else
					{
					//Qpo->Avatar_BlendPose(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, &playerAV[g_Player]->Xform, player[g_Player]->blendamount[66]);
					Qpo->Avatar_SetPose_RightArm(playerAV[g_Player]->Avatar, 65, player[g_Player]->attposecnt, false);
					}

				if(player[g_Player]->attposecnt > 1.70 && player[g_Player]->EnergyInitialise == 0)
					{
					player[g_Player]->EnergyInitialise = 1;

					if(_->NetworkOption != 1)
						{
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Alpha = 115;
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Speed = 0.7 + (150 * ((((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[3].Speed / 5000) + 1) * ((player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].CLSClericSKILL[3].Speed / 5000) + 1)) - 1));
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].AvID = 250;
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].PartType = 1;
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].CNTR = 0;

						Qpo->Avatar_GetBoneTransform(playerAV[g_Player].operator ->(), "BIP01 R HAND", &player[g_Player]->Cleric.BoneMatrix);
						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Pos = player[g_Player]->Cleric.BoneMatrix.Translation;

						Qpo->Transform_AvatarGetIn(&playerAV[g_Player]->Xform, /*ORIG GetLeft*/ &Q_ClericPlasma->ClericPlasma[_->NomPlasma].TraVec);
						//Q_ClericPlasma->ClericPlasma[_->NomPlasma].TraVec.y += 0.25;

						Q_ClericPlasma->ClericPlasma[_->NomPlasma].TIMER = 0;

						Q_ClericPlasma->ClericPlasma[_->NomPlasma].Live = 1;
						}

					SCRAM=0;
					while(SCRAM < 15 && (_->NomPntSprite < Q_PntSprite->m_ArrayMx))
						{
						Q_PntSprite->PntSprite[_->NomPntSprite].Type = QPOLY_TYPE_PNT;
						Q_PntSprite->PntSprite[_->NomPntSprite].RenderFlags = QPOLY_REND_NO_OCCLUDE;
						Q_PntSprite->PntSprite[_->NomPntSprite].Scale = 0.022f;
						Q_PntSprite->PntSprite[_->NomPntSprite].PartType = 58;

						Q_PntSprite->PntSprite[_->NomPntSprite].IR = 0;
						Q_PntSprite->PntSprite[_->NomPntSprite].IG = 0;
						Q_PntSprite->PntSprite[_->NomPntSprite].IB = 0;

						Q_PntSprite->PntSprite[_->NomPntSprite].Alpha = 75;
						Q_PntSprite->PntSprite[_->NomPntSprite].Speed = 5 * (SCRAM/15);
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos = Q_ClericPlasma->ClericPlasma[_->NomPlasma].Pos;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec = Q_ClericPlasma->ClericPlasma[_->NomPlasma].TraVec;

						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.x += ((((float)rand() / 32767)-0.5)*0.1);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.y += ((((float)rand() / 32767)-0.5)*0.1);
						Q_PntSprite->PntSprite[_->NomPntSprite].TraVec.z += ((((float)rand() / 32767)-0.5)*0.1);

						Q_PntSprite->PntSprite[_->NomPntSprite].Pos.x += (((float)rand() / 32767)-0.5)*1;
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos.y += (((float)rand() / 32767)-0.5)*1;
						Q_PntSprite->PntSprite[_->NomPntSprite].Pos.z += (((float)rand() / 32767)-0.5)*1;

						Q_PntSprite->PntSprite[_->NomPntSprite].AvID = Q_ClericPlasma->ClericPlasma[_->NomPlasma].AvID;

						Q_PntSprite->PntSprite[_->NomPntSprite].Live = 1;

						_->NomPntSprite++;
						SCRAM++;
						}

					_->NomPlasma++;

					

					Qpo->Sound_Play(Medias->S_CPlasma, _->Volume, _->Pan, _->S_TimeScale, false, &playerAV[g_Player]->Xform.Translation); //campos
					}

				if(player[g_Player]->attposecnt + player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *(0.08*_->TimeScale) < 1.88) player[g_Player]->attposecnt += player[g_Player]->BFO.CharDATA[player[g_Player]->BFO.CurrCHAR].BodySKILL.RELQuickness *0.08*_->TimeScale;
				else
					{
					player[g_Player]->attposecnt = 0;
					player[g_Player]->Aposestate = 0;
					player[g_Player]->blendamount[0] = 0;
					player[g_Player]->blendamount[66] = 0;
					player[g_Player]->attackon = 0;
					player[g_Player]->EnergyInitialise = 0;
					}

				if(player[g_Player]->blendamount[66]+ (0.2*_->TimeScale) <=1) player[g_Player]->blendamount[66] += 0.2*_->TimeScale;
				}break;

			}//END player[g_Player]->Aposestate

		}//END player[g_Player]->attackon

	if(player[g_Player]->WeaponStatus > 2 && !player[g_Player]->CrouchInit && player[g_Player]->Mposestate != 23 && player[g_Player]->Mposestate != 24) Qpo->Avatar_SetPivot(playerAV[g_Player]->Avatar, 37, 0.75, NULL);
	}

};